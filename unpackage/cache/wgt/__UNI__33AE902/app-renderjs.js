var __renderjsModules={};
__renderjsModules.a5d206f8=(()=>{var d=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var F=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var n in t)d(e,n,{get:t[n],enumerable:!0})},D=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of z(t))!F.call(e,i)&&i!==n&&d(e,i,{get:()=>t[i],enumerable:!(r=S(t,i))||r.enumerable});return e};var O=e=>D(d({},"__esModule",{value:!0}),e);var J={};C(J,{default:()=>q});var u={};var h={version:"2.7.11",delayTime:100,errorUpdateKey:"z-paging-error-emit",completeUpdateKey:"z-paging-complete-emit",cachePrefixKey:"z-paging-cache",listCellIndexKey:"zp_index",listCellIndexUniqueKey:"zp_unique_index"};var m="Z-PAGING-REFRESHER-TIME-STORAGE-KEY",c=null,p=!1,f={};function I(e,t){return()=>{if(H(),!c)return t;let n=c[e];return n===void 0?t:n}}function Y(e){let t=null;if(e.touches&&e.touches.length)t=e.touches[0];else if(e.changedTouches&&e.changedTouches.length)t=e.changedTouches[0];else if(e.datail&&e.datail!={})t=e.datail;else return{touchX:0,touchY:0};return{touchX:t.clientX,touchY:t.clientY}}function T(e){if(e&&e.tagName&&e.tagName!=="BODY"&&e.tagName!=="UNI-PAGE-BODY"){let t=e.classList;return t&&t.contains("z-paging-content")?{isFromZp:!0,isPageScroll:t.contains("z-paging-content-page"),isReachedTop:t.contains("z-paging-reached-top"),isUseChatRecordMode:t.contains("z-paging-use-chat-record-mode")}:T(e.parentNode)}else return{isFromZp:!1}}function y(e){return e?e.$refs.paging?e:y(e.$parent):null}function v(e){console.error(`[z-paging]${e}`)}function E(e,t=h.delayTime,n){let r=setTimeout(e,t);return n&&(f[n]&&clearTimeout(f[n]),f[n]=r),r}function b(e,t){let n=w()||{};n[t]=e,uni.setStorageSync(m,n)}function w(){return uni.getStorageSync(m)}function L(e){let t=w();return t&&t[e]?t[e]:null}function A(e,t){let n=L(e),r=n?j(n,t):t.none;return`${t.title}${r}`}function N(e){if(Object.prototype.toString.call(e)==="[object Number]")return e;let n=!1;return e.indexOf("rpx")!==-1||e.indexOf("upx")!==-1?(e=e.replace("rpx","").replace("upx",""),n=!0):e.indexOf("px")!==-1&&(e=e.replace("px","")),isNaN(e)?0:Number(n?uni.upx2px(e):e)}function x(){return new Date().getTime()}function U(){let e=[],t="0123456789abcdef";for(let n=0;n<10;n++)e[n]=t.substr(Math.floor(Math.random()*16),1);return e.join("")+x()}function Z(e){return new Promise(t=>{setTimeout(t,e)})}function K(e){return Object.prototype.toString.call(e)==="[object Promise]"}function M(e,t){if(Object.prototype.toString.call(e)==="[object String]"){let n=e;n=n.replace("rpx","").replace("upx","").replace("px",""),e.indexOf("rpx")===-1&&e.indexOf("upx")===-1&&e.indexOf("px")!==-1&&(n=parseFloat(n)*2),e=n}return t==="rpx"?e+"rpx":e/2+"px"}function P(e){if(typeof e!="object"||e===null)return e;let t=Array.isArray(e)?[]:{};for(let n in e)e.hasOwnProperty(n)&&(t[n]=P(e[n]));return t}function H(){p||(u&&Object.keys(u).length&&(c=u),!c&&uni.$zp&&(c=uni.$zp.config),c=c?Object.keys(c).reduce((e,t)=>(e[X(t)]=c[t],e),{}):null,p=!0)}function j(e,t){let n=new Date(e),r=new Date,i=new Date(e).setHours(0,0,0,0),$=new Date().setHours(0,0,0,0),g=i-$,s="",_=G(n);return g===0?s=t.today:g===-864e5?s=t.yesterday:s=B(n,n.getFullYear()!==r.getFullYear()),`${s} ${_}`}function B(e,t=!0){let n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();return t?`${n}-${a(r)}-${a(i)}`:`${a(r)}-${a(i)}`}function G(e){let t=e.getHours(),n=e.getMinutes();return`${a(t)}:${a(n)}`}function a(e){return e=e.toString(),e.length===1?"0"+e:e}function X(e){return e.replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}var l={gc:I,setRefesrherTime:b,getRefesrherFormatTimeByKey:A,getTouch:Y,getTouchFromZPaging:T,getParent:y,convertToPx:N,getTime:x,getInstanceId:U,consoleErr:v,delay:E,wait:Z,isPromise:K,addUnit:M,deepCopy:P};var o={startY:0,isTouchFromZPaging:!1,isUsePageScroll:!1,isReachedTop:!0,isIosAndH5:!1,useChatRecordMode:!1,appLaunched:!1},R={mounted(){window&&(this._handleTouch(),this.$ownerInstance.callMethod("_handlePageLaunch"))},methods:{renderPropIsIosAndH5Change(e){e!==-1&&(o.isIosAndH5=e)},_handleTouch(){window.$zPagingRenderJsInited||(window.$zPagingRenderJsInited=!0,window.addEventListener("touchstart",this._handleTouchstart,{passive:!0}),window.addEventListener("touchmove",this._handleTouchmove,{passive:!1}))},_handleTouchstart(e){let t=l.getTouch(e);o.startY=t.touchY;let n=l.getTouchFromZPaging(e.target);o.isTouchFromZPaging=n.isFromZp,o.isUsePageScroll=n.isPageScroll,o.isReachedTop=n.isReachedTop,o.useChatRecordMode=n.isUseChatRecordMode},_handleTouchmove(e){let n=l.getTouch(e).touchY-o.startY;o.isTouchFromZPaging&&(o.isReachedTop&&(o.useChatRecordMode?n<0:n>0)||!o.useChatRecordMode&&o.isIosAndH5&&!o.isUsePageScroll&&n<0)&&e.cancelable&&!e.defaultPrevented&&e.preventDefault()},_removeAllEventListener(){window.removeEventListener("touchstart"),window.removeEventListener("touchmove")}}};var q={name:"z-paging",mixins:[R]};return O(J);})();

__renderjsModules.f9cb76fc=(()=>{var Dt=Object.defineProperty;var ne=Object.getOwnPropertyDescriptor;var le=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var ce=(i,t)=>{for(var r in t)Dt(i,r,{get:t[r],enumerable:!0})},he=(i,t,r,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of le(t))!se.call(i,o)&&o!==r&&Dt(i,o,{get:()=>t[o],enumerable:!(e=ne(t,o))||e.enumerable});return i};var fe=i=>he(Dt({},"__esModule",{value:!0}),i);var Di={};ce(Di,{default:()=>Fi});var bt={version:"v2.5.0-20230101",yAxisWidth:15,xAxisHeight:22,padding:[10,10,10,10],rotate:!1,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,titleFontSize:20,subtitleFontSize:15,radarLabelTextMargin:13},k=function(i,...t){if(i==null)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!t||t.length<=0)return i;function r(e,o){for(let a in o)e[a]=e[a]&&e[a].toString()==="[object Object]"?r(e[a],o[a]):e[a]=o[a];return e}return t.forEach(e=>{i=r(i,e)}),i},ht={toFixed:function(t,r){return r=r||2,this.isFloat(t)&&(t=t.toFixed(r)),t},isFloat:function(t){return t%1!==0},approximatelyEqual:function(t,r){return Math.abs(t-r)<1e-10},isSameSign:function(t,r){return Math.abs(t)===t&&Math.abs(r)===r||Math.abs(t)!==t&&Math.abs(r)!==r},isSameXCoordinateArea:function(t,r){return this.isSameSign(t.x,r.x)},isCollision:function(t,r){t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height,r.end={},r.end.x=r.start.x+r.width,r.end.y=r.start.y-r.height;var e=r.start.x>t.end.x||r.end.x<t.start.x||r.end.y>t.start.y||r.start.y<t.end.y;return!e}};function M(i,t){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=i.replace(r,function(n,p,c,h){return p+p+c+c+h+h}),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),a=parseInt(o[1],16),l=parseInt(o[2],16),s=parseInt(o[3],16);return"rgba("+a+","+l+","+s+","+t+")"}function Nt(i,t,r){if(isNaN(i))throw new Error("[uCharts] series\u6570\u636E\u9700\u4E3ANumber\u683C\u5F0F");r=r||10,t=t||"upper";for(var e=1;r<1;)r*=10,e*=10;for(t==="upper"?i=Math.ceil(i*e):i=Math.floor(i*e);i%r!==0;)if(t==="upper"){if(i==i+1)break;i++}else i--;return i/e}function de(i,t,r,e){let o=[];for(let a=0;a<i.length;a++){let l={data:[],name:t[a],color:r[a]};for(let s=0,n=e.length;s<n;s++){if(s<i[a]){l.data.push(null);continue}let p=0;for(let c=0;c<i[a];c++)p+=e[s-c][1];l.data.push(+(p/i[a]).toFixed(3))}o.push(l)}return o}function zt(i,t,r,e,o){var a=o.width-o.area[1]-o.area[3],l=r.eachSpacing*(o.chartData.xAxisData.xAxisPoints.length-1);o.type=="mount"&&o.extra&&o.extra.mount&&o.extra.mount.widthRatio&&o.extra.mount.widthRatio>1&&(o.extra.mount.widthRatio>2&&(o.extra.mount.widthRatio=2),l+=(o.extra.mount.widthRatio-1)*r.eachSpacing);var s=t;return t>=0?(s=0,i.uevent.trigger("scrollLeft"),i.scrollOption.position="left",o.xAxis.scrollPosition="left"):Math.abs(t)>=l-a?(s=a-l,i.uevent.trigger("scrollRight"),i.scrollOption.position="right",o.xAxis.scrollPosition="right"):(i.scrollOption.position=t,o.xAxis.scrollPosition=t),s}function Vt(i,t,r){function e(o){for(;o<0;)o+=2*Math.PI;for(;o>2*Math.PI;)o-=2*Math.PI;return o}return i=e(i),t=e(t),r=e(r),t>r&&(r+=2*Math.PI,i<t&&(i+=2*Math.PI)),i>=t&&i<=r}function mt(i,t){function r(h,f){return h[f-1]&&h[f+1]?h[f].y>=Math.max(h[f-1].y,h[f+1].y)||h[f].y<=Math.min(h[f-1].y,h[f+1].y):!1}function e(h,f){return h[f-1]&&h[f+1]?h[f].x>=Math.max(h[f-1].x,h[f+1].x)||h[f].x<=Math.min(h[f-1].x,h[f+1].x):!1}var o=.2,a=.2,l=null,s=null,n=null,p=null;if(t<1?(l=i[0].x+(i[1].x-i[0].x)*o,s=i[0].y+(i[1].y-i[0].y)*o):(l=i[t].x+(i[t+1].x-i[t-1].x)*o,s=i[t].y+(i[t+1].y-i[t-1].y)*o),t>i.length-3){var c=i.length-1;n=i[c].x-(i[c].x-i[c-1].x)*a,p=i[c].y-(i[c].y-i[c-1].y)*a}else n=i[t+1].x-(i[t+2].x-i[t].x)*a,p=i[t+1].y-(i[t+2].y-i[t].y)*a;return r(i,t+1)&&(p=i[t+1].y),r(i,t)&&(s=i[t].y),e(i,t+1)&&(n=i[t+1].x),e(i,t)&&(l=i[t].x),(s>=Math.max(i[t].y,i[t+1].y)||s<=Math.min(i[t].y,i[t+1].y))&&(s=i[t].y),(p>=Math.max(i[t].y,i[t+1].y)||p<=Math.min(i[t].y,i[t+1].y))&&(p=i[t+1].y),(l>=Math.max(i[t].x,i[t+1].x)||l<=Math.min(i[t].x,i[t+1].x))&&(l=i[t].x),(n>=Math.max(i[t].x,i[t+1].x)||n<=Math.min(i[t].x,i[t+1].x))&&(n=i[t+1].x),{ctrA:{x:l,y:s},ctrB:{x:n,y:p}}}function ct(i,t,r){return{x:r.x+i,y:r.y-t}}function pe(i,t){if(t)for(;ht.isCollision(i,t);)i.start.x>0?i.start.y--:i.start.x<0||i.start.y>0?i.start.y++:i.start.y--;return i}function xe(i,t,r){let e=[];if(i.length>0&&i[0].data.constructor.toString().indexOf("Array")>-1){t._pieSeries_=i;let a=i[0].data;for(var o=0;o<a.length;o++)a[o].formatter=i[0].formatter,a[o].data=a[o].value,e.push(a[o]);t.series=e}else e=i;return e}function Lt(i,t,r){for(var e=0,o=0;o<i.length;o++){let a=i[o];if(a.color||(a.color=r.color[e],e=(e+1)%r.color.length),a.linearIndex||(a.linearIndex=o),a.index||(a.index=0),a.type||(a.type=t.type),typeof a.show=="undefined"&&(a.show=!0),a.type||(a.type=t.type),a.pointShape||(a.pointShape="circle"),!a.legendShape)switch(a.type){case"line":a.legendShape="line";break;case"column":case"bar":a.legendShape="rect";break;case"area":case"mount":a.legendShape="triangle";break;default:a.legendShape="circle"}}return i}function ft(i,t,r,e){var o=t||[];if(i=="custom"&&o.length==0&&(o=e.linearColor),i=="custom"&&o.length<r.length){let l=r.length-o.length;for(var a=0;a<l;a++)o.push(e.linearColor[(a+1)%e.linearColor.length])}return o}function ue(i,t){var r=0,e=t-i;return e>=1e4?r=1e3:e>=1e3?r=100:e>=100?r=10:e>=10?r=5:e>=1?r=1:e>=.1?r=.1:e>=.01?r=.01:e>=.001?r=.001:e>=1e-4?r=1e-4:e>=1e-5?r=1e-5:r=1e-6,{minRange:Nt(i,"lower",r),maxRange:Nt(t,"upper",r)}}function X(i,t,r){var e=0;if(i=String(i),r=!1,r!==!1&&r!==void 0&&r.setFontSize&&r.measureText)return r.setFontSize(t),r.measureText(i).width;var i=i.split("");for(let a=0;a<i.length;a++){let l=i[a];/[a-zA-Z]/.test(l)?e+=7:/[0-9]/.test(l)?e+=5.5:/\./.test(l)?e+=2.7:/-/.test(l)?e+=3.25:/:/.test(l)?e+=2.5:/[\u4e00-\u9fa5]/.test(l)?e+=10:/\(|\)/.test(l)?e+=3.73:/\s/.test(l)?e+=2.5:/%/.test(l)?e+=8:e+=10}return e*t/10}function Tt(i){return i.reduce(function(t,r){return(t.data?t.data:t).concat(r.data)},[])}function Qt(i,t){for(var r=new Array(t),e=0;e<r.length;e++)r[e]=0;for(var o=0;o<i.length;o++)for(var e=0;e<r.length;e++)r[e]+=i[o].data[e];return i.reduce(function(a,l){return(a.data?a.data:a).concat(l.data).concat(r)},[])}function xt(i,t,r){let e,o;return i.clientX?t.rotate?(o=t.height-i.clientX*t.pix,e=(i.pageY-r.currentTarget.offsetTop-t.height/t.pix/2*(t.pix-1))*t.pix):(e=i.clientX*t.pix,o=(i.pageY-r.currentTarget.offsetTop-t.height/t.pix/2*(t.pix-1))*t.pix):t.rotate?(o=t.height-i.x*t.pix,e=i.y*t.pix):(e=i.x*t.pix,o=i.y*t.pix),{x:e,y:o}}function St(i,t,r){var e=[],o=[],a=t.constructor.toString().indexOf("Array")>-1;if(a){let s=te(i);for(var l=0;l<r.length;l++)o.push(s[r[l]])}else o=i;for(let s=0;s<o.length;s++){let n=o[s],p=-1;if(a?p=t[s]:p=t,n.data[p]!==null&&typeof n.data[p]!="undefined"&&n.show){let c={};c.color=n.color,c.type=n.type,c.style=n.style,c.pointShape=n.pointShape,c.disableLegend=n.disableLegend,c.legendShape=n.legendShape,c.name=n.name,c.show=n.show,c.data=n.formatter?n.formatter(n.data[p]):n.data[p],e.push(c)}}return e}function ge(i,t,r){var e=i.map(function(o){return X(o,t,r)});return Math.max.apply(null,e)}function ye(i){for(var t=2*Math.PI/i,r=[],e=0;e<i;e++)r.push(t*e);return r.map(function(o){return-1*o+Math.PI/2})}function Xt(i,t,r,e,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=t.chartData.calPoints?t.chartData.calPoints:[];let s={};if(e.length>0){let c=[];for(let h=0;h<e.length;h++)c.push(l[e[h]]);s=c[0][r[0]]}else for(let c=0;c<l.length;c++)if(l[c][r]){s=l[c][r];break}var n=i.map(function(c){let h=null;return t.categories&&t.categories.length>0&&(h=o[r]),{text:a.formatter?a.formatter(c,h,r,t):c.name+": "+c.data,color:c.color,legendShape:t.extra.tooltip.legendShape=="auto"?c.legendShape:t.extra.tooltip.legendShape}}),p={x:Math.round(s.x),y:Math.round(s.y)};return{textList:n,offset:p}}function me(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},a=t.chartData.xAxisPoints[r]+t.chartData.eachSpacing/2,l=i.map(function(n){return{text:o.formatter?o.formatter(n,e[r],r,t):n.name+": "+n.data,color:n.color,disableLegend:!!n.disableLegend,legendShape:t.extra.tooltip.legendShape=="auto"?n.legendShape:t.extra.tooltip.legendShape}});l=l.filter(function(n){if(n.disableLegend!==!0)return n});var s={x:Math.round(a),y:0};return{textList:l,offset:s}}function ve(i,t,r,e,o,a){var l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},s=r.chartData.calPoints;let n=a.color.upFill,p=a.color.downFill,c=[n,n,p,n];var h=[];t.map(function(x){e==0?x.data[1]-x.data[0]<0?c[1]=p:c[1]=n:(x.data[0]<i[e-1][1]&&(c[0]=p),x.data[1]<x.data[0]&&(c[1]=p),x.data[2]>i[e-1][1]&&(c[2]=n),x.data[3]<i[e-1][1]&&(c[3]=p));let u={text:"\u5F00\u76D8\uFF1A"+x.data[0],color:c[0],legendShape:r.extra.tooltip.legendShape=="auto"?x.legendShape:r.extra.tooltip.legendShape},g={text:"\u6536\u76D8\uFF1A"+x.data[1],color:c[1],legendShape:r.extra.tooltip.legendShape=="auto"?x.legendShape:r.extra.tooltip.legendShape},y={text:"\u6700\u4F4E\uFF1A"+x.data[2],color:c[2],legendShape:r.extra.tooltip.legendShape=="auto"?x.legendShape:r.extra.tooltip.legendShape},v={text:"\u6700\u9AD8\uFF1A"+x.data[3],color:c[3],legendShape:r.extra.tooltip.legendShape=="auto"?x.legendShape:r.extra.tooltip.legendShape};h.push(u,g,y,v)});var f=[],d={x:0,y:0};for(let x=0;x<s.length;x++){let u=s[x];typeof u[e]!="undefined"&&u[e]!==null&&f.push(u[e])}return d.x=Math.round(f[0][0].x),{textList:h,offset:d}}function te(i){let t=[];for(let r=0;r<i.length;r++)i[r].show==!0&&t.push(i[r]);return t}function be(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a={index:-1,group:[]},l=r.chartData.eachSpacing/2;let s=[];if(t&&t.length>0){if(!r.categories)l=0;else{for(let n=1;n<r.chartData.xAxisPoints.length;n++)s.push(r.chartData.xAxisPoints[n]-l);(r.type=="line"||r.type=="area")&&r.xAxis.boundaryGap=="justify"&&(s=r.chartData.xAxisPoints)}if(ee(i,r,e))if(r.categories)s.forEach(function(n,p){i.x+o+l>n&&(a.index=p)});else{let n=Array(t.length);for(let f=0;f<t.length;f++){n[f]=Array(t[f].length);for(let d=0;d<t[f].length;d++)n[f][d]=Math.abs(t[f][d].x-i.x)}let p=Array(n.length),c=Array(n.length);for(let f=0;f<n.length;f++)p[f]=Math.min.apply(null,n[f]),c[f]=n[f].indexOf(p[f]);let h=Math.min.apply(null,p);a.index=[];for(let f=0;f<p.length;f++)p[f]==h&&(a.group.push(f),a.index.push(c[f]))}}return a}function Se(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a={index:-1,group:[]},l=r.chartData.eachSpacing/2;let s=r.chartData.yAxisPoints;return t&&t.length>0&&ee(i,r,e)&&s.forEach(function(n,p){i.y+o+l>n&&(a.index=p)}),a}function Ae(i,t,r){let e=-1,o=0;if(Ce(i,t.area)){let a=t.points,l=-1;for(let s=0,n=a.length;s<n;s++){let p=a[s];for(let c=0;c<p.length;c++){l+=1;let h=p[c].area;if(h&&i.x>h[0]-o&&i.x<h[2]+o&&i.y>h[1]-o&&i.y<h[3]+o){e=l;break}}}return e}return e}function Ce(i,t){return i.x>t.start.x&&i.x<t.end.x&&i.y>t.start.y&&i.y<t.end.y}function ee(i,t,r){return i.x<=t.width-t.area[1]+10&&i.x>=t.area[3]-10&&i.y>=t.area[0]&&i.y<=t.height-t.area[2]}function we(i,t,r){var e=2*Math.PI/r,o=-1;if(Et(i,t.center,t.radius)){var a=function(p){return p<0&&(p+=2*Math.PI),p>2*Math.PI&&(p-=2*Math.PI),p},l=Math.atan2(t.center.y-i.y,i.x-t.center.x);l=-1*l,l<0&&(l+=2*Math.PI);var s=t.angleList.map(function(n){return n=a(-1*n),n});s.forEach(function(n,p){var c=a(n-e/2),h=a(n+e/2);h<c&&(h+=2*Math.PI),(l>=c&&l<=h||l+2*Math.PI>=c&&l+2*Math.PI<=h)&&(o=p)})}return o}function Te(i,t){for(var r=-1,e=0,o=t.series.length;e<o;e++){var a=t.series[e];if(i.x>a.funnelArea[0]&&i.x<a.funnelArea[2]&&i.y>a.funnelArea[1]&&i.y<a.funnelArea[3]){r=e;break}}return r}function Pe(i,t){for(var r=-1,e=0,o=t.length;e<o;e++){var a=t[e];if(i.x>a.area[0]&&i.x<a.area[2]&&i.y>a.area[1]&&i.y<a.area[3]){r=e;break}}return r}function Me(i,t){for(var r=-1,e=t.chartData.mapData,o=t.series,a=ui(i.y,i.x,e.bounds,e.scale,e.xoffset,e.yoffset),l=[a.x,a.y],s=0,n=o.length;s<n;s++){var p=o[s].geometry.coordinates;if(yi(l,p,t.chartData.mapData.mercator)){r=s;break}}return r}function Fe(i,t,r){var e=-1,o=ie(r._series_,r.extra.rose.type,t.radius,t.radius);if(t&&t.center&&Et(i,t.center,t.radius)){var a=Math.atan2(t.center.y-i.y,i.x-t.center.x);a=-a,r.extra.rose&&r.extra.rose.offsetAngle&&(a=a-r.extra.rose.offsetAngle*Math.PI/180);for(var l=0,s=o.length;l<s;l++)if(Vt(a,o[l]._start_,o[l]._start_+o[l]._rose_proportion_*2*Math.PI)){e=l;break}}return e}function De(i,t,r){var e=-1,o=Rt(t.series);if(t&&t.center&&Et(i,t.center,t.radius)){var a=Math.atan2(t.center.y-i.y,i.x-t.center.x);a=-a,r.extra.pie&&r.extra.pie.offsetAngle&&(a=a-r.extra.pie.offsetAngle*Math.PI/180),r.extra.ring&&r.extra.ring.offsetAngle&&(a=a-r.extra.ring.offsetAngle*Math.PI/180);for(var l=0,s=o.length;l<s;l++)if(Vt(a,o[l]._start_,o[l]._start_+o[l]._proportion_*2*Math.PI)){e=l;break}}return e}function Et(i,t,r){return Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)<=Math.pow(r,2)}function vt(i,t){var r=[],e=[];return i.forEach(function(o,a){t.connectNulls?o!==null&&e.push(o):o!==null?e.push(o):(e.length&&r.push(e),e=[])}),e.length&&r.push(e),r}function Le(i,t,r,e,o){let a={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(t.legend.show===!1)return e.legendData=a,a;let l=t.legend.padding*t.pix,s=t.legend.margin*t.pix,n=t.legend.fontSize?t.legend.fontSize*t.pix:r.fontSize,p=15*t.pix,c=5*t.pix,h=Math.max(t.legend.lineHeight*t.pix,n);if(t.legend.position=="top"||t.legend.position=="bottom"){let f=[],d=0,x=[],u=[];for(let g=0;g<i.length;g++){let y=i[g],v=y.legendText?y.legendText:y.name,m=p+c+X(v||"undefined",n,o)+t.legend.itemGap*t.pix;d+m>t.width-t.area[1]-t.area[3]?(f.push(u),x.push(d-t.legend.itemGap*t.pix),d=m,u=[y]):(d+=m,u.push(y))}if(u.length){f.push(u),x.push(d-t.legend.itemGap*t.pix),a.widthArr=x;let g=Math.max.apply(null,x);switch(t.legend.float){case"left":a.area.start.x=t.area[3],a.area.end.x=t.area[3]+g+2*l;break;case"right":a.area.start.x=t.width-t.area[1]-g-2*l,a.area.end.x=t.width-t.area[1];break;default:a.area.start.x=(t.width-g)/2-l,a.area.end.x=(t.width+g)/2+l}a.area.width=g+2*l,a.area.wholeWidth=g+2*l,a.area.height=f.length*h+2*l,a.area.wholeHeight=f.length*h+2*l+2*s,a.points=f}}else{let f=i.length,d=t.height-t.area[0]-t.area[2]-2*s-2*l,x=Math.min(Math.floor(d/h),f);switch(a.area.height=x*h+l*2,a.area.wholeHeight=x*h+l*2,t.legend.float){case"top":a.area.start.y=t.area[0]+s,a.area.end.y=t.area[0]+s+a.area.height;break;case"bottom":a.area.start.y=t.height-t.area[2]-s-a.area.height,a.area.end.y=t.height-t.area[2]-s;break;default:a.area.start.y=(t.height-a.area.height)/2,a.area.end.y=(t.height+a.area.height)/2}let u=f%x===0?f/x:Math.floor(f/x+1),g=[];for(let y=0;y<u;y++){let v=i.slice(y*x,y*x+x);g.push(v)}if(a.points=g,g.length){for(let v=0;v<g.length;v++){let m=g[v],A=0;for(let C=0;C<m.length;C++){let T=p+c+X(m[C].name||"undefined",n,o)+t.legend.itemGap*t.pix;T>A&&(A=T)}a.widthArr.push(A),a.heightArr.push(m.length*h+l*2)}let y=0;for(let v=0;v<a.widthArr.length;v++)y+=a.widthArr[v];a.area.width=y-t.legend.itemGap*t.pix+2*l,a.area.wholeWidth=a.area.width+l}}switch(t.legend.position){case"top":a.area.start.y=t.area[0]+s,a.area.end.y=t.area[0]+s+a.area.height;break;case"bottom":a.area.start.y=t.height-t.area[2]-a.area.height-s,a.area.end.y=t.height-t.area[2]-s;break;case"left":a.area.start.x=t.area[3],a.area.end.x=t.area[3]+a.area.width;break;case"right":a.area.start.x=t.width-t.area[1]-a.area.width,a.area.end.x=t.width-t.area[1];break}return e.legendData=a,a}function Ht(i,t,r,e,o){var a={angle:0,xAxisHeight:t.xAxis.lineHeight*t.pix+t.xAxis.marginTop*t.pix},l=t.xAxis.fontSize*t.pix,s=i.map(function(p,c){var h=t.xAxis.formatter?t.xAxis.formatter(p,c,t):p;return X(String(h),l,o)}),n=Math.max.apply(this,s);if(t.xAxis.rotateLabel==!0){a.angle=t.xAxis.rotateAngle*Math.PI/180;let p=t.xAxis.marginTop*t.pix*2+Math.abs(n*Math.sin(a.angle));p=p<l+t.xAxis.marginTop*t.pix*2?p+t.xAxis.marginTop*t.pix*2:p,a.xAxisHeight=p}return t.enableScroll&&t.xAxis.scrollShow&&(a.xAxisHeight+=6*t.pix),t.xAxis.disabled&&(a.xAxisHeight=0),a}function _e(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,a;e=="stack"?a=Qt(i,t.categories.length):a=Tt(i);var l=[];a=a.filter(function(u){return typeof u=="object"&&u!==null?u.constructor.toString().indexOf("Array")>-1?u!==null:u.value!==null:u!==null}),a.map(function(u){typeof u=="object"?u.constructor.toString().indexOf("Array")>-1?t.type=="candle"?u.map(function(g){l.push(g)}):l.push(u[0]):l.push(u.value):l.push(u)});var s=0,n=0;if(l.length>0&&(s=Math.min.apply(this,l),n=Math.max.apply(this,l)),o>-1?(typeof t.xAxis.data[o].min=="number"&&(s=Math.min(t.xAxis.data[o].min,s)),typeof t.xAxis.data[o].max=="number"&&(n=Math.max(t.xAxis.data[o].max,n))):(typeof t.xAxis.min=="number"&&(s=Math.min(t.xAxis.min,s)),typeof t.xAxis.max=="number"&&(n=Math.max(t.xAxis.max,n))),s===n){var p=n||10;n+=p}for(var c=s,h=n,f=[],d=(h-c)/t.xAxis.splitNumber,x=0;x<=t.xAxis.splitNumber;x++)f.push(c+d*x);return f}function ke(i,t,r,e){var o=k({},{type:""},t.extra.bar),a={angle:0,xAxisHeight:t.xAxis.lineHeight*t.pix+t.xAxis.marginTop*t.pix};a.ranges=_e(i,t,r,o.type),a.rangesFormat=a.ranges.map(function(p){return p=ht.toFixed(p,2),p});var l=a.ranges.map(function(p){return p=ht.toFixed(p,2),p});a=Object.assign(a,Ct(l,t,r));var s=a.eachSpacing,n=l.map(function(p){return X(p,t.xAxis.fontSize*t.pix,e)});return t.xAxis.disabled===!0&&(a.xAxisHeight=0),a}function Ie(i,t,r,e,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,l=o.extra.radar||{};l.max=l.max||0;var s=Math.max(l.max,Math.max.apply(null,Tt(e))),n=[];for(let p=0;p<e.length;p++){let c=e[p],h={};h.color=c.color,h.legendShape=c.legendShape,h.pointShape=c.pointShape,h.data=[],c.data.forEach(function(f,d){let x={};x.angle=i[d],x.proportion=f/s,x.value=f,x.position=ct(r*x.proportion*a*Math.cos(x.angle),r*x.proportion*a*Math.sin(x.angle),t),h.data.push(x)}),n.push(h)}return n}function Rt(i,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,e=0,o=0;for(let a=0;a<i.length;a++){let l=i[a];l.data=l.data===null?0:l.data,e+=l.data}for(let a=0;a<i.length;a++){let l=i[a];l.data=l.data===null?0:l.data,e===0?l._proportion_=1/i.length*r:l._proportion_=l.data/e*r,l._radius_=t}for(let a=0;a<i.length;a++){let l=i[a];l._start_=o,o+=2*l._proportion_*Math.PI}return i}function Oe(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;for(let a=0;a<i.length;a++)r.type=="funnel"?i[a].radius=i[a].data/i[0].data*t*o:i[a].radius=e*(i.length-a)/(e*i.length)*t*o,i[a]._proportion_=i[a].data/i[0].data;return i}function ie(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=0,l=0,s=[];for(let h=0;h<i.length;h++){let f=i[h];f.data=f.data===null?0:f.data,a+=f.data,s.push(f.data)}var n=Math.min.apply(null,s),p=Math.max.apply(null,s),c=e-r;for(let h=0;h<i.length;h++){let f=i[h];f.data=f.data===null?0:f.data,a===0?(f._proportion_=1/i.length*o,f._rose_proportion_=1/i.length*o):(f._proportion_=f.data/a*o,t=="area"?f._rose_proportion_=1/i.length*o:f._rose_proportion_=f.data/a*o),f._radius_=r+c*((f.data-n)/(p-n))||e}for(let h=0;h<i.length;h++){let f=i[h];f._start_=l,l+=2*f._rose_proportion_*Math.PI}return i}function ze(i,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;r==1&&(r=.999999);for(let e=0;e<i.length;e++){let o=i[e];o.data=o.data===null?0:o.data;let a;t.type=="circle"?a=2:t.direction=="ccw"?t.startAngle<t.endAngle?a=2+t.startAngle-t.endAngle:a=t.startAngle-t.endAngle:t.endAngle<t.startAngle?a=2+t.endAngle-t.startAngle:a=t.startAngle-t.endAngle,o._proportion_=a*o.data*r+t.startAngle,t.direction=="ccw"&&(o._proportion_=t.startAngle-a*o.data*r),o._proportion_>=2&&(o._proportion_=o._proportion_%2)}return i}function Ee(i,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;r==1&&(r=.999999);for(let e=0;e<i.length;e++){let o=i[e];o.data=o.data===null?0:o.data;let a;t.type=="circle"?a=2:t.endAngle<t.startAngle?a=2+t.endAngle-t.startAngle:a=t.startAngle-t.endAngle,o._proportion_=a*o.data*r+t.startAngle,o._proportion_>=2&&(o._proportion_=o._proportion_%2)}return i}function Re(i,t,r){let e;r<t?e=2+r-t:e=t-r;let o=t;for(let a=0;a<i.length;a++)i[a].value=i[a].value===null?0:i[a].value,i[a]._startAngle_=o,i[a]._endAngle_=e*i[a].value+t,i[a]._endAngle_>=2&&(i[a]._endAngle_=i[a]._endAngle_%2),o=i[a]._endAngle_;return i}function We(i,t,r){let e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;for(let o=0;o<i.length;o++){let a=i[o];if(a.data=a.data===null?0:a.data,r.pointer.color=="auto"){for(let s=0;s<t.length;s++)if(a.data<=t[s].value){a.color=t[s].color;break}}else a.color=r.pointer.color;let l;r.endAngle<r.startAngle?l=2+r.endAngle-r.startAngle:l=r.startAngle-r.endAngle,a._endAngle_=l*a.data+r.startAngle,a._oldAngle_=r.oldAngle,r.oldAngle<r.endAngle&&(a._oldAngle_+=2),a.data>=r.oldData?a._proportion_=(a._endAngle_-a._oldAngle_)*e+r.oldAngle:a._proportion_=a._oldAngle_-(a._oldAngle_-a._endAngle_)*e,a._proportion_>=2&&(a._proportion_=a._proportion_%2)}return i}function Be(i,t,r,e){i=Rt(i);let o=0;for(let a=0;a<i.length;a++){let l=i[a],s=l.formatter?l.formatter(+l._proportion_.toFixed(2)):ht.toFixed(l._proportion_*100)+"%";o=Math.max(o,X(s,l.textSize*e.pix||t.fontSize,r))}return o}function wt(i,t,r,e,o,a){return i.map(function(l){if(l===null)return null;var s=0,n=0;return a.type=="mix"?(s=a.extra.mix.column.seriesGap*a.pix||0,n=a.extra.mix.column.categoryGap*a.pix||0):(s=a.extra.column.seriesGap*a.pix||0,n=a.extra.column.categoryGap*a.pix||0),s=Math.min(s,t/r),n=Math.min(n,t/r),l.width=Math.ceil((t-2*n-s*(r-1))/r),a.extra.mix&&a.extra.mix.column.width&&+a.extra.mix.column.width>0&&(l.width=Math.min(l.width,+a.extra.mix.column.width*a.pix)),a.extra.column&&a.extra.column.width&&+a.extra.column.width>0&&(l.width=Math.min(l.width,+a.extra.column.width*a.pix)),l.width<=0&&(l.width=1),l.x+=(e+.5-r/2)*(l.width+s),l})}function Yt(i,t,r,e,o,a){return i.map(function(l){if(l===null)return null;var s=0,n=0;return s=a.extra.bar.seriesGap*a.pix||0,n=a.extra.bar.categoryGap*a.pix||0,s=Math.min(s,t/r),n=Math.min(n,t/r),l.width=Math.ceil((t-2*n-s*(r-1))/r),a.extra.bar&&a.extra.bar.width&&+a.extra.bar.width>0&&(l.width=Math.min(l.width,+a.extra.bar.width*a.pix)),l.width<=0&&(l.width=1),l.y+=(e+.5-r/2)*(l.width+s),l})}function Ge(i,t,r,e,o,a,l){var s=a.extra.column.categoryGap*a.pix||0;return i.map(function(n){return n===null?null:(n.width=t-2*s,a.extra.column&&a.extra.column.width&&+a.extra.column.width>0&&(n.width=Math.min(n.width,+a.extra.column.width*a.pix)),e>0&&(n.width-=l),n)})}function Ne(i,t,r,e,o,a,l){var s=a.extra.column.categoryGap*a.pix||0;return i.map(function(n,p){return n===null?null:(n.width=Math.ceil(t-2*s),a.extra.column&&a.extra.column.width&&+a.extra.column.width>0&&(n.width=Math.min(n.width,+a.extra.column.width*a.pix)),n.width<=0&&(n.width=1),n)})}function Xe(i,t,r,e,o,a,l){var s=a.extra.bar.categoryGap*a.pix||0;return i.map(function(n,p){return n===null?null:(n.width=Math.ceil(t-2*s),a.extra.bar&&a.extra.bar.width&&+a.extra.bar.width>0&&(n.width=Math.min(n.width,+a.extra.bar.width*a.pix)),n.width<=0&&(n.width=1),n)})}function Ct(i,t,r){var e=t.width-t.area[1]-t.area[3],o=t.enableScroll?Math.min(t.xAxis.itemCount,i.length):i.length;(t.type=="line"||t.type=="area"||t.type=="scatter"||t.type=="bubble"||t.type=="bar")&&o>1&&t.xAxis.boundaryGap=="justify"&&(o-=1);var a=0;t.type=="mount"&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),a=t.extra.mount.widthRatio-1,o+=a);var l=e/o,s=[],n=t.area[3],p=t.width-t.area[1];return i.forEach(function(c,h){s.push(n+a/2*l+h*l)}),t.xAxis.boundaryGap!=="justify"&&(t.enableScroll===!0?s.push(n+a*l+i.length*l):s.push(p)),{xAxisPoints:s,startX:n,endX:p,eachSpacing:l}}function He(i,t,r,e,o,a,l){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,n=[],p=a.height-a.area[0]-a.area[2];return i.forEach(function(c,h){if(c===null)n.push(null);else{var f=[];c.forEach(function(d,x){var u={};u.x=e[h]+Math.round(o/2);var g=d.value||d,y=p*(g-t)/(r-t);y*=s,u.y=a.height-Math.round(y)-a.area[2],f.push(u)}),n.push(f)}}),n}function it(i,t,r,e,o,a,l){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,n="center";(a.type=="line"||a.type=="area"||a.type=="scatter"||a.type=="bubble")&&(n=a.xAxis.boundaryGap);var p=[],c=a.height-a.area[0]-a.area[2],h=a.width-a.area[1]-a.area[3];return i.forEach(function(f,d){if(f===null)p.push(null);else{var x={};x.color=f.color,x.x=e[d];var u=f;if(typeof f=="object"&&f!==null)if(f.constructor.toString().indexOf("Array")>-1){let y,v,m;y=[].concat(a.chartData.xAxisData.ranges),v=y.shift(),m=y.pop(),u=f[1],x.x=a.area[3]+h*(f[0]-v)/(m-v),a.type=="bubble"&&(x.r=f[2],x.t=f[3])}else u=f.value;n=="center"&&(x.x+=o/2);var g=c*(u-t)/(r-t);g*=s,x.y=a.height-g-a.area[2],p.push(x)}}),p}function Ye(i,t,r,e,o,a,l,s,p){var p=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,c=a.xAxis.boundaryGap,h=[],f=a.height-a.area[0]-a.area[2],d=a.width-a.area[1]-a.area[3];return i.forEach(function(x,u){if(x===null)h.push(null);else{var g={};if(g.color=x.color,s.animation=="vertical"){g.x=e[u];var y=x;if(typeof x=="object"&&x!==null)if(x.constructor.toString().indexOf("Array")>-1){let m,A,C;m=[].concat(a.chartData.xAxisData.ranges),A=m.shift(),C=m.pop(),y=x[1],g.x=a.area[3]+d*(x[0]-A)/(C-A)}else y=x.value;c=="center"&&(g.x+=o/2);var v=f*(y-t)/(r-t);v*=p,g.y=a.height-v-a.area[2],h.push(g)}else{g.x=e[0]+o*u*p;var y=x;c=="center"&&(g.x+=o/2);var v=f*(y-t)/(r-t);g.y=a.height-v-a.area[2],h.push(g)}}}),h}function jt(i,t,r,e,o,a,l,s,p){var p=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,c=[],h=a.height-a.area[0]-a.area[2],f=a.width-a.area[1]-a.area[3];return i.forEach(function(d,x){if(d===null)c.push(null);else{var u={};u.color=d.color,u.x=e[x];var g=d;if(typeof d=="object"&&d!==null)if(d.constructor.toString().indexOf("Array")>-1){let v,m,A;v=[].concat(a.chartData.xAxisData.ranges),m=v.shift(),A=v.pop(),g=d[1],u.x=a.area[3]+f*(d[0]-m)/(A-m)}else g=d.value;u.x+=o/2;var y=h*(g*p-t)/(r-t);u.y=a.height-y-a.area[2],c.push(u)}}),c}function qt(i,t,r,e,o,a,l,s){var n=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,p=[],c=a.height-a.area[0]-a.area[2],h=a.width-a.area[1]-a.area[3],f=o*l.widthRatio;return i.forEach(function(d,x){if(d===null)p.push(null);else{var u={};u.color=d.color,u.x=e[x],u.x+=o/2;var g=d.data,y=c*(g*n-t)/(r-t);u.y=a.height-y-a.area[2],u.value=g,u.width=f,p.push(u)}}),p}function Jt(i,t,r,e,o,a,l){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,n=[],p=a.height-a.area[0]-a.area[2],c=a.width-a.area[1]-a.area[3];return i.forEach(function(h,f){if(h===null)n.push(null);else{var d={};d.color=h.color,d.y=e[f];var x=h;typeof h=="object"&&h!==null&&(x=h.value);var u=c*(x-t)/(r-t);u*=s,d.height=u,d.value=x,d.x=u+a.area[3],n.push(d)}}),n}function _t(i,t,r,e,o,a,l,s,n){var p=arguments.length>9&&arguments[9]!==void 0?arguments[9]:1,c=[],h=a.height-a.area[0]-a.area[2];return i.forEach(function(f,d){if(f===null)c.push(null);else{var x={};if(x.color=f.color,x.x=e[d]+Math.round(o/2),s>0){var u=0;for(let A=0;A<=s;A++)u+=n[A].data[d];var g=u-f,y=h*(u-t)/(r-t),v=h*(g-t)/(r-t)}else{var u=f;typeof f=="object"&&f!==null&&(u=f.value);var y=h*(u-t)/(r-t),v=0}var m=v;y*=p,m*=p,x.y=a.height-Math.round(y)-a.area[2],x.y0=a.height-Math.round(m)-a.area[2],c.push(x)}}),c}function kt(i,t,r,e,o,a,l,s,n){var p=arguments.length>9&&arguments[9]!==void 0?arguments[9]:1,c=[],h=a.width-a.area[1]-a.area[3];return i.forEach(function(f,d){if(f===null)c.push(null);else{var x={};if(x.color=f.color,x.y=e[d],s>0){var u=0;for(let A=0;A<=s;A++)u+=n[A].data[d];var g=u-f,y=h*(u-t)/(r-t),v=h*(g-t)/(r-t)}else{var u=f;typeof f=="object"&&f!==null&&(u=f.value);var y=h*(u-t)/(r-t),v=0}var m=v;y*=p,m*=p,x.height=y-m,x.x=a.area[3]+y,x.x0=a.area[3]+m,c.push(x)}}),c}function Ut(i,t,r,e,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:-1,l;e=="stack"?l=Qt(i,t.categories.length):l=Tt(i);var s=[];l=l.filter(function(g){return typeof g=="object"&&g!==null?g.constructor.toString().indexOf("Array")>-1?g!==null:g.value!==null:g!==null}),l.map(function(g){typeof g=="object"?g.constructor.toString().indexOf("Array")>-1?t.type=="candle"?g.map(function(y){s.push(y)}):s.push(g[1]):s.push(g.value):s.push(g)});var n=o.min||0,p=o.max||0;s.length>0&&(n=Math.min.apply(this,s),p=Math.max.apply(this,s)),n===p&&(p==0?p=10:n=0);for(var c=ue(n,p),h=o.min===void 0||o.min===null?c.minRange:o.min,f=o.max===void 0||o.max===null?c.maxRange:o.max,d=(f-h)/t.yAxis.splitNumber,x=[],u=0;u<=t.yAxis.splitNumber;u++)x.push(h+d*u);return x.reverse()}function Wt(i,t,r,e){var o=k({},{type:""},t.extra.column),a=t.yAxis.data.length,l=new Array(a);if(a>0){for(let h=0;h<a;h++){l[h]=[];for(let f=0;f<i.length;f++)i[f].index==h&&l[h].push(i[f])}var s=new Array(a),n=new Array(a),p=new Array(a);for(let h=0;h<a;h++){let f=t.yAxis.data[h];t.yAxis.disabled==!0&&(f.disabled=!0),f.type==="categories"?(f.formatter||(f.formatter=(u,g,y)=>u+(f.unit||"")),f.categories=f.categories||t.categories,s[h]=f.categories):(f.formatter||(f.formatter=(u,g,y)=>ht.toFixed(u,f.tofix||0)+(f.unit||"")),s[h]=Ut(l[h],t,r,o.type,f,h));let d=f.fontSize*t.pix||r.fontSize;p[h]={position:f.position?f.position:"left",width:0},n[h]=s[h].map(function(u,g){return u=f.formatter(u,g,t),p[h].width=Math.max(p[h].width,X(u,d,e)+5),u});let x=f.calibration?4*t.pix:0;p[h].width+=x+3*t.pix,f.disabled===!0&&(p[h].width=0)}}else{var s=new Array(1),n=new Array(1),p=new Array(1);t.type==="bar"?(s[0]=t.categories,t.yAxis.formatter||(t.yAxis.formatter=(x,u,g)=>x+(g.yAxis.unit||""))):(t.yAxis.formatter||(t.yAxis.formatter=(x,u,g)=>x.toFixed(g.yAxis.tofix)+(g.yAxis.unit||"")),s[0]=Ut(i,t,r,o.type,{})),p[0]={position:"left",width:0};var c=t.yAxis.fontSize*t.pix||r.fontSize;n[0]=s[0].map(function(x,u){return x=t.yAxis.formatter(x,u,t),p[0].width=Math.max(p[0].width,X(x,c,e)+5),x}),p[0].width+=3*t.pix,t.yAxis.disabled===!0?(p[0]={position:"left",width:0},t.yAxis.data[0]={disabled:!0}):(t.yAxis.data[0]={disabled:!1,position:"left",max:t.yAxis.max,min:t.yAxis.min,formatter:t.yAxis.formatter},t.type==="bar"&&(t.yAxis.data[0].categories=t.categories,t.yAxis.data[0].type="categories"))}return{rangesFormat:n,ranges:s,yAxisWidth:p}}function je(i,t,r,e,o){let a=[].concat(r.chartData.yAxisData.ranges),l=r.height-r.area[0]-r.area[2],s=r.area[0],n=[];for(let p=0;p<a.length;p++){let c=Math.max.apply(this,a[p]),h=Math.min.apply(this,a[p]),f=c-(c-h)*(i-s)/l;f=r.yAxis.data&&r.yAxis.data[p].formatter?r.yAxis.data[p].formatter(f,p,r):f.toFixed(0),n.push(String(f))}return n}function qe(i,t){let r,e,o=t.height-t.area[0]-t.area[2];for(let a=0;a<i.length;a++){i[a].yAxisIndex=i[a].yAxisIndex?i[a].yAxisIndex:0;let l=[].concat(t.chartData.yAxisData.ranges[i[a].yAxisIndex]);r=l.pop(),e=l.shift();let s=o*(i[a].value-r)/(e-r);i[a].y=t.height-Math.round(s)-t.area[2]}return i}function Z(i,t){t.rotateLock!==!0?(i.translate(t.height,0),i.rotate(90*Math.PI/180)):t._rotate_!==!0&&(i.translate(t.height,0),i.rotate(90*Math.PI/180),t._rotate_=!0)}function Pt(i,t,r,e,o){if(e.beginPath(),o.dataPointShapeType=="hollow"?(e.setStrokeStyle(t),e.setFillStyle(o.background),e.setLineWidth(2*o.pix)):(e.setStrokeStyle("#ffffff"),e.setFillStyle(t),e.setLineWidth(1*o.pix)),r==="diamond")i.forEach(function(a,l){a!==null&&(e.moveTo(a.x,a.y-4.5),e.lineTo(a.x-4.5,a.y),e.lineTo(a.x,a.y+4.5),e.lineTo(a.x+4.5,a.y),e.lineTo(a.x,a.y-4.5))});else if(r==="circle")i.forEach(function(a,l){a!==null&&(e.moveTo(a.x+2.5*o.pix,a.y),e.arc(a.x,a.y,3*o.pix,0,2*Math.PI,!1))});else if(r==="square")i.forEach(function(a,l){a!==null&&(e.moveTo(a.x-3.5,a.y-3.5),e.rect(a.x-3.5,a.y-3.5,7,7))});else if(r==="triangle")i.forEach(function(a,l){a!==null&&(e.moveTo(a.x,a.y-4.5),e.lineTo(a.x-4.5,a.y+4.5),e.lineTo(a.x+4.5,a.y+4.5),e.lineTo(a.x,a.y-4.5))});else if(r==="none")return;e.closePath(),e.fill(),e.stroke()}function ae(i,t,r,e,o,a,l){if(o.tooltip&&!(o.tooltip.group.length>0&&o.tooltip.group.includes(l)==!1)){var s=typeof o.tooltip.index=="number"?o.tooltip.index:o.tooltip.index[o.tooltip.group.indexOf(l)];if(e.beginPath(),a.activeType=="hollow"?(e.setStrokeStyle(t),e.setFillStyle(o.background),e.setLineWidth(2*o.pix)):(e.setStrokeStyle("#ffffff"),e.setFillStyle(t),e.setLineWidth(1*o.pix)),r==="diamond")i.forEach(function(n,p){n!==null&&s==p&&(e.moveTo(n.x,n.y-4.5),e.lineTo(n.x-4.5,n.y),e.lineTo(n.x,n.y+4.5),e.lineTo(n.x+4.5,n.y),e.lineTo(n.x,n.y-4.5))});else if(r==="circle")i.forEach(function(n,p){n!==null&&s==p&&(e.moveTo(n.x+2.5*o.pix,n.y),e.arc(n.x,n.y,3*o.pix,0,2*Math.PI,!1))});else if(r==="square")i.forEach(function(n,p){n!==null&&s==p&&(e.moveTo(n.x-3.5,n.y-3.5),e.rect(n.x-3.5,n.y-3.5,7,7))});else if(r==="triangle")i.forEach(function(n,p){n!==null&&s==p&&(e.moveTo(n.x,n.y-4.5),e.lineTo(n.x-4.5,n.y+4.5),e.lineTo(n.x+4.5,n.y+4.5),e.lineTo(n.x,n.y-4.5))});else if(r==="none")return;e.closePath(),e.fill(),e.stroke()}}function Bt(i,t,r,e){var o=i.title.fontSize||t.titleFontSize,a=i.subtitle.fontSize||t.subtitleFontSize,l=i.title.name||"",s=i.subtitle.name||"",n=i.title.color||i.fontColor,p=i.subtitle.color||i.fontColor,c=l?o:0,h=s?a:0,f=5;if(s){var d=X(s,a*i.pix,r),x=e.x-d/2+(i.subtitle.offsetX||0)*i.pix,u=e.y+a*i.pix/2+(i.subtitle.offsetY||0)*i.pix;l&&(u+=(c*i.pix+f)/2),r.beginPath(),r.setFontSize(a*i.pix),r.setFillStyle(p),r.fillText(s,x,u),r.closePath(),r.stroke()}if(l){var g=X(l,o*i.pix,r),y=e.x-g/2+(i.title.offsetX||0),v=e.y+o*i.pix/2+(i.title.offsetY||0)*i.pix;s&&(v-=(h*i.pix+f)/2),r.beginPath(),r.setFontSize(o*i.pix),r.setFillStyle(n),r.fillText(l,y,v),r.closePath(),r.stroke()}}function At(i,t,r,e,o){var a=t.data,l=t.textOffset?t.textOffset:0;i.forEach(function(s,n){if(s!==null){e.beginPath();var p=t.textSize?t.textSize*o.pix:r.fontSize;e.setFontSize(p),e.setFillStyle(t.textColor||o.fontColor);var c=a[n];typeof a[n]=="object"&&a[n]!==null&&(a[n].constructor.toString().indexOf("Array")>-1?c=a[n][1]:c=a[n].value);var h=t.formatter?t.formatter(c,n,t,o):c;e.setTextAlign("center"),e.fillText(String(h),s.x,s.y-4+l*o.pix),e.closePath(),e.stroke(),e.setTextAlign("left")}})}function It(i,t,r,e,o){var a=t.data,l=t.textOffset?t.textOffset:0,s=o.extra.column.labelPosition;i.forEach(function(n,p){if(n!==null){e.beginPath();var c=t.textSize?t.textSize*o.pix:r.fontSize;e.setFontSize(c),e.setFillStyle(t.textColor||o.fontColor);var h=a[p];typeof a[p]=="object"&&a[p]!==null&&(a[p].constructor.toString().indexOf("Array")>-1?h=a[p][1]:h=a[p].value);var f=t.formatter?t.formatter(h,p,t,o):h;e.setTextAlign("center");var d=n.y-4*o.pix+l*o.pix;n.y>t.zeroPoints&&(d=n.y+l*o.pix+c),s=="insideTop"&&(d=n.y+c+l*o.pix,n.y>t.zeroPoints&&(d=n.y-l*o.pix-4*o.pix)),s=="center"&&(d=n.y+l*o.pix+(o.height-o.area[2]-n.y+c)/2,t.zeroPoints<o.height-o.area[2]&&(d=n.y+l*o.pix+(t.zeroPoints-n.y+c)/2),n.y>t.zeroPoints&&(d=n.y-l*o.pix-(n.y-t.zeroPoints-c)/2),o.extra.column.type=="stack"&&(d=n.y+l*o.pix+(n.y0-n.y+c)/2)),s=="bottom"&&(d=o.height-o.area[2]+l*o.pix-4*o.pix,t.zeroPoints<o.height-o.area[2]&&(d=t.zeroPoints+l*o.pix-4*o.pix),n.y>t.zeroPoints&&(d=t.zeroPoints-l*o.pix+c+2*o.pix),o.extra.column.type=="stack"&&(d=n.y0+l*o.pix-4*o.pix)),e.fillText(String(f),n.x,d),e.closePath(),e.stroke(),e.setTextAlign("left")}})}function Je(i,t,r,e,o,a){var l=t.data,s=t.textOffset?t.textOffset:0,n=o.extra.mount.labelPosition;i.forEach(function(p,c){if(p!==null){e.beginPath();var h=t[c].textSize?t[c].textSize*o.pix:r.fontSize;e.setFontSize(h),e.setFillStyle(t[c].textColor||o.fontColor);var f=p.value,d=t[c].formatter?t[c].formatter(f,c,t,o):f;e.setTextAlign("center");var x=p.y-4*o.pix+s*o.pix;p.y>a&&(x=p.y+s*o.pix+h),e.fillText(String(d),p.x,x),e.closePath(),e.stroke(),e.setTextAlign("left")}})}function $t(i,t,r,e,o){var a=t.data,l=t.textOffset?t.textOffset:0;i.forEach(function(s,n){if(s!==null){e.beginPath();var p=t.textSize?t.textSize*o.pix:r.fontSize;e.setFontSize(p),e.setFillStyle(t.textColor||o.fontColor);var c=a[n];typeof a[n]=="object"&&a[n]!==null&&(c=a[n].value);var h=t.formatter?t.formatter(c,n,t,o):c;e.setTextAlign("left"),e.fillText(String(h),s.x+4*o.pix,s.y+p/2-3),e.closePath(),e.stroke()}})}function Ue(i,t,r,e,o,a){t-=i.width/2+i.labelOffset*e.pix,t=t<10?10:t;let l;i.endAngle<i.startAngle?l=2+i.endAngle-i.startAngle:l=i.startAngle-i.endAngle;let s=l/i.splitLine.splitNumber,p=(i.endNumber-i.startNumber)/i.splitLine.splitNumber,c=i.startAngle,h=i.startNumber;for(let g=0;g<i.splitLine.splitNumber+1;g++){var f={x:t*Math.cos(c*Math.PI),y:t*Math.sin(c*Math.PI)},d=i.formatter?i.formatter(h,g,e):h;f.x+=r.x-X(d,o.fontSize,a)/2,f.y+=r.y;var x=f.x,u=f.y;a.beginPath(),a.setFontSize(o.fontSize),a.setFillStyle(i.labelColor||e.fontColor),a.fillText(d,x,u+o.fontSize/2),a.closePath(),a.stroke(),c+=s,c>=2&&(c=c%2),h+=p}}function $e(i,t,r,e,o,a){var l=e.extra.radar||{};i.forEach(function(s,n){if(l.labelPointShow===!0&&e.categories[n]!==""){var p={x:t*Math.cos(s),y:t*Math.sin(s)},c=ct(p.x,p.y,r);a.setFillStyle(l.labelPointColor),a.beginPath(),a.arc(c.x,c.y,l.labelPointRadius*e.pix,0,2*Math.PI,!1),a.closePath(),a.fill()}if(l.labelShow===!0){var h={x:(t+o.radarLabelTextMargin*e.pix)*Math.cos(s),y:(t+o.radarLabelTextMargin*e.pix)*Math.sin(s)},f=ct(h.x,h.y,r),d=f.x,x=f.y;ht.approximatelyEqual(h.x,0)?d-=X(e.categories[n]||"",o.fontSize,a)/2:h.x<0&&(d-=X(e.categories[n]||"",o.fontSize,a)),a.beginPath(),a.setFontSize(o.fontSize),a.setFillStyle(l.labelColor||e.fontColor),a.fillText(e.categories[n]||"",d,x+o.fontSize/2),a.closePath(),a.stroke()}})}function re(i,t,r,e,o,a){var l=r.pieChartLinePadding,s=[],n=null,p=i.map(function(c,h){var f=c.formatter?c.formatter(c,h,i,t):ht.toFixed(c._proportion_.toFixed(4)*100)+"%";f=c.labelText?c.labelText:f;var d=2*Math.PI-(c._start_+2*Math.PI*c._proportion_/2);c._rose_proportion_&&(d=2*Math.PI-(c._start_+2*Math.PI*c._rose_proportion_/2));var x=c.color,u=c._radius_;return{arc:d,text:f,color:x,radius:u,textColor:c.textColor,textSize:c.textSize,labelShow:c.labelShow}});for(let c=0;c<p.length;c++){let h=p[c],f=Math.cos(h.arc)*(h.radius+l),d=Math.sin(h.arc)*(h.radius+l),x=Math.cos(h.arc)*h.radius,u=Math.sin(h.arc)*h.radius,g=f>=0?f+r.pieChartTextPadding:f-r.pieChartTextPadding,y=d,v=X(h.text,h.textSize*t.pix||r.fontSize,e),m=y;n&&ht.isSameXCoordinateArea(n.start,{x:g})&&(g>0?m=Math.min(y,n.start.y):f<0||y>0?m=Math.max(y,n.start.y):m=Math.min(y,n.start.y)),g<0&&(g-=v);let A={lineStart:{x,y:u},lineEnd:{x:f,y:d},start:{x:g,y:m},width:v,height:r.fontSize,text:h.text,color:h.color,textColor:h.textColor,textSize:h.textSize};n=pe(A,n),s.push(n)}for(let c=0;c<s.length;c++){if(p[c].labelShow===!1)continue;let h=s[c],f=ct(h.lineStart.x,h.lineStart.y,a),d=ct(h.lineEnd.x,h.lineEnd.y,a),x=ct(h.start.x,h.start.y,a);e.setLineWidth(1*t.pix),e.setFontSize(h.textSize*t.pix||r.fontSize),e.beginPath(),e.setStrokeStyle(h.color),e.setFillStyle(h.color),e.moveTo(f.x,f.y);let u=h.start.x<0?x.x+h.width:x.x,g=h.start.x<0?x.x-5:x.x+5;e.quadraticCurveTo(d.x,d.y,u,x.y),e.moveTo(f.x,f.y),e.stroke(),e.closePath(),e.beginPath(),e.moveTo(x.x+h.width,x.y),e.arc(u,x.y,2*t.pix,0,2*Math.PI),e.closePath(),e.fill(),e.beginPath(),e.setFontSize(h.textSize*t.pix||r.fontSize),e.setFillStyle(h.textColor||t.fontColor),e.fillText(h.text,g,x.y+3),e.closePath(),e.stroke(),e.closePath()}}function Ze(i,t,r,e){var o=t.extra.tooltip||{};o.gridType=o.gridType==null?"solid":o.gridType,o.dashLength=o.dashLength==null?4:o.dashLength;var a=t.area[0],l=t.height-t.area[2];if(o.gridType=="dash"&&e.setLineDash([o.dashLength,o.dashLength]),e.setStrokeStyle(o.gridColor||"#cccccc"),e.setLineWidth(1*t.pix),e.beginPath(),e.moveTo(i,a),e.lineTo(i,l),e.stroke(),e.setLineDash([]),o.xAxisLabel){let s=t.categories[t.tooltip.index];e.setFontSize(r.fontSize);let n=X(s,r.fontSize,e),p=i-.5*n,c=l+2*t.pix;e.beginPath(),e.setFillStyle(M(o.labelBgColor||r.toolTipBackground,o.labelBgOpacity||r.toolTipOpacity)),e.setStrokeStyle(o.labelBgColor||r.toolTipBackground),e.setLineWidth(1*t.pix),e.rect(p-o.boxPadding*t.pix,c,n+2*o.boxPadding*t.pix,r.fontSize+2*o.boxPadding*t.pix),e.closePath(),e.stroke(),e.fill(),e.beginPath(),e.setFontSize(r.fontSize),e.setFillStyle(o.labelFontColor||t.fontColor),e.fillText(String(s),p,c+o.boxPadding*t.pix+r.fontSize),e.closePath(),e.stroke()}}function nt(i,t,r){let e=k({},{type:"solid",dashLength:4,data:[]},i.extra.markLine),o=i.area[3],a=i.width-i.area[1],l=qe(e.data,i);for(let s=0;s<l.length;s++){let n=k({},{lineColor:"#DE4A42",showLabel:!1,labelFontSize:13,labelPadding:6,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,labelAlign:"left",labelOffsetX:0,labelOffsetY:0},l[s]);if(e.type=="dash"&&r.setLineDash([e.dashLength,e.dashLength]),r.setStrokeStyle(n.lineColor),r.setLineWidth(1*i.pix),r.beginPath(),r.moveTo(o,n.y),r.lineTo(a,n.y),r.stroke(),r.setLineDash([]),n.showLabel){let p=n.labelFontSize*i.pix,c=n.labelText?n.labelText:n.value;r.setFontSize(p);let f=X(c,p,r)+n.labelPadding*i.pix*2,d=n.labelAlign=="left"?i.area[3]-f:i.width-i.area[1];d+=n.labelOffsetX;let x=n.y-.5*p-n.labelPadding*i.pix;x+=n.labelOffsetY;let u=d+n.labelPadding*i.pix,g=n.y;r.setFillStyle(M(n.labelBgColor,n.labelBgOpacity)),r.setStrokeStyle(n.labelBgColor),r.setLineWidth(1*i.pix),r.beginPath(),r.rect(d,x,f,p+2*n.labelPadding*i.pix),r.closePath(),r.stroke(),r.fill(),r.setFontSize(p),r.setTextAlign("left"),r.setFillStyle(n.labelFontColor),r.fillText(String(c),u,x+p+n.labelPadding*i.pix/2),r.stroke(),r.setTextAlign("left")}}}function Ke(i,t,r,e,o){var a=k({},{gridType:"solid",dashLength:4},i.extra.tooltip),l=i.area[3],s=i.width-i.area[1];if(a.gridType=="dash"&&r.setLineDash([a.dashLength,a.dashLength]),r.setStrokeStyle(a.gridColor||"#cccccc"),r.setLineWidth(1*i.pix),r.beginPath(),r.moveTo(l,i.tooltip.offset.y),r.lineTo(s,i.tooltip.offset.y),r.stroke(),r.setLineDash([]),a.yAxisLabel){let n=a.boxPadding*i.pix,p=je(i.tooltip.offset.y,i.series,i,t,e),c=i.chartData.yAxisData.yAxisWidth,h=i.area[3],f=i.width-i.area[1];for(let d=0;d<p.length;d++){r.setFontSize(a.fontSize*i.pix);let x=X(p[d],a.fontSize*i.pix,r),u,g,y;c[d].position=="left"?(u=h-(x+n*2)-2*i.pix,g=Math.max(u,u+x+n*2)):(u=f+2*i.pix,g=Math.max(u+c[d].width,u+x+n*2)),y=g-u;let v=u+(y-x)/2,m=i.tooltip.offset.y;r.beginPath(),r.setFillStyle(M(a.labelBgColor||t.toolTipBackground,a.labelBgOpacity||t.toolTipOpacity)),r.setStrokeStyle(a.labelBgColor||t.toolTipBackground),r.setLineWidth(1*i.pix),r.rect(u,m-.5*t.fontSize-n,y,t.fontSize+2*n),r.closePath(),r.stroke(),r.fill(),r.beginPath(),r.setFontSize(t.fontSize),r.setFillStyle(a.labelFontColor||i.fontColor),r.fillText(p[d],v,m+.5*t.fontSize),r.closePath(),r.stroke(),c[d].position=="left"?h-=c[d].width+i.yAxis.padding*i.pix:f+=c[d].width+i.yAxis.padding*i.pix}}}function Ve(i,t,r,e,o){var a=k({},{activeBgColor:"#000000",activeBgOpacity:.08,activeWidth:o},t.extra.column);a.activeWidth=a.activeWidth>o?o:a.activeWidth;var l=t.area[0],s=t.height-t.area[2];e.beginPath(),e.setFillStyle(M(a.activeBgColor,a.activeBgOpacity)),e.rect(i-a.activeWidth/2,l,a.activeWidth,s-l),e.closePath(),e.fill(),e.setFillStyle("#FFFFFF")}function Qe(i,t,r,e,o){var a=k({},{activeBgColor:"#000000",activeBgOpacity:.08},t.extra.bar),l=t.area[3],s=t.width-t.area[1];e.beginPath(),e.setFillStyle(M(a.activeBgColor,a.activeBgOpacity)),e.rect(l,i-o/2,s-l,o),e.closePath(),e.fill(),e.setFillStyle("#FFFFFF")}function ti(i,t,r,e,o,a,l){var s=k({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,boxPadding:3,fontColor:"#FFFFFF",fontSize:13,lineHeight:20,legendShow:!0,legendShape:"auto",splitLine:!0},r.extra.tooltip);s.showCategory==!0&&r.categories&&i.unshift({text:r.categories[r.tooltip.index],color:null});var n=s.fontSize*r.pix,p=s.lineHeight*r.pix,c=s.boxPadding*r.pix,h=n,f=5*r.pix;s.legendShow==!1&&(h=0,f=0);var d=s.showArrow?8*r.pix:0,x=!1;(r.type=="line"||r.type=="mount"||r.type=="area"||r.type=="candle"||r.type=="mix")&&s.splitLine==!0&&Ze(r.tooltip.offset.x,r,e,o),t=k({x:0,y:0},t),t.y-=8*r.pix;var u=i.map(function(m){return X(m.text,n,o)}),g=h+f+4*c+Math.max.apply(null,u),y=2*c+i.length*p;if(s.showBox!=!1){t.x-Math.abs(r._scrollDistance_||0)+d+g>r.width&&(x=!0),y+t.y>r.height&&(t.y=r.height-y),o.beginPath(),o.setFillStyle(M(s.bgColor,s.bgOpacity)),o.setLineWidth(s.borderWidth*r.pix),o.setStrokeStyle(M(s.borderColor,s.borderOpacity));var v=s.borderRadius;x?(g+d>r.width&&(t.x=r.width+Math.abs(r._scrollDistance_||0)+d+(g-r.width)),g>t.x&&(t.x=r.width+Math.abs(r._scrollDistance_||0)+d+(g-r.width)),s.showArrow&&(o.moveTo(t.x,t.y+10*r.pix),o.lineTo(t.x-d,t.y+10*r.pix+5*r.pix)),o.arc(t.x-d-v,t.y+y-v,v,0,Math.PI/2,!1),o.arc(t.x-d-Math.round(g)+v,t.y+y-v,v,Math.PI/2,Math.PI,!1),o.arc(t.x-d-Math.round(g)+v,t.y+v,v,-Math.PI,-Math.PI/2,!1),o.arc(t.x-d-v,t.y+v,v,-Math.PI/2,0,!1),s.showArrow&&(o.lineTo(t.x-d,t.y+10*r.pix-5*r.pix),o.lineTo(t.x,t.y+10*r.pix))):(s.showArrow&&(o.moveTo(t.x,t.y+10*r.pix),o.lineTo(t.x+d,t.y+10*r.pix-5*r.pix)),o.arc(t.x+d+v,t.y+v,v,-Math.PI,-Math.PI/2,!1),o.arc(t.x+d+Math.round(g)-v,t.y+v,v,-Math.PI/2,0,!1),o.arc(t.x+d+Math.round(g)-v,t.y+y-v,v,0,Math.PI/2,!1),o.arc(t.x+d+v,t.y+y-v,v,Math.PI/2,Math.PI,!1),s.showArrow&&(o.lineTo(t.x+d,t.y+10*r.pix+5*r.pix),o.lineTo(t.x,t.y+10*r.pix))),o.closePath(),o.fill(),s.borderWidth>0&&o.stroke(),s.legendShow&&i.forEach(function(m,A){if(m.color!==null){o.beginPath(),o.setFillStyle(m.color);var C=t.x+d+2*c,T=t.y+(p-n)/2+p*A+c+1;switch(x&&(C=t.x-g-d+2*c),m.legendShape){case"line":o.moveTo(C,T+.5*h-2*r.pix),o.fillRect(C,T+.5*h-2*r.pix,h,4*r.pix);break;case"triangle":o.moveTo(C+7.5*r.pix,T+.5*h-5*r.pix),o.lineTo(C+2.5*r.pix,T+.5*h+5*r.pix),o.lineTo(C+12.5*r.pix,T+.5*h+5*r.pix),o.lineTo(C+7.5*r.pix,T+.5*h-5*r.pix);break;case"diamond":o.moveTo(C+7.5*r.pix,T+.5*h-5*r.pix),o.lineTo(C+2.5*r.pix,T+.5*h),o.lineTo(C+7.5*r.pix,T+.5*h+5*r.pix),o.lineTo(C+12.5*r.pix,T+.5*h),o.lineTo(C+7.5*r.pix,T+.5*h-5*r.pix);break;case"circle":o.moveTo(C+7.5*r.pix,T+.5*h),o.arc(C+7.5*r.pix,T+.5*h,5*r.pix,0,2*Math.PI);break;case"rect":o.moveTo(C,T+.5*h-5*r.pix),o.fillRect(C,T+.5*h-5*r.pix,15*r.pix,10*r.pix);break;case"square":o.moveTo(C+2*r.pix,T+.5*h-5*r.pix),o.fillRect(C+2*r.pix,T+.5*h-5*r.pix,10*r.pix,10*r.pix);break;default:o.moveTo(C,T+.5*h-5*r.pix),o.fillRect(C,T+.5*h-5*r.pix,15*r.pix,10*r.pix)}o.closePath(),o.fill()}}),i.forEach(function(m,A){var C=t.x+d+2*c+h+f;x&&(C=t.x-g-d+2*c+h+f);var T=t.y+p*A+(p-n)/2-1+c+n;o.beginPath(),o.setFontSize(n),o.setTextBaseline("normal"),o.setFillStyle(s.fontColor),o.fillText(m.text,C,T),o.closePath(),o.stroke()})}}function ei(i,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=t.chartData.xAxisData,l=a.xAxisPoints,s=a.eachSpacing,n=k({},{type:"group",width:s/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0,labelPosition:"outside"},t.extra.column),p=[];e.save();let c=-2,h=l.length+2;return t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),c=Math.floor(-t._scrollDistance_/s)-2,h=c+t.xAxis.itemCount+4),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&o===1&&Ve(t.tooltip.offset.x,t,r,e,s),n.customColor=ft(n.linearType,n.customColor,i,r),i.forEach(function(f,d){let x,u,g;x=[].concat(t.chartData.yAxisData.ranges[f.index]),u=x.pop(),g=x.shift();let v=(t.height-t.area[0]-t.area[2])*(0-u)/(g-u),m=t.height-Math.round(v)-t.area[2];f.zeroPoints=m;var A=f.data;switch(n.type){case"group":var F=jt(A,u,g,l,s,t,r,m,o),C=_t(A,u,g,l,s,t,r,d,i,o);p.push(C),F=wt(F,s,i.length,d,r,t);for(let H=0;H<F.length;H++){let _=F[H];if(_!==null&&H>c&&H<h){var T=_.x-_.width/2,w=t.height-_.y-t.area[2];e.beginPath();var b=_.color||f.color,S=_.color||f.color;if(n.linearType!=="none"){var P=e.createLinearGradient(T,_.y,T,m);n.linearType=="opacity"?(P.addColorStop(0,M(b,n.linearOpacity)),P.addColorStop(1,M(b,1))):(P.addColorStop(0,M(n.customColor[f.linearIndex],n.linearOpacity)),P.addColorStop(n.colorStop,M(n.customColor[f.linearIndex],n.linearOpacity)),P.addColorStop(1,M(b,1))),b=P}if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle===!0){let Y=T,j=_.y>m?m:_.y,G=_.width,I=Math.abs(m-_.y);n.barBorderCircle&&(n.barBorderRadius=[G/2,G/2,0,0]),_.y>m&&(n.barBorderRadius=[0,0,G/2,G/2]);let[z,N,E,R]=n.barBorderRadius,O=Math.min(G/2,I/2);z=z>O?O:z,N=N>O?O:N,E=E>O?O:E,R=R>O?O:R,z=z<0?0:z,N=N<0?0:N,E=E<0?0:E,R=R<0?0:R,e.arc(Y+z,j+z,z,-Math.PI,-Math.PI/2),e.arc(Y+G-N,j+N,N,-Math.PI/2,0),e.arc(Y+G-E,j+I-E,E,0,Math.PI/2),e.arc(Y+R,j+I-R,R,Math.PI/2,Math.PI)}else e.moveTo(T,_.y),e.lineTo(T+_.width,_.y),e.lineTo(T+_.width,m),e.lineTo(T,m),e.lineTo(T,_.y),e.setLineWidth(1),e.setStrokeStyle(S);e.setFillStyle(b),e.closePath(),e.fill()}}break;case"stack":var F=_t(A,u,g,l,s,t,r,d,i,o);p.push(F),F=Ne(F,s,i.length,d,r,t,i);for(let H=0;H<F.length;H++){let _=F[H];if(_!==null&&H>c&&H<h){e.beginPath();var b=_.color||f.color,T=_.x-_.width/2+1,w=t.height-_.y-t.area[2],L=t.height-_.y0-t.area[2];d>0&&(w-=L),e.setFillStyle(b),e.moveTo(T,_.y),e.fillRect(T,_.y,_.width,w),e.closePath(),e.fill()}}break;case"meter":var F=it(A,u,g,l,s,t,r,o);p.push(F),F=Ge(F,s,i.length,d,r,t,n.meterBorder);for(let H=0;H<F.length;H++){let _=F[H];if(_!==null&&H>c&&H<h){e.beginPath(),d==0&&n.meterBorder>0&&(e.setStrokeStyle(f.color),e.setLineWidth(n.meterBorder*t.pix)),d==0?e.setFillStyle(n.meterFillColor):e.setFillStyle(_.color||f.color);var T=_.x-_.width/2,w=t.height-_.y-t.area[2];if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle===!0){let G=T,I=_.y,z=_.width,N=m-_.y;n.barBorderCircle&&(n.barBorderRadius=[z/2,z/2,0,0]);let[E,R,O,B]=n.barBorderRadius,U=Math.min(z/2,N/2);E=E>U?U:E,R=R>U?U:R,O=O>U?U:O,B=B>U?U:B,E=E<0?0:E,R=R<0?0:R,O=O<0?0:O,B=B<0?0:B,e.arc(G+E,I+E,E,-Math.PI,-Math.PI/2),e.arc(G+z-R,I+R,R,-Math.PI/2,0),e.arc(G+z-O,I+N-O,O,0,Math.PI/2),e.arc(G+B,I+N-B,B,Math.PI/2,Math.PI),e.fill()}else e.moveTo(T,_.y),e.lineTo(T+_.width,_.y),e.lineTo(T+_.width,m),e.lineTo(T,m),e.lineTo(T,_.y),e.fill();d==0&&n.meterBorder>0&&(e.closePath(),e.stroke())}}break}}),t.dataLabel!==!1&&o===1&&i.forEach(function(f,d){let x,u,g;x=[].concat(t.chartData.yAxisData.ranges[f.index]),u=x.pop(),g=x.shift();var y=f.data;switch(n.type){case"group":var v=jt(y,u,g,l,s,t,r,o);v=wt(v,s,i.length,d,r,t),It(v,f,r,e,t);break;case"stack":var v=_t(y,u,g,l,s,t,r,d,i,o);It(v,f,r,e,t);break;case"meter":var v=it(y,u,g,l,s,t,r,o);It(v,f,r,e,t);break}}),e.restore(),{xAxisPoints:l,calPoints:p,eachSpacing:s}}function ii(i,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=t.chartData.xAxisData,l=a.xAxisPoints,s=a.eachSpacing,n=k({},{type:"mount",widthRatio:1,borderWidth:1,barBorderCircle:!1,barBorderRadius:[],linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.mount);n.widthRatio=n.widthRatio<=0?0:n.widthRatio,n.widthRatio=n.widthRatio>=2?2:n.widthRatio;let p=[];e.save();let c=-2,h=l.length+2;t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),c=Math.floor(-t._scrollDistance_/s)-2,h=c+t.xAxis.itemCount+4),n.customColor=ft(n.linearType,n.customColor,i,r);let f,d,x;f=[].concat(t.chartData.yAxisData.ranges[0]),d=f.pop(),x=f.shift();let g=(t.height-t.area[0]-t.area[2])*(0-d)/(x-d),y=t.height-Math.round(g)-t.area[2];var v=qt(i,d,x,l,s,t,n,y,o);switch(n.type){case"bar":for(let b=0;b<v.length;b++){let S=v[b];if(S!==null&&b>c&&b<h){var m=S.x-s*n.widthRatio/2,A=t.height-S.y-t.area[2];e.beginPath();var C=S.color||i[b].color,T=S.color||i[b].color;if(n.linearType!=="none"){var w=e.createLinearGradient(m,S.y,m,y);n.linearType=="opacity"?(w.addColorStop(0,M(C,n.linearOpacity)),w.addColorStop(1,M(C,1))):(w.addColorStop(0,M(n.customColor[i[b].linearIndex],n.linearOpacity)),w.addColorStop(n.colorStop,M(n.customColor[i[b].linearIndex],n.linearOpacity)),w.addColorStop(1,M(C,1))),C=w}if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle===!0){let P=m,L=S.y>y?y:S.y,F=S.width,H=Math.abs(y-S.y);n.barBorderCircle&&(n.barBorderRadius=[F/2,F/2,0,0]),S.y>y&&(n.barBorderRadius=[0,0,F/2,F/2]);let[_,Y,j,G]=n.barBorderRadius,I=Math.min(F/2,H/2);_=_>I?I:_,Y=Y>I?I:Y,j=j>I?I:j,G=G>I?I:G,_=_<0?0:_,Y=Y<0?0:Y,j=j<0?0:j,G=G<0?0:G,e.arc(P+_,L+_,_,-Math.PI,-Math.PI/2),e.arc(P+F-Y,L+Y,Y,-Math.PI/2,0),e.arc(P+F-j,L+H-j,j,0,Math.PI/2),e.arc(P+G,L+H-G,G,Math.PI/2,Math.PI)}else e.moveTo(m,S.y),e.lineTo(m+S.width,S.y),e.lineTo(m+S.width,y),e.lineTo(m,y),e.lineTo(m,S.y);e.setStrokeStyle(T),e.setFillStyle(C),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*t.pix),e.closePath(),e.stroke()),e.fill()}}break;case"triangle":for(let b=0;b<v.length;b++){let S=v[b];if(S!==null&&b>c&&b<h){var m=S.x-s*n.widthRatio/2,A=t.height-S.y-t.area[2];e.beginPath();var C=S.color||i[b].color,T=S.color||i[b].color;if(n.linearType!=="none"){var w=e.createLinearGradient(m,S.y,m,y);n.linearType=="opacity"?(w.addColorStop(0,M(C,n.linearOpacity)),w.addColorStop(1,M(C,1))):(w.addColorStop(0,M(n.customColor[i[b].linearIndex],n.linearOpacity)),w.addColorStop(n.colorStop,M(n.customColor[i[b].linearIndex],n.linearOpacity)),w.addColorStop(1,M(C,1))),C=w}e.moveTo(m,y),e.lineTo(S.x,S.y),e.lineTo(m+S.width,y),e.setStrokeStyle(T),e.setFillStyle(C),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*t.pix),e.stroke()),e.fill()}}break;case"mount":for(let b=0;b<v.length;b++){let S=v[b];if(S!==null&&b>c&&b<h){var m=S.x-s*n.widthRatio/2,A=t.height-S.y-t.area[2];e.beginPath();var C=S.color||i[b].color,T=S.color||i[b].color;if(n.linearType!=="none"){var w=e.createLinearGradient(m,S.y,m,y);n.linearType=="opacity"?(w.addColorStop(0,M(C,n.linearOpacity)),w.addColorStop(1,M(C,1))):(w.addColorStop(0,M(n.customColor[i[b].linearIndex],n.linearOpacity)),w.addColorStop(n.colorStop,M(n.customColor[i[b].linearIndex],n.linearOpacity)),w.addColorStop(1,M(C,1))),C=w}e.moveTo(m,y),e.bezierCurveTo(S.x-S.width/4,y,S.x-S.width/4,S.y,S.x,S.y),e.bezierCurveTo(S.x+S.width/4,S.y,S.x+S.width/4,y,m+S.width,y),e.setStrokeStyle(T),e.setFillStyle(C),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*t.pix),e.stroke()),e.fill()}}break;case"sharp":for(let b=0;b<v.length;b++){let S=v[b];if(S!==null&&b>c&&b<h){var m=S.x-s*n.widthRatio/2,A=t.height-S.y-t.area[2];e.beginPath();var C=S.color||i[b].color,T=S.color||i[b].color;if(n.linearType!=="none"){var w=e.createLinearGradient(m,S.y,m,y);n.linearType=="opacity"?(w.addColorStop(0,M(C,n.linearOpacity)),w.addColorStop(1,M(C,1))):(w.addColorStop(0,M(n.customColor[i[b].linearIndex],n.linearOpacity)),w.addColorStop(n.colorStop,M(n.customColor[i[b].linearIndex],n.linearOpacity)),w.addColorStop(1,M(C,1))),C=w}e.moveTo(m,y),e.quadraticCurveTo(S.x-0,y-A/4,S.x,S.y),e.quadraticCurveTo(S.x+0,y-A/4,m+S.width,y),e.setStrokeStyle(T),e.setFillStyle(C),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*t.pix),e.stroke()),e.fill()}}break}if(t.dataLabel!==!1&&o===1){let b,S,P;b=[].concat(t.chartData.yAxisData.ranges[0]),S=b.pop(),P=b.shift();var v=qt(i,S,P,l,s,t,n,y,o);Je(v,i,r,e,t,y)}return e.restore(),{xAxisPoints:l,calPoints:v,eachSpacing:s}}function ai(i,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=[],l=(t.height-t.area[0]-t.area[2])/t.categories.length;for(let h=0;h<t.categories.length;h++)a.push(t.area[0]+l/2+l*h);let s=k({},{type:"group",width:l/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.bar),n=[];e.save();let p=-2,c=a.length+2;return t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&o===1&&Qe(t.tooltip.offset.y,t,r,e,l),s.customColor=ft(s.linearType,s.customColor,i,r),i.forEach(function(h,f){let d,x,u;d=[].concat(t.chartData.xAxisData.ranges),u=d.pop(),x=d.shift();var g=h.data;switch(s.type){case"group":var b=Jt(g,x,u,a,l,t,r,o),y=kt(g,x,u,a,l,t,r,f,i,o);n.push(y),b=Yt(b,l,i.length,f,r,t);for(let S=0;S<b.length;S++){let P=b[S];if(P!==null&&S>p&&S<c){var v=t.area[3],m=P.y-P.width/2,A=P.height;e.beginPath();var C=P.color||h.color,T=P.color||h.color;if(s.linearType!=="none"){var w=e.createLinearGradient(v,P.y,P.x,P.y);s.linearType=="opacity"?(w.addColorStop(0,M(C,s.linearOpacity)),w.addColorStop(1,M(C,1))):(w.addColorStop(0,M(s.customColor[h.linearIndex],s.linearOpacity)),w.addColorStop(s.colorStop,M(s.customColor[h.linearIndex],s.linearOpacity)),w.addColorStop(1,M(C,1))),C=w}if(s.barBorderRadius&&s.barBorderRadius.length===4||s.barBorderCircle===!0){let L=v,F=P.width,H=P.y-P.width/2,_=P.height;s.barBorderCircle&&(s.barBorderRadius=[F/2,F/2,0,0]);let[Y,j,G,I]=s.barBorderRadius,z=Math.min(F/2,_/2);Y=Y>z?z:Y,j=j>z?z:j,G=G>z?z:G,I=I>z?z:I,Y=Y<0?0:Y,j=j<0?0:j,G=G<0?0:G,I=I<0?0:I,e.arc(L+I,H+I,I,-Math.PI,-Math.PI/2),e.arc(P.x-Y,H+Y,Y,-Math.PI/2,0),e.arc(P.x-j,H+F-j,j,0,Math.PI/2),e.arc(L+G,H+F-G,G,Math.PI/2,Math.PI)}else e.moveTo(v,m),e.lineTo(P.x,m),e.lineTo(P.x,m+P.width),e.lineTo(v,m+P.width),e.lineTo(v,m),e.setLineWidth(1),e.setStrokeStyle(T);e.setFillStyle(C),e.closePath(),e.fill()}}break;case"stack":var b=kt(g,x,u,a,l,t,r,f,i,o);n.push(b),b=Xe(b,l,i.length,f,r,t,i);for(let S=0;S<b.length;S++){let P=b[S];if(P!==null&&S>p&&S<c){e.beginPath();var C=P.color||h.color,v=P.x0;e.setFillStyle(C),e.moveTo(v,P.y-P.width/2),e.fillRect(v,P.y-P.width/2,P.height,P.width),e.closePath(),e.fill()}}break}}),t.dataLabel!==!1&&o===1&&i.forEach(function(h,f){let d,x,u;d=[].concat(t.chartData.xAxisData.ranges),u=d.pop(),x=d.shift();var g=h.data;switch(s.type){case"group":var y=Jt(g,x,u,a,l,t,r,o);y=Yt(y,l,i.length,f,r,t),$t(y,h,r,e,t);break;case"stack":var y=kt(g,x,u,a,l,t,r,f,i,o);$t(y,h,r,e,t);break}}),{yAxisPoints:a,calPoints:n,eachSpacing:l}}function ri(i,t,r,e,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,l=k({},{color:{},average:{}},r.extra.candle);l.color=k({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},l.color),l.average=k({},{show:!1,name:[],day:[],color:e.color},l.average),r.extra.candle=l;let s=r.chartData.xAxisData,n=s.xAxisPoints,p=s.eachSpacing,c=[];o.save();let h=-2,f=n.length+2,d=0,x=r.width+p;return r._scrollDistance_&&r._scrollDistance_!==0&&r.enableScroll===!0&&(o.translate(r._scrollDistance_,0),h=Math.floor(-r._scrollDistance_/p)-2,f=h+r.xAxis.itemCount+4,d=-r._scrollDistance_-p*2+r.area[3],x=d+(r.xAxis.itemCount+4)*p),(l.average.show||t)&&t.forEach(function(u,g){let y,v,m;y=[].concat(r.chartData.yAxisData.ranges[u.index]),v=y.pop(),m=y.shift();var A=u.data,C=it(A,v,m,n,p,r,e,a),T=vt(C,u);for(let b=0;b<T.length;b++){let S=T[b];if(o.beginPath(),o.setStrokeStyle(u.color),o.setLineWidth(1),S.length===1)o.moveTo(S[0].x,S[0].y),o.arc(S[0].x,S[0].y,1,0,2*Math.PI);else{o.moveTo(S[0].x,S[0].y);let P=0;for(let L=0;L<S.length;L++){let F=S[L];if(P==0&&F.x>d&&(o.moveTo(F.x,F.y),P=1),L>0&&F.x>d&&F.x<x){var w=mt(S,L-1);o.bezierCurveTo(w.ctrA.x,w.ctrA.y,w.ctrB.x,w.ctrB.y,F.x,F.y)}}o.moveTo(S[0].x,S[0].y)}o.closePath(),o.stroke()}}),i.forEach(function(u,g){let y,v,m;y=[].concat(r.chartData.yAxisData.ranges[u.index]),v=y.pop(),m=y.shift();var A=u.data,C=He(A,v,m,n,p,r,e,a);c.push(C);var T=vt(C,u);for(let w=0;w<T[0].length;w++)if(w>h&&w<f){let b=T[0][w];o.beginPath(),A[w][1]-A[w][0]>0?(o.setStrokeStyle(l.color.upLine),o.setFillStyle(l.color.upFill),o.setLineWidth(1*r.pix),o.moveTo(b[3].x,b[3].y),o.lineTo(b[1].x,b[1].y),o.lineTo(b[1].x-p/4,b[1].y),o.lineTo(b[0].x-p/4,b[0].y),o.lineTo(b[0].x,b[0].y),o.lineTo(b[2].x,b[2].y),o.lineTo(b[0].x,b[0].y),o.lineTo(b[0].x+p/4,b[0].y),o.lineTo(b[1].x+p/4,b[1].y),o.lineTo(b[1].x,b[1].y),o.moveTo(b[3].x,b[3].y)):(o.setStrokeStyle(l.color.downLine),o.setFillStyle(l.color.downFill),o.setLineWidth(1*r.pix),o.moveTo(b[3].x,b[3].y),o.lineTo(b[0].x,b[0].y),o.lineTo(b[0].x-p/4,b[0].y),o.lineTo(b[1].x-p/4,b[1].y),o.lineTo(b[1].x,b[1].y),o.lineTo(b[2].x,b[2].y),o.lineTo(b[1].x,b[1].y),o.lineTo(b[1].x+p/4,b[1].y),o.lineTo(b[0].x+p/4,b[0].y),o.lineTo(b[0].x,b[0].y),o.moveTo(b[3].x,b[3].y)),o.closePath(),o.fill(),o.stroke()}}),o.restore(),{xAxisPoints:n,calPoints:c,eachSpacing:p}}function oi(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1,activeType:"none"},t.extra.area);let l=t.chartData.xAxisData,s=l.xAxisPoints,n=l.eachSpacing,p=t.height-t.area[2],c=[];e.save();let h=0,f=t.width+n;return t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),h=-t._scrollDistance_-n*2+t.area[3],f=h+(t.xAxis.itemCount+4)*n),i.forEach(function(d,x){let u,g,y;u=[].concat(t.chartData.yAxisData.ranges[d.index]),g=u.pop(),y=u.shift();let v=d.data,m=it(v,g,y,s,n,t,r,o);c.push(m);let A=vt(m,d);for(let C=0;C<A.length;C++){let T=A[C];if(e.beginPath(),e.setStrokeStyle(M(d.color,a.opacity)),a.gradient){let w=e.createLinearGradient(0,t.area[0],0,t.height-t.area[2]);w.addColorStop("0",M(d.color,a.opacity)),w.addColorStop("1.0",M("#FFFFFF",.1)),e.setFillStyle(w)}else e.setFillStyle(M(d.color,a.opacity));if(e.setLineWidth(a.width*t.pix),T.length>1){let w=T[0],b=T[T.length-1];e.moveTo(w.x,w.y);let S=0;if(a.type==="curve")for(let P=0;P<T.length;P++){let L=T[P];if(S==0&&L.x>h&&(e.moveTo(L.x,L.y),S=1),P>0&&L.x>h&&L.x<f){let F=mt(T,P-1);e.bezierCurveTo(F.ctrA.x,F.ctrA.y,F.ctrB.x,F.ctrB.y,L.x,L.y)}}if(a.type==="straight")for(let P=0;P<T.length;P++){let L=T[P];S==0&&L.x>h&&(e.moveTo(L.x,L.y),S=1),P>0&&L.x>h&&L.x<f&&e.lineTo(L.x,L.y)}if(a.type==="step")for(let P=0;P<T.length;P++){let L=T[P];S==0&&L.x>h&&(e.moveTo(L.x,L.y),S=1),P>0&&L.x>h&&L.x<f&&(e.lineTo(L.x,T[P-1].y),e.lineTo(L.x,L.y))}e.lineTo(b.x,p),e.lineTo(w.x,p),e.lineTo(w.x,w.y)}else{let w=T[0];e.moveTo(w.x-n/2,w.y)}if(e.closePath(),e.fill(),a.addLine){if(d.lineType=="dash"){let w=d.dashLength?d.dashLength:8;w*=t.pix,e.setLineDash([w,w])}if(e.beginPath(),e.setStrokeStyle(d.color),e.setLineWidth(a.width*t.pix),T.length===1)e.moveTo(T[0].x,T[0].y);else{e.moveTo(T[0].x,T[0].y);let w=0;if(a.type==="curve")for(let b=0;b<T.length;b++){let S=T[b];if(w==0&&S.x>h&&(e.moveTo(S.x,S.y),w=1),b>0&&S.x>h&&S.x<f){let P=mt(T,b-1);e.bezierCurveTo(P.ctrA.x,P.ctrA.y,P.ctrB.x,P.ctrB.y,S.x,S.y)}}if(a.type==="straight")for(let b=0;b<T.length;b++){let S=T[b];w==0&&S.x>h&&(e.moveTo(S.x,S.y),w=1),b>0&&S.x>h&&S.x<f&&e.lineTo(S.x,S.y)}if(a.type==="step")for(let b=0;b<T.length;b++){let S=T[b];w==0&&S.x>h&&(e.moveTo(S.x,S.y),w=1),b>0&&S.x>h&&S.x<f&&(e.lineTo(S.x,T[b-1].y),e.lineTo(S.x,S.y))}e.moveTo(T[0].x,T[0].y)}e.stroke(),e.setLineDash([])}}t.dataPointShape!==!1&&Pt(m,d.color,d.pointShape,e,t),ae(m,d.color,d.pointShape,e,t,a,x)}),t.dataLabel!==!1&&o===1&&i.forEach(function(d,x){let u,g,y;u=[].concat(t.chartData.yAxisData.ranges[d.index]),g=u.pop(),y=u.shift();var v=d.data,m=it(v,g,y,s,n,t,r,o);At(m,d,r,e,t)}),e.restore(),{xAxisPoints:s,calPoints:c,eachSpacing:n}}function ni(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{type:"circle"},t.extra.scatter);let l=t.chartData.xAxisData,s=l.xAxisPoints,n=l.eachSpacing;var p=[];e.save();let c=0,h=t.width+n;return t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),c=-t._scrollDistance_-n*2+t.area[3],h=c+(t.xAxis.itemCount+4)*n),i.forEach(function(f,d){let x,u,g;x=[].concat(t.chartData.yAxisData.ranges[f.index]),u=x.pop(),g=x.shift();var y=f.data,v=it(y,u,g,s,n,t,r,o);e.beginPath(),e.setStrokeStyle(f.color),e.setFillStyle(f.color),e.setLineWidth(1*t.pix);var m=f.pointShape;if(m==="diamond")v.forEach(function(A,C){A!==null&&(e.moveTo(A.x,A.y-4.5),e.lineTo(A.x-4.5,A.y),e.lineTo(A.x,A.y+4.5),e.lineTo(A.x+4.5,A.y),e.lineTo(A.x,A.y-4.5))});else if(m==="circle")v.forEach(function(A,C){A!==null&&(e.moveTo(A.x+2.5*t.pix,A.y),e.arc(A.x,A.y,3*t.pix,0,2*Math.PI,!1))});else if(m==="square")v.forEach(function(A,C){A!==null&&(e.moveTo(A.x-3.5,A.y-3.5),e.rect(A.x-3.5,A.y-3.5,7,7))});else if(m==="triangle")v.forEach(function(A,C){A!==null&&(e.moveTo(A.x,A.y-4.5),e.lineTo(A.x-4.5,A.y+4.5),e.lineTo(A.x+4.5,A.y+4.5),e.lineTo(A.x,A.y-4.5))});else if(m==="triangle")return;e.closePath(),e.fill(),e.stroke()}),t.dataLabel!==!1&&o===1&&i.forEach(function(f,d){let x,u,g;x=[].concat(t.chartData.yAxisData.ranges[f.index]),u=x.pop(),g=x.shift();var y=f.data,v=it(y,u,g,s,n,t,r,o);At(v,f,r,e,t)}),e.restore(),{xAxisPoints:s,calPoints:p,eachSpacing:n}}function li(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{opacity:1,border:2},t.extra.bubble);let l=t.chartData.xAxisData,s=l.xAxisPoints,n=l.eachSpacing;var p=[];e.save();let c=0,h=t.width+n;return t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),c=-t._scrollDistance_-n*2+t.area[3],h=c+(t.xAxis.itemCount+4)*n),i.forEach(function(f,d){let x,u,g;x=[].concat(t.chartData.yAxisData.ranges[f.index]),u=x.pop(),g=x.shift();var y=f.data,v=it(y,u,g,s,n,t,r,o);e.beginPath(),e.setStrokeStyle(f.color),e.setLineWidth(a.border*t.pix),e.setFillStyle(M(f.color,a.opacity)),v.forEach(function(m,A){e.moveTo(m.x+m.r,m.y),e.arc(m.x,m.y,m.r*t.pix,0,2*Math.PI,!1)}),e.closePath(),e.fill(),e.stroke(),t.dataLabel!==!1&&o===1&&v.forEach(function(m,A){e.beginPath();var C=f.textSize*t.pix||r.fontSize;e.setFontSize(C),e.setFillStyle(f.textColor||"#FFFFFF"),e.setTextAlign("center"),e.fillText(String(m.t),m.x,m.y+C/2),e.closePath(),e.stroke(),e.setTextAlign("left")})}),e.restore(),{xAxisPoints:s,calPoints:p,eachSpacing:n}}function si(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{type:"straight",width:2,activeType:"none",linearType:"none",onShadow:!1,animation:"vertical"},t.extra.line);a.width*=t.pix;let l=t.chartData.xAxisData,s=l.xAxisPoints,n=l.eachSpacing;var p=[];e.save();let c=0,h=t.width+n;return t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),c=-t._scrollDistance_-n*2+t.area[3],h=c+(t.xAxis.itemCount+4)*n),i.forEach(function(f,d){e.beginPath(),e.setStrokeStyle(f.color),e.moveTo(-1e4,-1e4),e.lineTo(-10001,-10001),e.stroke();let x,u,g;x=[].concat(t.chartData.yAxisData.ranges[f.index]),u=x.pop(),g=x.shift();var y=f.data,v=Ye(y,u,g,s,n,t,r,a,o);p.push(v);var m=vt(v,f);if(f.lineType=="dash"){let w=f.dashLength?f.dashLength:8;w*=t.pix,e.setLineDash([w,w])}e.beginPath();var A=f.color;if(a.linearType!=="none"&&f.linearColor&&f.linearColor.length>0){for(var C=e.createLinearGradient(t.chartData.xAxisData.startX,t.height/2,t.chartData.xAxisData.endX,t.height/2),T=0;T<f.linearColor.length;T++)C.addColorStop(f.linearColor[T][0],M(f.linearColor[T][1],1));A=C}e.setStrokeStyle(A),a.onShadow==!0&&f.setShadow&&f.setShadow.length>0?e.setShadow(f.setShadow[0],f.setShadow[1],f.setShadow[2],f.setShadow[3]):e.setShadow(0,0,0,"rgba(0,0,0,0)"),e.setLineWidth(a.width),m.forEach(function(w,b){if(w.length===1)e.moveTo(w[0].x,w[0].y);else{e.moveTo(w[0].x,w[0].y);let P=0;if(a.type==="curve")for(let L=0;L<w.length;L++){let F=w[L];if(P==0&&F.x>c&&(e.moveTo(F.x,F.y),P=1),L>0&&F.x>c&&F.x<h){var S=mt(w,L-1);e.bezierCurveTo(S.ctrA.x,S.ctrA.y,S.ctrB.x,S.ctrB.y,F.x,F.y)}}if(a.type==="straight")for(let L=0;L<w.length;L++){let F=w[L];P==0&&F.x>c&&(e.moveTo(F.x,F.y),P=1),L>0&&F.x>c&&F.x<h&&e.lineTo(F.x,F.y)}if(a.type==="step")for(let L=0;L<w.length;L++){let F=w[L];P==0&&F.x>c&&(e.moveTo(F.x,F.y),P=1),L>0&&F.x>c&&F.x<h&&(e.lineTo(F.x,w[L-1].y),e.lineTo(F.x,F.y))}e.moveTo(w[0].x,w[0].y)}}),e.stroke(),e.setLineDash([]),t.dataPointShape!==!1&&Pt(v,f.color,f.pointShape,e,t),ae(v,f.color,f.pointShape,e,t,a)}),t.dataLabel!==!1&&o===1&&i.forEach(function(f,d){let x,u,g;x=[].concat(t.chartData.yAxisData.ranges[f.index]),u=x.pop(),g=x.shift();var y=f.data,v=it(y,u,g,s,n,t,r,o);At(v,f,r,e,t)}),e.restore(),{xAxisPoints:s,calPoints:p,eachSpacing:n}}function ci(i,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=t.chartData.xAxisData,l=a.xAxisPoints,s=a.eachSpacing,n=k({},{width:s/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.mix.column),p=k({},{opacity:.2,gradient:!1},t.extra.mix.area),c=k({},{width:2},t.extra.mix.line),h=t.height-t.area[2],f=[];var d=0,x=0;i.forEach(function(m,A){m.type=="column"&&(x+=1)}),e.save();let u=-2,g=l.length+2,y=0,v=t.width+s;if(t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&(e.translate(t._scrollDistance_,0),u=Math.floor(-t._scrollDistance_/s)-2,g=u+t.xAxis.itemCount+4,y=-t._scrollDistance_-s*2+t.area[3],v=y+(t.xAxis.itemCount+4)*s),n.customColor=ft(n.linearType,n.customColor,i,r),i.forEach(function(m,A){let C,T,w;C=[].concat(t.chartData.yAxisData.ranges[m.index]),T=C.pop(),w=C.shift();var b=m.data,S=it(b,T,w,l,s,t,r,o);if(f.push(S),m.type=="column"){S=wt(S,s,x,d,r,t);for(let I=0;I<S.length;I++){let z=S[I];if(z!==null&&I>u&&I<g){var P=z.x-z.width/2,L=t.height-z.y-t.area[2];e.beginPath();var F=z.color||m.color,H=z.color||m.color;if(n.linearType!=="none"){var _=e.createLinearGradient(P,z.y,P,t.height-t.area[2]);n.linearType=="opacity"?(_.addColorStop(0,M(F,n.linearOpacity)),_.addColorStop(1,M(F,1))):(_.addColorStop(0,M(n.customColor[m.linearIndex],n.linearOpacity)),_.addColorStop(n.colorStop,M(n.customColor[m.linearIndex],n.linearOpacity)),_.addColorStop(1,M(F,1))),F=_}if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle){let N=P,E=z.y,R=z.width,O=t.height-t.area[2]-z.y;n.barBorderCircle&&(n.barBorderRadius=[R/2,R/2,0,0]);let[B,U,rt,ot]=n.barBorderRadius,dt=Math.min(R/2,O/2);B=B>dt?dt:B,U=U>dt?dt:U,rt=rt>dt?dt:rt,ot=ot>dt?dt:ot,B=B<0?0:B,U=U<0?0:U,rt=rt<0?0:rt,ot=ot<0?0:ot,e.arc(N+B,E+B,B,-Math.PI,-Math.PI/2),e.arc(N+R-U,E+U,U,-Math.PI/2,0),e.arc(N+R-rt,E+O-rt,rt,0,Math.PI/2),e.arc(N+ot,E+O-ot,ot,Math.PI/2,Math.PI)}else e.moveTo(P,z.y),e.lineTo(P+z.width,z.y),e.lineTo(P+z.width,t.height-t.area[2]),e.lineTo(P,t.height-t.area[2]),e.lineTo(P,z.y),e.setLineWidth(1),e.setStrokeStyle(H);e.setFillStyle(F),e.closePath(),e.fill()}}d+=1}if(m.type=="area"){let I=vt(S,m);for(let z=0;z<I.length;z++){let N=I[z];if(e.beginPath(),e.setStrokeStyle(m.color),e.setStrokeStyle(M(m.color,p.opacity)),p.gradient){let E=e.createLinearGradient(0,t.area[0],0,t.height-t.area[2]);E.addColorStop("0",M(m.color,p.opacity)),E.addColorStop("1.0",M("#FFFFFF",.1)),e.setFillStyle(E)}else e.setFillStyle(M(m.color,p.opacity));if(e.setLineWidth(2*t.pix),N.length>1){var Y=N[0];let E=N[N.length-1];e.moveTo(Y.x,Y.y);let R=0;if(m.style==="curve")for(let O=0;O<N.length;O++){let B=N[O];if(R==0&&B.x>y&&(e.moveTo(B.x,B.y),R=1),O>0&&B.x>y&&B.x<v){var j=mt(N,O-1);e.bezierCurveTo(j.ctrA.x,j.ctrA.y,j.ctrB.x,j.ctrB.y,B.x,B.y)}}else for(let O=0;O<N.length;O++){let B=N[O];R==0&&B.x>y&&(e.moveTo(B.x,B.y),R=1),O>0&&B.x>y&&B.x<v&&e.lineTo(B.x,B.y)}e.lineTo(E.x,h),e.lineTo(Y.x,h),e.lineTo(Y.x,Y.y)}else{let E=N[0];e.moveTo(E.x-s/2,E.y)}e.closePath(),e.fill()}}if(m.type=="line"){var G=vt(S,m);G.forEach(function(I,z){if(m.lineType=="dash"){let E=m.dashLength?m.dashLength:8;E*=t.pix,e.setLineDash([E,E])}if(e.beginPath(),e.setStrokeStyle(m.color),e.setLineWidth(c.width*t.pix),I.length===1)e.moveTo(I[0].x,I[0].y);else{e.moveTo(I[0].x,I[0].y);let E=0;if(m.style=="curve")for(let R=0;R<I.length;R++){let O=I[R];if(E==0&&O.x>y&&(e.moveTo(O.x,O.y),E=1),R>0&&O.x>y&&O.x<v){var N=mt(I,R-1);e.bezierCurveTo(N.ctrA.x,N.ctrA.y,N.ctrB.x,N.ctrB.y,O.x,O.y)}}else for(let R=0;R<I.length;R++){let O=I[R];E==0&&O.x>y&&(e.moveTo(O.x,O.y),E=1),R>0&&O.x>y&&O.x<v&&e.lineTo(O.x,O.y)}e.moveTo(I[0].x,I[0].y)}e.stroke(),e.setLineDash([])})}m.type=="point"&&(m.addPoint=!0),m.addPoint==!0&&m.type!=="column"&&Pt(S,m.color,m.pointShape,e,t)}),t.dataLabel!==!1&&o===1){var d=0;i.forEach(function(A,C){let T,w,b;T=[].concat(t.chartData.yAxisData.ranges[A.index]),w=T.pop(),b=T.shift();var S=A.data,P=it(S,w,b,l,s,t,r,o);A.type!=="column"?At(P,A,r,e,t):(P=wt(P,s,x,d,r,t),At(P,A,r,e,t),d+=1)})}return e.restore(),{xAxisPoints:l,calPoints:f,eachSpacing:s}}function tt(i,t,r,e,o,a){var l=i.extra.tooltip||{};l.horizentalLine&&i.tooltip&&e===1&&(i.type=="line"||i.type=="area"||i.type=="column"||i.type=="mount"||i.type=="candle"||i.type=="mix")&&Ke(i,t,r,o,a),r.save(),i._scrollDistance_&&i._scrollDistance_!==0&&i.enableScroll===!0&&r.translate(i._scrollDistance_,0),i.tooltip&&i.tooltip.textList&&i.tooltip.textList.length&&e===1&&ti(i.tooltip.textList,i.tooltip.offset,i,t,r,o,a),r.restore()}function lt(i,t,r,e){let o=t.chartData.xAxisData,a=o.xAxisPoints,l=o.startX,s=o.endX,n=o.eachSpacing;var p="center";(t.type=="bar"||t.type=="line"||t.type=="area"||t.type=="scatter"||t.type=="bubble")&&(p=t.xAxis.boundaryGap);var c=t.height-t.area[2],h=t.area[0];if(t.enableScroll&&t.xAxis.scrollShow){var f=t.height-t.area[2]+r.xAxisHeight,d=s-l,x=n*(a.length-1);t.type=="mount"&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),x+=(t.extra.mount.widthRatio-1)*n);var u=d*d/x,g=0;t._scrollDistance_&&(g=-t._scrollDistance_*d/x),e.beginPath(),e.setLineCap("round"),e.setLineWidth(6*t.pix),e.setStrokeStyle(t.xAxis.scrollBackgroundColor||"#EFEBEF"),e.moveTo(l,f),e.lineTo(s,f),e.stroke(),e.closePath(),e.beginPath(),e.setLineCap("round"),e.setLineWidth(6*t.pix),e.setStrokeStyle(t.xAxis.scrollColor||"#A6A6A6"),e.moveTo(l+g,f),e.lineTo(l+g+u,f),e.stroke(),e.closePath(),e.setLineCap("butt")}if(e.save(),t._scrollDistance_&&t._scrollDistance_!==0&&e.translate(t._scrollDistance_,0),t.xAxis.calibration===!0&&(e.setStrokeStyle(t.xAxis.gridColor||"#cccccc"),e.setLineCap("butt"),e.setLineWidth(1*t.pix),a.forEach(function(v,m){m>0&&(e.beginPath(),e.moveTo(v-n/2,c),e.lineTo(v-n/2,c+3*t.pix),e.closePath(),e.stroke())})),t.xAxis.disableGrid!==!0&&(e.setStrokeStyle(t.xAxis.gridColor||"#cccccc"),e.setLineCap("butt"),e.setLineWidth(1*t.pix),t.xAxis.gridType=="dash"&&e.setLineDash([t.xAxis.dashLength*t.pix,t.xAxis.dashLength*t.pix]),t.xAxis.gridEval=t.xAxis.gridEval||1,a.forEach(function(v,m){m%t.xAxis.gridEval==0&&(e.beginPath(),e.moveTo(v,c),e.lineTo(v,h),e.stroke())}),e.setLineDash([])),t.xAxis.disabled!==!0){let v=i.length;t.xAxis.labelCount&&(t.xAxis.itemCount?v=Math.ceil(i.length/t.xAxis.itemCount*t.xAxis.labelCount):v=t.xAxis.labelCount,v-=1);let m=Math.ceil(i.length/v),A=[],C=i.length;for(let T=0;T<C;T++)T%m!==0?A.push(""):A.push(i[T]);A[C-1]=i[C-1];var y=t.xAxis.fontSize*t.pix||r.fontSize;r._xAxisTextAngle_===0?A.forEach(function(T,w){var b=t.xAxis.formatter?t.xAxis.formatter(T,w,t):T,S=-X(String(b),y,e)/2;p=="center"&&(S+=n/2);var P=0;t.xAxis.scrollShow&&(P=6*t.pix);var L=t._scrollDistance_||0,F=p=="center"?a[w]+n/2:a[w];F-Math.abs(L)>=t.area[3]-1&&F-Math.abs(L)<=t.width-t.area[1]+1&&(e.beginPath(),e.setFontSize(y),e.setFillStyle(t.xAxis.fontColor||t.fontColor),e.fillText(String(b),a[w]+S,c+t.xAxis.marginTop*t.pix+(t.xAxis.lineHeight-t.xAxis.fontSize)*t.pix/2+t.xAxis.fontSize*t.pix),e.closePath(),e.stroke())}):A.forEach(function(T,w){var b=t.xAxis.formatter?t.xAxis.formatter(T):T,S=t._scrollDistance_||0,P=p=="center"?a[w]+n/2:a[w];if(P-Math.abs(S)>=t.area[3]-1&&P-Math.abs(S)<=t.width-t.area[1]+1){e.save(),e.beginPath(),e.setFontSize(y),e.setFillStyle(t.xAxis.fontColor||t.fontColor);var L=X(String(b),y,e),F=a[w];p=="center"&&(F=a[w]+n/2);var H=0;t.xAxis.scrollShow&&(H=6*t.pix);var _=c+t.xAxis.marginTop*t.pix+y-y*Math.abs(Math.sin(r._xAxisTextAngle_));t.xAxis.rotateAngle<0?(F-=y/2,L=0):(F+=y/2,L=-L),e.translate(F,_),e.rotate(-1*r._xAxisTextAngle_),e.fillText(String(b),L,0),e.closePath(),e.stroke(),e.restore()}})}e.restore(),t.xAxis.title&&(e.beginPath(),e.setFontSize(t.xAxis.titleFontSize*t.pix),e.setFillStyle(t.xAxis.titleFontColor),e.fillText(String(t.xAxis.title),t.width-t.area[1]+t.xAxis.titleOffsetX*t.pix,t.height-t.area[2]+t.xAxis.marginTop*t.pix+(t.xAxis.lineHeight-t.xAxis.titleFontSize)*t.pix/2+(t.xAxis.titleFontSize+t.xAxis.titleOffsetY)*t.pix),e.closePath(),e.stroke()),t.xAxis.axisLine&&(e.beginPath(),e.setStrokeStyle(t.xAxis.axisLineColor),e.setLineWidth(1*t.pix),e.moveTo(l,t.height-t.area[2]),e.lineTo(s,t.height-t.area[2]),e.stroke())}function pt(i,t,r,e){if(t.yAxis.disableGrid===!0)return;let a=(t.height-t.area[0]-t.area[2])/t.yAxis.splitNumber,l=t.area[3],s=t.chartData.xAxisData.xAxisPoints,n=t.chartData.xAxisData.eachSpacing,p=n*(s.length-1);t.type=="mount"&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),p+=(t.extra.mount.widthRatio-1)*n);let c=l+p,h=[],f=1;t.xAxis.axisLine===!1&&(f=0);for(let d=f;d<t.yAxis.splitNumber+1;d++)h.push(t.height-t.area[2]-a*d);e.save(),t._scrollDistance_&&t._scrollDistance_!==0&&e.translate(t._scrollDistance_,0),t.yAxis.gridType=="dash"&&e.setLineDash([t.yAxis.dashLength*t.pix,t.yAxis.dashLength*t.pix]),e.setStrokeStyle(t.yAxis.gridColor),e.setLineWidth(1*t.pix),h.forEach(function(d,x){e.beginPath(),e.moveTo(l,d),e.lineTo(c,d),e.stroke()}),e.setLineDash([]),e.restore()}function st(i,t,r,e){if(t.yAxis.disabled===!0)return;var o=t.height-t.area[0]-t.area[2],a=o/t.yAxis.splitNumber,l=t.area[3],s=t.width-t.area[1],n=t.height-t.area[2];e.beginPath(),e.setFillStyle(t.background),t.enableScroll==!0&&t.xAxis.scrollPosition&&t.xAxis.scrollPosition!=="left"&&e.fillRect(0,0,l,n+2*t.pix),t.enableScroll==!0&&t.xAxis.scrollPosition&&t.xAxis.scrollPosition!=="right"&&e.fillRect(s,0,t.width,n+2*t.pix),e.closePath(),e.stroke();let p=t.area[3],c=t.width-t.area[1],h=t.area[3]+(t.width-t.area[1]-t.area[3])/2;if(t.yAxis.data)for(let d=0;d<t.yAxis.data.length;d++){let x=t.yAxis.data[d];var f=[];if(x.type==="categories")for(let u=0;u<=x.categories.length;u++)f.push(t.area[0]+o/x.categories.length/2+o/x.categories.length*u);else for(let u=0;u<=t.yAxis.splitNumber;u++)f.push(t.area[0]+a*u);if(x.disabled!==!0){let u=t.chartData.yAxisData.rangesFormat[d],g=x.fontSize?x.fontSize*t.pix:r.fontSize,y=t.chartData.yAxisData.yAxisWidth[d],v=x.textAlign||"right";if(u.forEach(function(m,A){var C=f[A];e.beginPath(),e.setFontSize(g),e.setLineWidth(1*t.pix),e.setStrokeStyle(x.axisLineColor||"#cccccc"),e.setFillStyle(x.fontColor||t.fontColor);let T=0,w=4*t.pix;if(y.position=="left"){switch(x.calibration==!0&&(e.moveTo(p,C),e.lineTo(p-3*t.pix,C),w+=3*t.pix),v){case"left":e.setTextAlign("left"),T=p-y.width;break;case"right":e.setTextAlign("right"),T=p-w;break;default:e.setTextAlign("center"),T=p-y.width/2}e.fillText(String(m),T,C+g/2-3*t.pix)}else if(y.position=="right"){switch(x.calibration==!0&&(e.moveTo(c,C),e.lineTo(c+3*t.pix,C),w+=3*t.pix),v){case"left":e.setTextAlign("left"),T=c+w;break;case"right":e.setTextAlign("right"),T=c+y.width;break;default:e.setTextAlign("center"),T=c+y.width/2}e.fillText(String(m),T,C+g/2-3*t.pix)}else if(y.position=="center"){switch(x.calibration==!0&&(e.moveTo(h,C),e.lineTo(h-3*t.pix,C),w+=3*t.pix),v){case"left":e.setTextAlign("left"),T=h-y.width;break;case"right":e.setTextAlign("right"),T=h-w;break;default:e.setTextAlign("center"),T=h-y.width/2}e.fillText(String(m),T,C+g/2-3*t.pix)}e.closePath(),e.stroke(),e.setTextAlign("left")}),x.axisLine!==!1&&(e.beginPath(),e.setStrokeStyle(x.axisLineColor||"#cccccc"),e.setLineWidth(1*t.pix),y.position=="left"?(e.moveTo(p,t.height-t.area[2]),e.lineTo(p,t.area[0])):y.position=="right"?(e.moveTo(c,t.height-t.area[2]),e.lineTo(c,t.area[0])):y.position=="center"&&(e.moveTo(h,t.height-t.area[2]),e.lineTo(h,t.area[0])),e.stroke()),t.yAxis.showTitle){let m=x.titleFontSize*t.pix||r.fontSize,A=x.title;e.beginPath(),e.setFontSize(m),e.setFillStyle(x.titleFontColor||t.fontColor),y.position=="left"?e.fillText(A,p-X(A,m,e)/2+(x.titleOffsetX||0),t.area[0]-(10-(x.titleOffsetY||0))*t.pix):y.position=="right"?e.fillText(A,c-X(A,m,e)/2+(x.titleOffsetX||0),t.area[0]-(10-(x.titleOffsetY||0))*t.pix):y.position=="center"&&e.fillText(A,h-X(A,m,e)/2+(x.titleOffsetX||0),t.area[0]-(10-(x.titleOffsetY||0))*t.pix),e.closePath(),e.stroke()}y.position=="left"?p-=y.width+t.yAxis.padding*t.pix:c+=y.width+t.yAxis.padding*t.pix}}}function Q(i,t,r,e,o){if(t.legend.show===!1)return;let a=o.legendData,l=a.points,s=a.area,n=t.legend.padding*t.pix,p=t.legend.fontSize*t.pix,c=15*t.pix,h=5*t.pix,f=t.legend.itemGap*t.pix,d=Math.max(t.legend.lineHeight*t.pix,p);e.beginPath(),e.setLineWidth(t.legend.borderWidth*t.pix),e.setStrokeStyle(t.legend.borderColor),e.setFillStyle(t.legend.backgroundColor),e.moveTo(s.start.x,s.start.y),e.rect(s.start.x,s.start.y,s.width,s.height),e.closePath(),e.fill(),e.stroke(),l.forEach(function(x,u){let g=0,y=0;g=a.widthArr[u],y=a.heightArr[u];let v=0,m=0;if(t.legend.position=="top"||t.legend.position=="bottom"){switch(t.legend.float){case"left":v=s.start.x+n;break;case"right":v=s.start.x+s.width-g;break;default:v=s.start.x+(s.width-g)/2}m=s.start.y+n+u*d}else u==0?g=0:g=a.widthArr[u-1],v=s.start.x+n+g,m=s.start.y+n+(s.height-y)/2;e.setFontSize(r.fontSize);for(let A=0;A<x.length;A++){let C=x[A];switch(C.area=[0,0,0,0],C.area[0]=v,C.area[1]=m,C.area[3]=m+d,e.beginPath(),e.setLineWidth(1*t.pix),e.setStrokeStyle(C.show?C.color:t.legend.hiddenColor),e.setFillStyle(C.show?C.color:t.legend.hiddenColor),C.legendShape){case"line":e.moveTo(v,m+.5*d-2*t.pix),e.fillRect(v,m+.5*d-2*t.pix,15*t.pix,4*t.pix);break;case"triangle":e.moveTo(v+7.5*t.pix,m+.5*d-5*t.pix),e.lineTo(v+2.5*t.pix,m+.5*d+5*t.pix),e.lineTo(v+12.5*t.pix,m+.5*d+5*t.pix),e.lineTo(v+7.5*t.pix,m+.5*d-5*t.pix);break;case"diamond":e.moveTo(v+7.5*t.pix,m+.5*d-5*t.pix),e.lineTo(v+2.5*t.pix,m+.5*d),e.lineTo(v+7.5*t.pix,m+.5*d+5*t.pix),e.lineTo(v+12.5*t.pix,m+.5*d),e.lineTo(v+7.5*t.pix,m+.5*d-5*t.pix);break;case"circle":e.moveTo(v+7.5*t.pix,m+.5*d),e.arc(v+7.5*t.pix,m+.5*d,5*t.pix,0,2*Math.PI);break;case"rect":e.moveTo(v,m+.5*d-5*t.pix),e.fillRect(v,m+.5*d-5*t.pix,15*t.pix,10*t.pix);break;case"square":e.moveTo(v+5*t.pix,m+.5*d-5*t.pix),e.fillRect(v+5*t.pix,m+.5*d-5*t.pix,10*t.pix,10*t.pix);break;case"none":break;default:e.moveTo(v,m+.5*d-5*t.pix),e.fillRect(v,m+.5*d-5*t.pix,15*t.pix,10*t.pix)}e.closePath(),e.fill(),e.stroke(),v+=c+h;let T=.5*d+.5*p-2,w=C.legendText?C.legendText:C.name;e.beginPath(),e.setFontSize(p),e.setFillStyle(C.show?t.legend.fontColor:t.legend.hiddenColor),e.fillText(w,v,m+T),e.closePath(),e.stroke(),t.legend.position=="top"||t.legend.position=="bottom"?(v+=X(w,p,e)+f,C.area[2]=v):(C.area[2]=v+X(w,p,e)+f,v-=c+h,m+=d)}})}function Zt(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},t.type=="pie"?t.extra.pie:t.extra.ring),l={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2};r.pieChartLinePadding==0&&(r.pieChartLinePadding=a.activeRadius*t.pix);var s=Math.min((t.width-t.area[1]-t.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(t.height-t.area[0]-t.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);s=s<10?10:s,a.customRadius>0&&(s=a.customRadius*t.pix),i=Rt(i,s,o);var n=a.activeRadius*t.pix;if(a.customColor=ft(a.linearType,a.customColor,i,r),i=i.map(function(c){return c._start_+=a.offsetAngle*Math.PI/180,c}),i.forEach(function(c,h){t.tooltip&&t.tooltip.index==h&&(e.beginPath(),e.setFillStyle(M(c.color,a.activeOpacity||.5)),e.moveTo(l.x,l.y),e.arc(l.x,l.y,c._radius_+n,c._start_,c._start_+2*c._proportion_*Math.PI),e.closePath(),e.fill()),e.beginPath(),e.setLineWidth(a.borderWidth*t.pix),e.lineJoin="round",e.setStrokeStyle(a.borderColor);var f=c.color;if(a.linearType=="custom"){var d;e.createCircularGradient?d=e.createCircularGradient(l.x,l.y,c._radius_):d=e.createRadialGradient(l.x,l.y,0,l.x,l.y,c._radius_),d.addColorStop(0,M(a.customColor[c.linearIndex],1)),d.addColorStop(1,M(c.color,1)),f=d}e.setFillStyle(f),e.moveTo(l.x,l.y),e.arc(l.x,l.y,c._radius_,c._start_,c._start_+2*c._proportion_*Math.PI),e.closePath(),e.fill(),a.border==!0&&e.stroke()}),t.type==="ring"){var p=s*.6;typeof a.ringWidth=="number"&&a.ringWidth>0&&(p=Math.max(0,s-a.ringWidth*t.pix)),e.beginPath(),e.setFillStyle(a.centerColor),e.moveTo(l.x,l.y),e.arc(l.x,l.y,p,0,2*Math.PI),e.closePath(),e.fill()}return t.dataLabel!==!1&&o===1&&re(i,t,r,e,s,l),o===1&&t.type==="ring"&&Bt(t,r,e,l),{center:l,radius:s,series:i}}function hi(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},t.extra.rose);r.pieChartLinePadding==0&&(r.pieChartLinePadding=a.activeRadius*t.pix);var l={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2},s=Math.min((t.width-t.area[1]-t.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(t.height-t.area[0]-t.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);s=s<10?10:s;var n=a.minRadius||s*.5;s<n&&(s=n+10),i=ie(i,a.type,n,s,o);var p=a.activeRadius*t.pix;return a.customColor=ft(a.linearType,a.customColor,i,r),i=i.map(function(c){return c._start_+=(a.offsetAngle||0)*Math.PI/180,c}),i.forEach(function(c,h){t.tooltip&&t.tooltip.index==h&&(e.beginPath(),e.setFillStyle(M(c.color,a.activeOpacity||.5)),e.moveTo(l.x,l.y),e.arc(l.x,l.y,p+c._radius_,c._start_,c._start_+2*c._rose_proportion_*Math.PI),e.closePath(),e.fill()),e.beginPath(),e.setLineWidth(a.borderWidth*t.pix),e.lineJoin="round",e.setStrokeStyle(a.borderColor);var f=c.color;if(a.linearType=="custom"){var d;e.createCircularGradient?d=e.createCircularGradient(l.x,l.y,c._radius_):d=e.createRadialGradient(l.x,l.y,0,l.x,l.y,c._radius_),d.addColorStop(0,M(a.customColor[c.linearIndex],1)),d.addColorStop(1,M(c.color,1)),f=d}e.setFillStyle(f),e.moveTo(l.x,l.y),e.arc(l.x,l.y,c._radius_,c._start_,c._start_+2*c._rose_proportion_*Math.PI),e.closePath(),e.fill(),a.border==!0&&e.stroke()}),t.dataLabel!==!1&&o===1&&re(i,t,r,e,s,l),{center:l,radius:s,series:i}}function fi(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{startAngle:.75,endAngle:.25,type:"default",direction:"cw",lineCap:"round",width:12,gap:2,linearType:"none",customColor:[]},t.extra.arcbar);i=ze(i,a,o);var l;a.centerX||a.centerY?l={x:a.centerX?a.centerX:t.width/2,y:a.centerY?a.centerY:t.height/2}:l={x:t.width/2,y:t.height/2};var s;a.radius?s=a.radius:(s=Math.min(l.x,l.y),s-=5*t.pix,s-=a.width/2),s=s<10?10:s,a.customColor=ft(a.linearType,a.customColor,i,r);for(let c=0;c<i.length;c++){let h=i[c];e.setLineWidth(a.width*t.pix),e.setStrokeStyle(a.backgroundColor||"#E9E9E9"),e.setLineCap(a.lineCap),e.beginPath(),a.type=="default"?e.arc(l.x,l.y,s-(a.width*t.pix+a.gap*t.pix)*c,a.startAngle*Math.PI,a.endAngle*Math.PI,a.direction=="ccw"):e.arc(l.x,l.y,s-(a.width*t.pix+a.gap*t.pix)*c,0,2*Math.PI,a.direction=="ccw"),e.stroke();var n=h.color;if(a.linearType=="custom"){var p=e.createLinearGradient(l.x-s,l.y,l.x+s,l.y);p.addColorStop(1,M(a.customColor[h.linearIndex],1)),p.addColorStop(0,M(h.color,1)),n=p}e.setLineWidth(a.width*t.pix),e.setStrokeStyle(n),e.setLineCap(a.lineCap),e.beginPath(),e.arc(l.x,l.y,s-(a.width*t.pix+a.gap*t.pix)*c,a.startAngle*Math.PI,h._proportion_*Math.PI,a.direction=="ccw"),e.stroke()}return Bt(t,r,e,l),{center:l,radius:s,series:i}}function di(i,t,r,e,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,l=k({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},r.extra.gauge);l.oldAngle==null&&(l.oldAngle=l.startAngle),l.oldData==null&&(l.oldData=0),i=Re(i,l.startAngle,l.endAngle);var s={x:r.width/2,y:r.height/2},n=Math.min(s.x,s.y);n-=5*r.pix,n-=l.width/2,n=n<10?10:n;var p=n-l.width,c=0;if(l.type=="progress"){var h=n-l.width*3;o.beginPath();let f=o.createLinearGradient(s.x,s.y-h,s.x,s.y+h);f.addColorStop("0",M(t[0].color,.3)),f.addColorStop("1.0",M("#FFFFFF",.1)),o.setFillStyle(f),o.arc(s.x,s.y,h,0,2*Math.PI,!1),o.fill(),o.setLineWidth(l.width),o.setStrokeStyle(M(t[0].color,.3)),o.setLineCap("round"),o.beginPath(),o.arc(s.x,s.y,p,l.startAngle*Math.PI,l.endAngle*Math.PI,!1),o.stroke(),l.endAngle<l.startAngle?c=2+l.endAngle-l.startAngle:c=l.startAngle-l.endAngle;let d=c/l.splitLine.splitNumber,x=c/l.splitLine.splitNumber/l.splitLine.childNumber,u=-n-l.width*.5-l.splitLine.fixRadius,g=-n-l.width-l.splitLine.fixRadius+l.splitLine.width;o.save(),o.translate(s.x,s.y),o.rotate((l.startAngle-1)*Math.PI);let y=l.splitLine.splitNumber*l.splitLine.childNumber+1,v=t[0].data*a;for(let C=0;C<y;C++)o.beginPath(),v>C/y?o.setStrokeStyle(M(t[0].color,1)):o.setStrokeStyle(M(t[0].color,.3)),o.setLineWidth(3*r.pix),o.moveTo(u,0),o.lineTo(g,0),o.stroke(),o.rotate(x*Math.PI);o.restore(),t=Ee(t,l,a),o.setLineWidth(l.width),o.setStrokeStyle(t[0].color),o.setLineCap("round"),o.beginPath(),o.arc(s.x,s.y,p,l.startAngle*Math.PI,t[0]._proportion_*Math.PI,!1),o.stroke();let m=n-l.width*2.5;o.save(),o.translate(s.x,s.y),o.rotate((t[0]._proportion_-1)*Math.PI),o.beginPath(),o.setLineWidth(l.width/3);let A=o.createLinearGradient(0,-m*.6,0,m*.6);A.addColorStop("0",M("#FFFFFF",0)),A.addColorStop("0.5",M(t[0].color,1)),A.addColorStop("1.0",M("#FFFFFF",0)),o.setStrokeStyle(A),o.arc(0,0,m,.85*Math.PI,1.15*Math.PI,!1),o.stroke(),o.beginPath(),o.setLineWidth(1),o.setStrokeStyle(t[0].color),o.setFillStyle(t[0].color),o.moveTo(-m-l.width/3/2,-4),o.lineTo(-m-l.width/3/2-4,0),o.lineTo(-m-l.width/3/2,4),o.lineTo(-m-l.width/3/2,-4),o.stroke(),o.fill(),o.restore()}else{o.setLineWidth(l.width),o.setLineCap("butt");for(let y=0;y<i.length;y++){let v=i[y];o.beginPath(),o.setStrokeStyle(v.color),o.arc(s.x,s.y,n,v._startAngle_*Math.PI,v._endAngle_*Math.PI,!1),o.stroke()}o.save(),l.endAngle<l.startAngle?c=2+l.endAngle-l.startAngle:c=l.startAngle-l.endAngle;let f=c/l.splitLine.splitNumber,d=c/l.splitLine.splitNumber/l.splitLine.childNumber,x=-n-l.width*.5-l.splitLine.fixRadius,u=-n-l.width*.5-l.splitLine.fixRadius+l.splitLine.width,g=-n-l.width*.5-l.splitLine.fixRadius+l.splitLine.childWidth;o.translate(s.x,s.y),o.rotate((l.startAngle-1)*Math.PI);for(let y=0;y<l.splitLine.splitNumber+1;y++)o.beginPath(),o.setStrokeStyle(l.splitLine.color),o.setLineWidth(2*r.pix),o.moveTo(x,0),o.lineTo(u,0),o.stroke(),o.rotate(f*Math.PI);o.restore(),o.save(),o.translate(s.x,s.y),o.rotate((l.startAngle-1)*Math.PI);for(let y=0;y<l.splitLine.splitNumber*l.splitLine.childNumber+1;y++)o.beginPath(),o.setStrokeStyle(l.splitLine.color),o.setLineWidth(1*r.pix),o.moveTo(x,0),o.lineTo(g,0),o.stroke(),o.rotate(d*Math.PI);o.restore(),t=We(t,i,l,a);for(let y=0;y<t.length;y++){let v=t[y];o.save(),o.translate(s.x,s.y),o.rotate((v._proportion_-1)*Math.PI),o.beginPath(),o.setFillStyle(v.color),o.moveTo(l.pointer.width,0),o.lineTo(0,-l.pointer.width/2),o.lineTo(-p,0),o.lineTo(0,l.pointer.width/2),o.lineTo(l.pointer.width,0),o.closePath(),o.fill(),o.beginPath(),o.setFillStyle("#FFFFFF"),o.arc(0,0,l.pointer.width/6,0,2*Math.PI,!1),o.fill(),o.restore()}r.dataLabel!==!1&&Ue(l,n,s,r,e,o)}return Bt(r,e,o,s),a===1&&r.type==="gauge"&&(r.extra.gauge.oldAngle=t[0]._proportion_,r.extra.gauge.oldData=t[0].data),{center:s,radius:n,innerRadius:p,categories:i,totalAngle:c}}function pi(i,t,r,e){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{gridColor:"#cccccc",gridType:"radar",gridEval:1,axisLabel:!1,axisLabelTofix:0,labelShow:!0,labelColor:"#666666",labelPointShow:!1,labelPointRadius:3,labelPointColor:"#cccccc",opacity:.2,gridCount:3,border:!1,borderWidth:2,linearType:"none",customColor:[]},t.extra.radar),l=ye(t.categories.length),s={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2},n=(t.width-t.area[1]-t.area[3])/2,p=(t.height-t.area[0]-t.area[2])/2,c=Math.min(n-(ge(t.categories,r.fontSize,e)+r.radarLabelTextMargin),p-r.radarLabelTextMargin);c-=r.radarLabelTextMargin*t.pix,c=c<10?10:c,c=a.radius?a.radius:c,e.beginPath(),e.setLineWidth(1*t.pix),e.setStrokeStyle(a.gridColor),l.forEach(function(x,u){var g=ct(c*Math.cos(x),c*Math.sin(x),s);e.moveTo(s.x,s.y),u%a.gridEval==0&&e.lineTo(g.x,g.y)}),e.stroke(),e.closePath();for(var h=function(u){var g={};if(e.beginPath(),e.setLineWidth(1*t.pix),e.setStrokeStyle(a.gridColor),a.gridType=="radar")l.forEach(function(v,m){var A=ct(c/a.gridCount*u*Math.cos(v),c/a.gridCount*u*Math.sin(v),s);m===0?(g=A,e.moveTo(A.x,A.y)):e.lineTo(A.x,A.y)}),e.lineTo(g.x,g.y);else{var y=ct(c/a.gridCount*u*Math.cos(1.5),c/a.gridCount*u*Math.sin(1.5),s);e.arc(s.x,s.y,s.y-y.y,0,2*Math.PI,!1)}e.stroke(),e.closePath()},f=1;f<=a.gridCount;f++)h(f);a.customColor=ft(a.linearType,a.customColor,i,r);var d=Ie(l,s,c,i,t,o);if(d.forEach(function(x,u){e.beginPath(),e.setLineWidth(a.borderWidth*t.pix),e.setStrokeStyle(x.color);var g=M(x.color,a.opacity);if(a.linearType=="custom"){var y;e.createCircularGradient?y=e.createCircularGradient(s.x,s.y,c):y=e.createRadialGradient(s.x,s.y,0,s.x,s.y,c),y.addColorStop(0,M(a.customColor[i[u].linearIndex],a.opacity)),y.addColorStop(1,M(x.color,a.opacity)),g=y}if(e.setFillStyle(g),x.data.forEach(function(m,A){A===0?e.moveTo(m.position.x,m.position.y):e.lineTo(m.position.x,m.position.y)}),e.closePath(),e.fill(),a.border===!0&&e.stroke(),e.closePath(),t.dataPointShape!==!1){var v=x.data.map(function(m){return m.position});Pt(v,x.color,x.pointShape,e,t)}}),a.axisLabel===!0){let x=Math.max(a.max,Math.max.apply(null,Tt(i))),u=c/a.gridCount,g=t.fontSize*t.pix;e.setFontSize(g),e.setFillStyle(t.fontColor),e.setTextAlign("left");for(var f=0;f<a.gridCount+1;f++){let v=f*x/a.gridCount;v=v.toFixed(a.axisLabelTofix),e.fillText(String(v),s.x+3*t.pix,s.y-f*u+g/2)}}return $e(l,c,s,t,r,e),t.dataLabel!==!1&&o===1&&(d.forEach(function(x,u){e.beginPath();var g=x.textSize*t.pix||r.fontSize;e.setFontSize(g),e.setFillStyle(x.textColor||t.fontColor),x.data.forEach(function(y,v){Math.abs(y.position.x-s.x)<2?y.position.y<s.y?(e.setTextAlign("center"),e.fillText(y.value,y.position.x,y.position.y-4)):(e.setTextAlign("center"),e.fillText(y.value,y.position.x,y.position.y+g+2)):y.position.x<s.x?(e.setTextAlign("right"),e.fillText(y.value,y.position.x-4,y.position.y+g/2-2)):(e.setTextAlign("left"),e.fillText(y.value,y.position.x+4,y.position.y+g/2-2))}),e.closePath(),e.stroke()}),e.setTextAlign("left")),{center:s,radius:c,angleList:l}}function yt(i,t){var r=Array(2),e=i*2003750834e-2/180,o=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180);return o=o*2003750834e-2/180,r[0]=e,r[1]=o,r}function xi(i){var t={},r;t.xMin=180,t.xMax=0,t.yMin=90,t.yMax=0;for(var e=0;e<i.length;e++)for(var o=i[e].geometry.coordinates,a=0;a<o.length;a++){r=o[a],r.length==1&&(r=r[0]);for(var l=0;l<r.length;l++){var s=r[l][0],n=r[l][1],p={x:s,y:n};t.xMin=t.xMin<p.x?t.xMin:p.x,t.xMax=t.xMax>p.x?t.xMax:p.x,t.yMin=t.yMin<p.y?t.yMin:p.y,t.yMax=t.yMax>p.y?t.yMax:p.y}}return t}function Kt(i,t,r,e,o,a){return{x:(t-r.xMin)*e+o,y:(r.yMax-i)*e+a}}function ui(i,t,r,e,o,a){return{x:(t-o)/e+r.xMin,y:r.yMax-(i-a)/e}}function gi(i,t,r){return!(t[1]==r[1]||t[1]>i[1]&&r[1]>i[1]||t[1]<i[1]&&r[1]<i[1]||t[1]==i[1]&&r[1]>i[1]||r[1]==i[1]&&t[1]>i[1]||t[0]<i[0]&&r[1]<i[1]||r[0]-(r[0]-t[0])*(r[1]-i[1])/(r[1]-t[1])<i[0])}function yi(i,t,r){let e=0;for(let o=0;o<t.length;o++){let a=t[o][0];t.length==1&&(a=t[o][0]);for(let l=0;l<a.length-1;l++){let s=a[l],n=a[l+1];r&&(s=yt(a[l][0],a[l][1]),n=yt(a[l+1][0],a[l+1][1])),gi(i,s,n)&&(e+=1)}}return e%2==1}function mi(i,t,r,e){var o=k({},{border:!0,mercator:!1,borderWidth:1,active:!0,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},t.extra.map),a,l,s=i,n=xi(s);if(o.mercator){var p=yt(n.xMax,n.yMax),c=yt(n.xMin,n.yMin);n.xMax=p[0],n.yMax=p[1],n.xMin=c[0],n.yMin=c[1]}for(var h=t.width/Math.abs(n.xMax-n.xMin),f=t.height/Math.abs(n.yMax-n.yMin),d=h<f?h:f,x=t.width/2-Math.abs(n.xMax-n.xMin)/2*d,u=t.height/2-Math.abs(n.yMax-n.yMin)/2*d,g=0;g<s.length;g++){e.beginPath(),e.setLineWidth(o.borderWidth*t.pix),e.setStrokeStyle(o.borderColor),e.setFillStyle(M(i[g].color,i[g].fillOpacity||o.fillOpacity)),o.active==!0&&t.tooltip&&t.tooltip.index==g&&(e.setStrokeStyle(o.activeBorderColor),e.setFillStyle(M(o.activeFillColor,o.activeFillOpacity)));for(var y=s[g].geometry.coordinates,v=0;v<y.length;v++){a=y[v],a.length==1&&(a=a[0]);for(var m=0;m<a.length;m++){var A=Array(2);o.mercator?A=yt(a[m][0],a[m][1]):A=a[m],l=Kt(A[1],A[0],n,d,x,u),m===0?(e.beginPath(),e.moveTo(l.x,l.y)):e.lineTo(l.x,l.y)}e.fill(),o.border==!0&&e.stroke()}}if(t.dataLabel==!0)for(var g=0;g<s.length;g++){var C=s[g].properties.centroid;if(C){o.mercator&&(C=yt(s[g].properties.centroid[0],s[g].properties.centroid[1])),l=Kt(C[1],C[0],n,d,x,u);let w=s[g].textSize*t.pix||r.fontSize,b=s[g].textColor||t.fontColor;o.active&&o.activeTextColor&&t.tooltip&&t.tooltip.index==g&&(b=o.activeTextColor);let S=s[g].properties.name;e.beginPath(),e.setFontSize(w),e.setFillStyle(b),e.fillText(S,l.x-X(S,w,e)/2,l.y+w/2),e.closePath(),e.stroke()}}t.chartData.mapData={bounds:n,scale:d,xoffset:x,yoffset:u,mercator:o.mercator},tt(t,r,e,1),e.draw()}function gt(i,t,r){r=r==0?1:r;for(var e=[],o=0;o<r;o++)e[o]=Math.random();return Math.floor(e.reduce(function(a,l){return a+l})/r*(t-i))+i}function Ot(i,t,r,e){var o=!1;for(let a=0;a<t.length;a++)if(t[a].area)if(i[3]<t[a].area[1]||i[0]>t[a].area[2]||i[1]>t[a].area[3]||i[2]<t[a].area[0])if(i[0]<0||i[1]<0||i[2]>r||i[3]>e){o=!0;break}else o=!1;else{o=!0;break}return o}function vi(i,t,r){let e=i.series;switch(t){case"normal":for(let a=0;a<e.length;a++){let l=e[a].name,s=e[a].textSize*i.pix,n=X(l,s,r),p,c,h,f=0;for(;f++,p=gt(-i.width/2,i.width/2,5)-n/2,c=gt(-i.height/2,i.height/2,5)+s/2,h=[p-5+i.width/2,c-5-s+i.height/2,p+n+5+i.width/2,c+5+i.height/2],!!Ot(h,e,i.width,i.height);)if(f==1e3){h=[-100,-100,-100,-100];break}e[a].area=h}break;case"vertical":let o=function(){return Math.random()>.7};for(let a=0;a<e.length;a++){let l=e[a].name,s=e[a].textSize*i.pix,n=X(l,s,r),p=o(),c,h,f,d,x=0;for(;;){x++;let u;if(p?(c=gt(-i.width/2,i.width/2,5)-n/2,h=gt(-i.height/2,i.height/2,5)+s/2,f=[h-5-n+i.width/2,-c-5+i.height/2,h+5+i.width/2,-c+s+5+i.height/2],d=[i.width-(i.width/2-i.height/2)-(-c+s+5+i.height/2)-5,i.height/2-i.width/2+(h-5-n+i.width/2)-5,i.width-(i.width/2-i.height/2)-(-c+s+5+i.height/2)+s,i.height/2-i.width/2+(h-5-n+i.width/2)+n+5],u=Ot(d,e,i.height,i.width)):(c=gt(-i.width/2,i.width/2,5)-n/2,h=gt(-i.height/2,i.height/2,5)+s/2,f=[c-5+i.width/2,h-5-s+i.height/2,c+n+5+i.width/2,h+5+i.height/2],u=Ot(f,e,i.width,i.height)),!u)break;if(x==1e3){f=[-1e3,-1e3,-1e3,-1e3];break}}p?(e[a].area=d,e[a].areav=f):e[a].area=f,e[a].rotate=p}break}return e}function bi(i,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{type:"normal",autoColors:!0},t.extra.word);t.chartData.wordCloudData||(t.chartData.wordCloudData=vi(t,a.type,e)),e.beginPath(),e.setFillStyle(t.background),e.rect(0,0,t.width,t.height),e.fill(),e.save();let l=t.chartData.wordCloudData;e.translate(t.width/2,t.height/2);for(let s=0;s<l.length;s++){e.save(),l[s].rotate&&e.rotate(90*Math.PI/180);let n=l[s].name,p=l[s].textSize*t.pix,c=X(n,p,e);e.beginPath(),e.setStrokeStyle(l[s].color),e.setFillStyle(l[s].color),e.setFontSize(p),l[s].rotate?l[s].areav[0]>0&&(t.tooltip&&t.tooltip.index==s?e.strokeText(n,(l[s].areav[0]+5-t.width/2)*o-c*(1-o)/2,(l[s].areav[1]+5+p-t.height/2)*o):e.fillText(n,(l[s].areav[0]+5-t.width/2)*o-c*(1-o)/2,(l[s].areav[1]+5+p-t.height/2)*o)):l[s].area[0]>0&&(t.tooltip&&t.tooltip.index==s?e.strokeText(n,(l[s].area[0]+5-t.width/2)*o-c*(1-o)/2,(l[s].area[1]+5+p-t.height/2)*o):e.fillText(n,(l[s].area[0]+5-t.width/2)*o-c*(1-o)/2,(l[s].area[1]+5+p-t.height/2)*o)),e.stroke(),e.restore()}e.restore()}function Si(i,t,r,e){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=k({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,minSize:0,labelAlign:"right",linearType:"none",customColor:[]},t.extra.funnel),l=(t.height-t.area[0]-t.area[2])/i.length,s={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.height-t.area[2]},n=a.activeWidth*t.pix,p=Math.min((t.width-t.area[1]-t.area[3])/2-n,(t.height-t.area[0]-t.area[2])/2-n),c=Oe(i,p,a,l,o);if(e.save(),e.translate(s.x,s.y),a.customColor=ft(a.linearType,a.customColor,i,r),a.type=="pyramid")for(let d=0;d<c.length;d++){if(d==c.length-1){t.tooltip&&t.tooltip.index==d&&(e.beginPath(),e.setFillStyle(M(c[d].color,a.activeOpacity)),e.moveTo(-n,-l),e.lineTo(-c[d].radius-n,0),e.lineTo(c[d].radius+n,0),e.lineTo(n,-l),e.lineTo(-n,-l),e.closePath(),e.fill()),c[d].funnelArea=[s.x-c[d].radius,s.y-l*(d+1),s.x+c[d].radius,s.y-l*d],e.beginPath(),e.setLineWidth(a.borderWidth*t.pix),e.setStrokeStyle(a.borderColor);var h=M(c[d].color,a.fillOpacity);if(a.linearType=="custom"){var f=e.createLinearGradient(c[d].radius,-l,-c[d].radius,-l);f.addColorStop(0,M(c[d].color,a.fillOpacity)),f.addColorStop(.5,M(a.customColor[c[d].linearIndex],a.fillOpacity)),f.addColorStop(1,M(c[d].color,a.fillOpacity)),h=f}e.setFillStyle(h),e.moveTo(0,-l),e.lineTo(-c[d].radius,0),e.lineTo(c[d].radius,0),e.lineTo(0,-l),e.closePath(),e.fill(),a.border==!0&&e.stroke()}else{t.tooltip&&t.tooltip.index==d&&(e.beginPath(),e.setFillStyle(M(c[d].color,a.activeOpacity)),e.moveTo(0,0),e.lineTo(-c[d].radius-n,0),e.lineTo(-c[d+1].radius-n,-l),e.lineTo(c[d+1].radius+n,-l),e.lineTo(c[d].radius+n,0),e.lineTo(0,0),e.closePath(),e.fill()),c[d].funnelArea=[s.x-c[d].radius,s.y-l*(d+1),s.x+c[d].radius,s.y-l*d],e.beginPath(),e.setLineWidth(a.borderWidth*t.pix),e.setStrokeStyle(a.borderColor);var h=M(c[d].color,a.fillOpacity);if(a.linearType=="custom"){var f=e.createLinearGradient(c[d].radius,-l,-c[d].radius,-l);f.addColorStop(0,M(c[d].color,a.fillOpacity)),f.addColorStop(.5,M(a.customColor[c[d].linearIndex],a.fillOpacity)),f.addColorStop(1,M(c[d].color,a.fillOpacity)),h=f}e.setFillStyle(h),e.moveTo(0,0),e.lineTo(-c[d].radius,0),e.lineTo(-c[d+1].radius,-l),e.lineTo(c[d+1].radius,-l),e.lineTo(c[d].radius,0),e.lineTo(0,0),e.closePath(),e.fill(),a.border==!0&&e.stroke()}e.translate(0,-l)}else{e.translate(0,-(c.length-1)*l);for(let d=0;d<c.length;d++){if(d==c.length-1){t.tooltip&&t.tooltip.index==d&&(e.beginPath(),e.setFillStyle(M(c[d].color,a.activeOpacity)),e.moveTo(-n-a.minSize/2,0),e.lineTo(-c[d].radius-n,-l),e.lineTo(c[d].radius+n,-l),e.lineTo(n+a.minSize/2,0),e.lineTo(-n-a.minSize/2,0),e.closePath(),e.fill()),c[d].funnelArea=[s.x-c[d].radius,s.y-l,s.x+c[d].radius,s.y],e.beginPath(),e.setLineWidth(a.borderWidth*t.pix),e.setStrokeStyle(a.borderColor);var h=M(c[d].color,a.fillOpacity);if(a.linearType=="custom"){var f=e.createLinearGradient(c[d].radius,-l,-c[d].radius,-l);f.addColorStop(0,M(c[d].color,a.fillOpacity)),f.addColorStop(.5,M(a.customColor[c[d].linearIndex],a.fillOpacity)),f.addColorStop(1,M(c[d].color,a.fillOpacity)),h=f}e.setFillStyle(h),e.moveTo(0,0),e.lineTo(-a.minSize/2,0),e.lineTo(-c[d].radius,-l),e.lineTo(c[d].radius,-l),e.lineTo(a.minSize/2,0),e.lineTo(0,0),e.closePath(),e.fill(),a.border==!0&&e.stroke()}else{t.tooltip&&t.tooltip.index==d&&(e.beginPath(),e.setFillStyle(M(c[d].color,a.activeOpacity)),e.moveTo(0,0),e.lineTo(-c[d+1].radius-n,0),e.lineTo(-c[d].radius-n,-l),e.lineTo(c[d].radius+n,-l),e.lineTo(c[d+1].radius+n,0),e.lineTo(0,0),e.closePath(),e.fill()),c[d].funnelArea=[s.x-c[d].radius,s.y-l*(c.length-d),s.x+c[d].radius,s.y-l*(c.length-d-1)],e.beginPath(),e.setLineWidth(a.borderWidth*t.pix),e.setStrokeStyle(a.borderColor);var h=M(c[d].color,a.fillOpacity);if(a.linearType=="custom"){var f=e.createLinearGradient(c[d].radius,-l,-c[d].radius,-l);f.addColorStop(0,M(c[d].color,a.fillOpacity)),f.addColorStop(.5,M(a.customColor[c[d].linearIndex],a.fillOpacity)),f.addColorStop(1,M(c[d].color,a.fillOpacity)),h=f}e.setFillStyle(h),e.moveTo(0,0),e.lineTo(-c[d+1].radius,0),e.lineTo(-c[d].radius,-l),e.lineTo(c[d].radius,-l),e.lineTo(c[d+1].radius,0),e.lineTo(0,0),e.closePath(),e.fill(),a.border==!0&&e.stroke()}e.translate(0,l)}}return e.restore(),t.dataLabel!==!1&&o===1&&Ai(c,t,e,l,a.labelAlign,n,s),o===1&&Ci(c,t,e,l,a.labelAlign,n,s),{center:s,radius:p,series:c}}function Ai(i,t,r,e,o,a,l){for(let s=0;s<i.length;s++){let n=i[s];if(n.labelShow===!1)continue;let p,c,h,f,d=n.formatter?n.formatter(n,s,i,t):ht.toFixed(n._proportion_*100)+"%";d=n.labelText?n.labelText:d,o=="right"&&(s==i.length-1?p=(n.funnelArea[2]+l.x)/2:p=(n.funnelArea[2]+i[s+1].funnelArea[2])/2,c=p+a*2,h=n.funnelArea[1]+e/2,f=n.textSize*t.pix||t.fontSize*t.pix,r.setLineWidth(1*t.pix),r.setStrokeStyle(n.color),r.setFillStyle(n.color),r.beginPath(),r.moveTo(p,h),r.lineTo(c,h),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(c,h),r.arc(c,h,2*t.pix,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(f),r.setFillStyle(n.textColor||t.fontColor),r.fillText(d,c+5,h+f/2-2),r.closePath(),r.stroke(),r.closePath()),o=="left"&&(s==i.length-1?p=(n.funnelArea[0]+l.x)/2:p=(n.funnelArea[0]+i[s+1].funnelArea[0])/2,c=p-a*2,h=n.funnelArea[1]+e/2,f=n.textSize*t.pix||t.fontSize*t.pix,r.setLineWidth(1*t.pix),r.setStrokeStyle(n.color),r.setFillStyle(n.color),r.beginPath(),r.moveTo(p,h),r.lineTo(c,h),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(c,h),r.arc(c,h,2,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(f),r.setFillStyle(n.textColor||t.fontColor),r.fillText(d,c-5-X(d,f,r),h+f/2-2),r.closePath(),r.stroke(),r.closePath())}}function Ci(i,t,r,e,o,a,l){for(let s=0;s<i.length;s++){let n=i[s],p,c;n.centerText&&(p=n.funnelArea[1]+e/2,c=n.centerTextSize*t.pix||t.fontSize*t.pix,r.beginPath(),r.setFontSize(c),r.setFillStyle(n.centerTextColor||"#FFFFFF"),r.fillText(n.centerText,l.x-X(n.centerText,c,r)/2,p+c/2-2),r.closePath(),r.stroke(),r.closePath())}}function K(i,t){t.save(),t.translate(0,.5),t.restore(),t.draw()}var wi={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};function $(i){this.isStop=!1,i.duration=typeof i.duration=="undefined"?1e3:i.duration,i.timing=i.timing||"easeInOut";var t=17;function r(){return typeof setTimeout!="undefined"?function(l,s){setTimeout(function(){var n=+new Date;l(n)},s)}:typeof requestAnimationFrame!="undefined"?requestAnimationFrame:function(l){l(null)}}var e=r(),o=null,a=function(s){if(s===null||this.isStop===!0){i.onProcess&&i.onProcess(1),i.onAnimationFinish&&i.onAnimationFinish();return}if(o===null&&(o=s),s-o<i.duration){var n=(s-o)/i.duration,p=wi[i.timing];n=p(n),i.onProcess&&i.onProcess(n),e(a,t)}else i.onProcess&&i.onProcess(1),i.onAnimationFinish&&i.onAnimationFinish()};a=a.bind(this),e(a,t)}$.prototype.stop=function(){this.isStop=!0};function V(i,t,r,e){var o=this,a=t.series;(i==="pie"||i==="ring"||i==="mount"||i==="rose"||i==="funnel")&&(a=xe(a,t,r));var l=t.categories;if(i==="mount"){l=[];for(let x=0;x<a.length;x++)a[x].show!==!1&&l.push(a[x].name);t.categories=l}a=Lt(a,t,r);var s=t.animation?t.duration:0;o.animationInstance&&o.animationInstance.stop();var n=null;if(i=="candle"){let x=k({},t.extra.candle.average);x.show?(n=de(x.day,x.name,x.color,a[0].data),n=Lt(n,t,r),t.seriesMA=n):t.seriesMA?n=t.seriesMA=Lt(t.seriesMA,t,r):n=a}else n=a;t._series_=a=te(a),t.area=new Array(4);for(let x=0;x<4;x++)t.area[x]=t.padding[x]*t.pix;var p=Le(n,t,r,t.chartData,e),c=p.area.wholeHeight,h=p.area.wholeWidth;switch(t.legend.position){case"top":t.area[0]+=c;break;case"bottom":t.area[2]+=c;break;case"left":t.area[3]+=h;break;case"right":t.area[1]+=h;break}let f={},d=0;if(t.type==="line"||t.type==="column"||t.type==="mount"||t.type==="area"||t.type==="mix"||t.type==="candle"||t.type==="scatter"||t.type==="bubble"||t.type==="bar"){if(f=Wt(a,t,r,e),d=f.yAxisWidth,t.yAxis.showTitle){let g=0;for(let y=0;y<t.yAxis.data.length;y++)g=Math.max(g,t.yAxis.data[y].titleFontSize?t.yAxis.data[y].titleFontSize*t.pix:r.fontSize);t.area[0]+=g}let x=0,u=0;for(let g=0;g<d.length;g++)d[g].position=="left"?(u>0?t.area[3]+=d[g].width+t.yAxis.padding*t.pix:t.area[3]+=d[g].width,u+=1):d[g].position=="right"&&(x>0?t.area[1]+=d[g].width+t.yAxis.padding*t.pix:t.area[1]+=d[g].width,x+=1)}else r.yAxisWidth=d;if(t.chartData.yAxisData=f,t.categories&&t.categories.length&&t.type!=="radar"&&t.type!=="gauge"&&t.type!=="bar"){t.chartData.xAxisData=Ct(t.categories,t,r);let x=Ht(t.categories,t,r,t.chartData.xAxisData.eachSpacing,e),u=x.xAxisHeight,g=x.angle;r.xAxisHeight=u,r._xAxisTextAngle_=g,t.area[2]+=u,t.chartData.categoriesData=x}else if(t.type==="line"||t.type==="area"||t.type==="scatter"||t.type==="bubble"||t.type==="bar"){t.chartData.xAxisData=ke(a,t,r,e),l=t.chartData.xAxisData.rangesFormat;let x=Ht(l,t,r,t.chartData.xAxisData.eachSpacing,e),u=x.xAxisHeight,g=x.angle;r.xAxisHeight=u,r._xAxisTextAngle_=g,t.area[2]+=u,t.chartData.categoriesData=x}else t.chartData.xAxisData={xAxisPoints:[]};if(t.enableScroll&&t.xAxis.scrollAlign=="right"&&t._scrollDistance_===void 0){let x=0,u=t.chartData.xAxisData.xAxisPoints,g=t.chartData.xAxisData.startX,y=t.chartData.xAxisData.endX,m=t.chartData.xAxisData.eachSpacing*(u.length-1);x=y-g-m,o.scrollOption.currentOffset=x,o.scrollOption.startTouchX=x,o.scrollOption.distance=0,o.scrollOption.lastMoveTime=0,t._scrollDistance_=x}switch((i==="pie"||i==="ring"||i==="rose")&&(r._pieTextMaxLength_=t.dataLabel===!1?0:Be(n,r,e,t)),i){case"word":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(x){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),bi(a,t,r,e,x),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"map":e.clearRect(0,0,t.width,t.height),mi(a,t,r,e),setTimeout(()=>{this.uevent.trigger("renderComplete")},50);break;case"funnel":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(x){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),t.chartData.funnelData=Si(a,t,r,e,x),Q(t.series,t,r,e,t.chartData),tt(t,r,e,x),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),pt(l,t,r,e),lt(l,t,r,e);var g=si(a,t,r,e,u),y=g.xAxisPoints,v=g.calPoints,m=g.eachSpacing;t.chartData.xAxisPoints=y,t.chartData.calPoints=v,t.chartData.eachSpacing=m,st(a,t,r,e),t.enableMarkLine!==!1&&u===1&&nt(t,r,e),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u,m,y),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),pt(l,t,r,e),lt(l,t,r,e);var g=ni(a,t,r,e,u),y=g.xAxisPoints,v=g.calPoints,m=g.eachSpacing;t.chartData.xAxisPoints=y,t.chartData.calPoints=v,t.chartData.eachSpacing=m,st(a,t,r,e),t.enableMarkLine!==!1&&u===1&&nt(t,r,e),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u,m,y),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),pt(l,t,r,e),lt(l,t,r,e);var g=li(a,t,r,e,u),y=g.xAxisPoints,v=g.calPoints,m=g.eachSpacing;t.chartData.xAxisPoints=y,t.chartData.calPoints=v,t.chartData.eachSpacing=m,st(a,t,r,e),t.enableMarkLine!==!1&&u===1&&nt(t,r,e),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u,m,y),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),pt(l,t,r,e),lt(l,t,r,e);var g=ci(a,t,r,e,u),y=g.xAxisPoints,v=g.calPoints,m=g.eachSpacing;t.chartData.xAxisPoints=y,t.chartData.calPoints=v,t.chartData.eachSpacing=m,st(a,t,r,e),t.enableMarkLine!==!1&&u===1&&nt(t,r,e),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u,m,y),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),pt(l,t,r,e),lt(l,t,r,e);var g=ei(a,t,r,e,u),y=g.xAxisPoints,v=g.calPoints,m=g.eachSpacing;t.chartData.xAxisPoints=y,t.chartData.calPoints=v,t.chartData.eachSpacing=m,st(a,t,r,e),t.enableMarkLine!==!1&&u===1&&nt(t,r,e),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u,m,y),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"mount":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),pt(l,t,r,e),lt(l,t,r,e);var g=ii(a,t,r,e,u),y=g.xAxisPoints,v=g.calPoints,m=g.eachSpacing;t.chartData.xAxisPoints=y,t.chartData.calPoints=v,t.chartData.eachSpacing=m,st(a,t,r,e),t.enableMarkLine!==!1&&u===1&&nt(t,r,e),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u,m,y),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),lt(l,t,r,e);var g=ai(a,t,r,e,u),y=g.yAxisPoints,v=g.calPoints,m=g.eachSpacing;t.chartData.yAxisPoints=y,t.chartData.xAxisPoints=t.chartData.xAxisData.xAxisPoints,t.chartData.calPoints=v,t.chartData.eachSpacing=m,st(a,t,r,e),t.enableMarkLine!==!1&&u===1&&nt(t,r,e),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u,m,y),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),pt(l,t,r,e),lt(l,t,r,e);var g=oi(a,t,r,e,u),y=g.xAxisPoints,v=g.calPoints,m=g.eachSpacing;t.chartData.xAxisPoints=y,t.chartData.calPoints=v,t.chartData.eachSpacing=m,st(a,t,r,e),t.enableMarkLine!==!1&&u===1&&nt(t,r,e),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u,m,y),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"ring":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),t.chartData.pieData=Zt(a,t,r,e,u),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"pie":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),t.chartData.pieData=Zt(a,t,r,e,u),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),t.chartData.pieData=hi(a,t,r,e,u),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),t.chartData.radarData=pi(a,t,r,e,u),Q(t.series,t,r,e,t.chartData),tt(t,r,e,u),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),t.chartData.arcbarData=fi(a,t,r,e,u),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),t.chartData.gaugeData=di(l,a,t,r,e,u),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new $({timing:t.timing,duration:s,onProcess:function(u){e.clearRect(0,0,t.width,t.height),t.rotate&&Z(e,t),pt(l,t,r,e),lt(l,t,r,e);var g=ri(a,n,t,r,e,u),y=g.xAxisPoints,v=g.calPoints,m=g.eachSpacing;t.chartData.xAxisPoints=y,t.chartData.calPoints=v,t.chartData.eachSpacing=m,st(a,t,r,e),t.enableMarkLine!==!1&&u===1&&nt(t,r,e),Q(n||t.series,t,r,e,t.chartData),tt(t,r,e,u,m,y),K(t,e)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break}}function Mt(){this.events={}}Mt.prototype.addEventListener=function(i,t){this.events[i]=this.events[i]||[],this.events[i].push(t)};Mt.prototype.delEventListener=function(i){this.events[i]=[]};Mt.prototype.trigger=function(){for(var i=arguments.length,t=Array(i),r=0;r<i;r++)t[r]=arguments[r];var e=t[0],o=t.slice(1);this.events[e]&&this.events[e].forEach(function(a){try{a.apply(null,o)}catch(l){}})};var et=function(t){t.pix=t.pixelRatio?t.pixelRatio:1,t.fontSize=t.fontSize?t.fontSize:13,t.fontColor=t.fontColor?t.fontColor:bt.fontColor,(t.background==""||t.background=="none")&&(t.background="#FFFFFF"),t.title=k({},t.title),t.subtitle=k({},t.subtitle),t.duration=t.duration?t.duration:1e3,t.yAxis=k({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,gridSet:"number",splitNumber:5,gridType:"solid",dashLength:4*t.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},t.yAxis),t.xAxis=k({},{rotateLabel:!1,rotateAngle:45,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,fontColor:"#666666",fontSize:13,lineHeight:20,marginTop:0,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc",titleFontSize:13,titleOffsetY:0,titleOffsetX:0,titleFontColor:"#666666"},t.xAxis),t.xAxis.scrollPosition=t.xAxis.scrollAlign,t.legend=k({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:t.fontSize,lineHeight:t.fontSize,fontColor:t.fontColor,formatter:{},hiddenColor:"#CECECE"},t.legend),t.extra=k({tooltip:{legendShape:"auto"}},t.extra),t.rotate=!!t.rotate,t.animation=!!t.animation,t.rotate=!!t.rotate,t.canvas2d=!!t.canvas2d;let r=k({},bt);if(r.color=t.color?t.color:r.color,t.type=="pie"&&(r.pieChartLinePadding=t.dataLabel===!1?0:t.extra.pie.labelWidth*t.pix||r.pieChartLinePadding*t.pix),t.type=="ring"&&(r.pieChartLinePadding=t.dataLabel===!1?0:t.extra.ring.labelWidth*t.pix||r.pieChartLinePadding*t.pix),t.type=="rose"&&(r.pieChartLinePadding=t.dataLabel===!1?0:t.extra.rose.labelWidth*t.pix||r.pieChartLinePadding*t.pix),r.pieChartTextPadding=t.dataLabel===!1?0:r.pieChartTextPadding*t.pix,r.rotate=t.rotate,t.rotate){let e=t.width,o=t.height;t.width=o,t.height=e}if(t.padding=t.padding?t.padding:r.padding,r.yAxisWidth=bt.yAxisWidth*t.pix,r.fontSize=t.fontSize*t.pix,r.titleFontSize=bt.titleFontSize*t.pix,r.subtitleFontSize=bt.subtitleFontSize*t.pix,!t.context)throw new Error("[uCharts] \u672A\u83B7\u53D6\u5230context\uFF01\u6CE8\u610F\uFF1Av2.0\u7248\u672C\u540E\uFF0C\u9700\u8981\u81EA\u884C\u83B7\u53D6canvas\u7684\u7ED8\u56FE\u4E0A\u4E0B\u6587\u5E76\u4F20\u5165opts.context\uFF01");this.context=t.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(e){return this.strokeStyle=e},this.context.setLineWidth=function(e){return this.lineWidth=e},this.context.setLineCap=function(e){return this.lineCap=e},this.context.setFontSize=function(e){return this.font=e+"px sans-serif"},this.context.setFillStyle=function(e){return this.fillStyle=e},this.context.setTextAlign=function(e){return this.textAlign=e},this.context.setTextBaseline=function(e){return this.textBaseline=e},this.context.setShadow=function(e,o,a,l){this.shadowColor=l,this.shadowOffsetX=e,this.shadowOffsetY=o,this.shadowBlur=a},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(e){}),t.chartData={},this.uevent=new Mt,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=t,this.config=r,V.call(this,t.type,t,r,this.context)};et.prototype.updateData=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(this.opts=k({},this.opts,i),this.opts.updateData=!0,i.scrollPosition||"current"){case"current":this.opts._scrollDistance_=this.scrollOption.currentOffset;break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":let r=Wt(this.opts.series,this.opts,this.config,this.context),e=r.yAxisWidth;this.config.yAxisWidth=e;let o=0,a=Ct(this.opts.categories,this.opts,this.config),l=a.xAxisPoints,s=a.startX,n=a.endX,c=a.eachSpacing*(l.length-1);o=n-s-c,this.scrollOption={currentOffset:o,startTouchX:o,distance:0,lastMoveTime:0},this.opts._scrollDistance_=o;break}V.call(this,this.opts.type,this.opts,this.config,this.context)};et.prototype.zoom=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.opts.xAxis.itemCount;if(this.opts.enableScroll!==!0){console.log("[uCharts] \u8BF7\u542F\u7528\u6EDA\u52A8\u6761\u540E\u4F7F\u7528");return}let t=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=i.itemCount;let r=Wt(this.opts.series,this.opts,this.config,this.context),e=r.yAxisWidth;this.config.yAxisWidth=e;let o=0,a=Ct(this.opts.categories,this.opts,this.config),l=a.xAxisPoints,s=a.startX,n=a.endX,p=a.eachSpacing,c=p*t,h=n-s,f=h-p*(l.length-1);o=h/2-c,o>0&&(o=0),o<f&&(o=f),this.scrollOption={currentOffset:o,startTouchX:0,distance:0,lastMoveTime:0},zt(this,o,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=o,V.call(this,this.opts.type,this.opts,this.config,this.context)};et.prototype.dobuleZoom=function(i){if(this.opts.enableScroll!==!0){console.log("[uCharts] \u8BF7\u542F\u7528\u6EDA\u52A8\u6761\u540E\u4F7F\u7528");return}let t=i.changedTouches;if(t.length<2)return;for(var r=0;r<t.length;r++)t[r].x=t[r].x?t[r].x:t[r].clientX,t[r].y=t[r].y?t[r].y:t[r].clientY;let e=[xt(t[0],this.opts,i),xt(t[1],this.opts,i)],o=Math.abs(e[0].x-e[1].x);if(!this.scrollOption.moveCount){let g={changedTouches:[{x:t[0].x,y:this.opts.area[0]/this.opts.pix+2}]},y={changedTouches:[{x:t[1].x,y:this.opts.area[0]/this.opts.pix+2}]};this.opts.rotate&&(g={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:t[0].y}]},y={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:t[1].y}]});let v=this.getCurrentDataIndex(g).index,m=this.getCurrentDataIndex(y).index,A=Math.abs(v-m);this.scrollOption.moveCount=A,this.scrollOption.moveCurrent1=Math.min(v,m),this.scrollOption.moveCurrent2=Math.max(v,m);return}let a=o/this.scrollOption.moveCount,l=(this.opts.width-this.opts.area[1]-this.opts.area[3])/a;l=l<=2?2:l,l=l>=this.opts.categories.length?this.opts.categories.length:l,this.opts.animation=!1,this.opts.xAxis.itemCount=l;let s=0,n=Ct(this.opts.categories,this.opts,this.config),p=n.xAxisPoints,c=n.startX,h=n.endX,f=n.eachSpacing,d=f*this.scrollOption.moveCurrent1,u=h-c-f*(p.length-1);s=-d+Math.min(e[0].x,e[1].x)-this.opts.area[3]-f,s>0&&(s=0),s<u&&(s=u),this.scrollOption.currentOffset=s,this.scrollOption.startTouchX=0,this.scrollOption.distance=0,zt(this,s,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=s,V.call(this,this.opts.type,this.opts,this.config,this.context)};et.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()};et.prototype.addEventListener=function(i,t){this.uevent.addEventListener(i,t)};et.prototype.delEventListener=function(i){this.uevent.delEventListener(i)};et.prototype.getCurrentDataIndex=function(i){var t=null;if(i.changedTouches?t=i.changedTouches[0]:t=i.mp.changedTouches[0],t){let r=xt(t,this.opts,i);return this.opts.type==="pie"||this.opts.type==="ring"?De({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):this.opts.type==="rose"?Fe({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):this.opts.type==="radar"?we({x:r.x,y:r.y},this.opts.chartData.radarData,this.opts.categories.length):this.opts.type==="funnel"?Te({x:r.x,y:r.y},this.opts.chartData.funnelData):this.opts.type==="map"?Me({x:r.x,y:r.y},this.opts):this.opts.type==="word"?Pe({x:r.x,y:r.y},this.opts.chartData.wordCloudData):this.opts.type==="bar"?Se({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):be({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1};et.prototype.getLegendDataIndex=function(i){var t=null;if(i.changedTouches?t=i.changedTouches[0]:t=i.mp.changedTouches[0],t){let r=xt(t,this.opts,i);return Ae({x:r.x,y:r.y},this.opts.chartData.legendData)}return-1};et.prototype.touchLegend=function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null;if(i.changedTouches?r=i.changedTouches[0]:r=i.mp.changedTouches[0],r){var e=xt(r,this.opts,i),o=this.getLegendDataIndex(i);o>=0&&(this.opts.type=="candle"?this.opts.seriesMA[o].show=!this.opts.seriesMA[o].show:this.opts.series[o].show=!this.opts.series[o].show,this.opts.animation=!!t.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,V.call(this,this.opts.type,this.opts,this.config,this.context))}};et.prototype.showToolTip=function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null;i.changedTouches?r=i.changedTouches[0]:r=i.mp.changedTouches[0],r||console.log("[uCharts] \u672A\u83B7\u53D6\u5230event\u5750\u6807\u4FE1\u606F");var e=xt(r,this.opts,i),o=this.scrollOption.currentOffset,a=k({},this.opts,{_scrollDistance_:o,animation:!1});if(this.opts.type==="line"||this.opts.type==="area"||this.opts.type==="column"||this.opts.type==="scatter"||this.opts.type==="bubble"){var l=this.getCurrentDataIndex(i),s=t.index==null?l.index:t.index;if(s>-1||s.length>0){var n=St(this.opts.series,s,l.group);if(n.length!==0){var p=Xt(n,this.opts,s,l.group,this.opts.categories,t),c=p.textList,h=p.offset;h.y=e.y,a.tooltip={textList:t.textList!==void 0?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s,group:l.group}}}V.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="mount"){var s=t.index==null?this.getCurrentDataIndex(i).index:t.index;if(s>-1){var a=k({},this.opts,{animation:!1}),n=k({},a._series_[s]),c=[{text:t.formatter?t.formatter(n,void 0,s,a):n.name+": "+n.data,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],h={x:a.chartData.calPoints[s].x,y:e.y};a.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}V.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="bar"){var l=this.getCurrentDataIndex(i),s=t.index==null?l.index:t.index;if(s>-1||s.length>0){var n=St(this.opts.series,s,l.group);if(n.length!==0){var p=Xt(n,this.opts,s,l.group,this.opts.categories,t),c=p.textList,h=p.offset;h.x=e.x,a.tooltip={textList:t.textList!==void 0?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}}V.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="mix"){var l=this.getCurrentDataIndex(i),s=t.index==null?l.index:t.index;if(s>-1){var o=this.scrollOption.currentOffset,a=k({},this.opts,{_scrollDistance_:o,animation:!1}),n=St(this.opts.series,s);if(n.length!==0){var f=me(n,this.opts,s,this.opts.categories,t),c=f.textList,h=f.offset;h.y=e.y,a.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}}V.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="candle"){var l=this.getCurrentDataIndex(i),s=t.index==null?l.index:t.index;if(s>-1){var o=this.scrollOption.currentOffset,a=k({},this.opts,{_scrollDistance_:o,animation:!1}),n=St(this.opts.series,s);if(n.length!==0){var p=ve(this.opts.series[0].data,n,this.opts,s,this.opts.categories,this.opts.extra.candle,t),c=p.textList,h=p.offset;h.y=e.y,a.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}}V.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="pie"||this.opts.type==="ring"||this.opts.type==="rose"||this.opts.type==="funnel"){var s=t.index==null?this.getCurrentDataIndex(i):t.index;if(s>-1){var a=k({},this.opts,{animation:!1}),n=k({},a._series_[s]),c=[{text:t.formatter?t.formatter(n,void 0,s,a):n.name+": "+n.data,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],h={x:e.x,y:e.y};a.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}V.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="map"){var s=t.index==null?this.getCurrentDataIndex(i):t.index;if(s>-1){var a=k({},this.opts,{animation:!1}),n=k({},this.opts.series[s]);n.name=n.properties.name;var c=[{text:t.formatter?t.formatter(n,void 0,s,this.opts):n.name,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],h={x:e.x,y:e.y};a.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}a.updateData=!1,V.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="word"){var s=t.index==null?this.getCurrentDataIndex(i):t.index;if(s>-1){var a=k({},this.opts,{animation:!1}),n=k({},this.opts.series[s]),c=[{text:t.formatter?t.formatter(n,void 0,s,this.opts):n.name,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],h={x:e.x,y:e.y};a.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}a.updateData=!1,V.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="radar"){var s=t.index==null?this.getCurrentDataIndex(i):t.index;if(s>-1){var a=k({},this.opts,{animation:!1}),n=St(this.opts.series,s);if(n.length!==0){var c=n.map(v=>({text:t.formatter?t.formatter(v,this.opts.categories[s],s,this.opts):v.name+": "+v.data,color:v.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?v.legendShape:this.opts.extra.tooltip.legendShape})),h={x:e.x,y:e.y};a.tooltip={textList:t.textList?t.textList:c,offset:t.offset!==void 0?t.offset:h,option:t,index:s}}}V.call(this,a.type,a,this.config,this.context)}};et.prototype.translate=function(i){this.scrollOption={currentOffset:i,startTouchX:i,distance:0,lastMoveTime:0};let t=k({},this.opts,{_scrollDistance_:i,animation:!1});V.call(this,this.opts.type,t,this.config,this.context)};et.prototype.scrollStart=function(i){var t=null;i.changedTouches?t=i.changedTouches[0]:t=i.mp.changedTouches[0];var r=xt(t,this.opts,i);t&&this.opts.enableScroll===!0&&(this.scrollOption.startTouchX=r.x)};et.prototype.scroll=function(i){this.scrollOption.lastMoveTime===0&&(this.scrollOption.lastMoveTime=Date.now());let t=this.opts.touchMoveLimit||60,r=Date.now();if(!(r-this.scrollOption.lastMoveTime<Math.floor(1e3/t))&&this.scrollOption.startTouchX!=0){this.scrollOption.lastMoveTime=r;var o=null;if(i.changedTouches?o=i.changedTouches[0]:o=i.mp.changedTouches[0],o&&this.opts.enableScroll===!0){var a=xt(o,this.opts,i),l;l=a.x-this.scrollOption.startTouchX;var s=this.scrollOption.currentOffset,n=zt(this,s+l,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=l=n-s;var p=k({},this.opts,{_scrollDistance_:s+l,animation:!1});return this.opts=p,V.call(this,p.type,p,this.config,this.context),s+l}}};et.prototype.scrollEnd=function(i){if(this.opts.enableScroll===!0){var t=this.scrollOption,r=t.currentOffset,e=t.distance;this.scrollOption.currentOffset=r+e,this.scrollOption.distance=0,this.scrollOption.moveCount=0}};var oe=et;var q=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],Ti=(i,t)=>{var r=new Date;r.setTime(i*1e3);var e=r.getFullYear(),o=r.getMonth()+1;o=o<10?"0"+o:o;var a=r.getDate();a=a<10?"0"+a:a;var l=r.getHours();l=l<10?"0"+l:l;var s=r.getMinutes(),n=r.getSeconds();return s=s<10?"0"+s:s,n=n<10?"0"+n:n,t=="full"?e+"-"+o+"-"+a+" "+l+":"+s+":"+n:t=="y-m-d"?e+"-"+o+"-"+a:t=="h:m"?l+":"+s:t=="h:m:s"?l+":"+s+":"+n:[e,o,a,l,s,n]},Pi={type:["pie","ring","rose","word","funnel","map","arcbar","line","column","mount","bar","area","radar","gauge","candle","mix","tline","tarea","scatter","bubble","demotype"],range:["\u997C\u72B6\u56FE","\u5706\u73AF\u56FE","\u73AB\u7470\u56FE","\u8BCD\u4E91\u56FE","\u6F0F\u6597\u56FE","\u5730\u56FE","\u5706\u5F27\u8FDB\u5EA6\u6761","\u6298\u7EBF\u56FE","\u67F1\u72B6\u56FE","\u5C71\u5CF0\u56FE","\u6761\u72B6\u56FE","\u533A\u57DF\u56FE","\u96F7\u8FBE\u56FE","\u4EEA\u8868\u76D8","K\u7EBF\u56FE","\u6DF7\u5408\u56FE","\u65F6\u95F4\u8F74\u6298\u7EBF","\u65F6\u95F4\u8F74\u533A\u57DF","\u6563\u70B9\u56FE","\u6C14\u6CE1\u56FE","\u81EA\u5B9A\u4E49\u7C7B\u578B"],categories:["line","column","mount","bar","area","radar","gauge","candle","mix","demotype"],instance:{},option:{},formatter:{yAxisDemo1:function(i,t,r){return i+"\u5143"},yAxisDemo2:function(i,t,r){return i.toFixed(2)},xAxisDemo1:function(i,t,r){return i+"\u5E74"},xAxisDemo2:function(i,t,r){return Ti(i,"h:m")},seriesDemo1:function(i,t,r,e){return i+"\u5143"},liuDemo1:function(i,t,r){return i.toFixed(2)},tooltipDemo1:function(i,t,r,e){return r==0?"\u968F\u4FBF\u7528"+i.data+"\u5E74":"\u5176\u4ED6\u6211\u6CA1\u6539"+i.data+"\u5929"},pieDemo:function(i,t,r,e){if(t!==void 0)return r[t].name+"\uFF1A"+r[t].data+"\u5143"}},demotype:{type:"line",color:q,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"curve",width:2}}},pie:{type:"pie",color:q,padding:[5,5,5,5],extra:{pie:{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},ring:{type:"ring",color:q,padding:[5,5,5,5],rotate:!1,dataLabel:!0,legend:{show:!0,position:"right",lineHeight:25},title:{name:"\u6536\u76CA\u7387",fontSize:15,color:"#666666"},subtitle:{name:"70%",fontSize:25,color:"#7cb5ec"},extra:{ring:{ringWidth:30,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},rose:{type:"rose",color:q,padding:[5,5,5,5],legend:{show:!0,position:"left",lineHeight:25},extra:{rose:{type:"area",minRadius:50,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF"}}},word:{type:"word",color:q,extra:{word:{type:"normal",autoColors:!1}}},funnel:{type:"funnel",color:q,padding:[15,15,0,15],extra:{funnel:{activeOpacity:.3,activeWidth:10,border:!0,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right"}}},map:{type:"map",color:q,padding:[0,0,0,0],dataLabel:!0,extra:{map:{border:!0,borderWidth:1,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#F04864",activeFillColor:"#FACC14",activeFillOpacity:1}}},arcbar:{type:"arcbar",color:q,title:{name:"\u767E\u5206\u6BD4",fontSize:25,color:"#00FF00"},subtitle:{name:"\u9ED8\u8BA4\u6807\u9898",fontSize:15,color:"#666666"},extra:{arcbar:{type:"default",width:12,backgroundColor:"#E9E9E9",startAngle:.75,endAngle:.25,gap:2}}},line:{type:"line",color:q,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"straight",width:2,activeType:"hollow"}}},tline:{type:"line",color:q,padding:[15,10,0,15],xAxis:{disableGrid:!1,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{line:{type:"curve",width:2,activeType:"hollow"}}},tarea:{type:"area",color:q,padding:[15,10,0,15],xAxis:{disableGrid:!0,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{area:{type:"curve",opacity:.2,addLine:!0,width:2,gradient:!0,activeType:"hollow"}}},column:{type:"column",color:q,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},legend:{},extra:{column:{type:"group",width:30,activeBgColor:"#000000",activeBgOpacity:.08}}},mount:{type:"mount",color:q,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},legend:{},extra:{mount:{type:"mount",widthRatio:1.5}}},bar:{type:"bar",color:q,padding:[15,30,0,5],xAxis:{boundaryGap:"justify",disableGrid:!1,min:0,axisLine:!1},yAxis:{},legend:{},extra:{bar:{type:"group",width:30,meterBorde:1,meterFillColor:"#FFFFFF",activeBgColor:"#000000",activeBgOpacity:.08}}},area:{type:"area",color:q,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{area:{type:"straight",opacity:.2,addLine:!0,width:2,gradient:!1,activeType:"hollow"}}},radar:{type:"radar",color:q,padding:[5,5,5,5],dataLabel:!1,legend:{show:!0,position:"right",lineHeight:25},extra:{radar:{gridType:"radar",gridColor:"#CCCCCC",gridCount:3,opacity:.2,max:200,labelShow:!0}}},gauge:{type:"gauge",color:q,title:{name:"66Km/H",fontSize:25,color:"#2fc25b",offsetY:50},subtitle:{name:"\u5B9E\u65F6\u901F\u5EA6",fontSize:15,color:"#1890ff",offsetY:-50},extra:{gauge:{type:"default",width:30,labelColor:"#666666",startAngle:.75,endAngle:.25,startNumber:0,endNumber:100,labelFormat:"",splitLine:{fixRadius:0,splitNumber:10,width:30,color:"#FFFFFF",childNumber:5,childWidth:12},pointer:{width:24,color:"auto"}}}},candle:{type:"candle",color:q,padding:[15,15,0,15],enableScroll:!0,enableMarkLine:!0,dataLabel:!1,xAxis:{labelCount:4,itemCount:40,disableGrid:!0,gridColor:"#CCCCCC",gridType:"solid",dashLength:4,scrollShow:!0,scrollAlign:"left",scrollColor:"#A6A6A6",scrollBackgroundColor:"#EFEBEF"},yAxis:{},legend:{},extra:{candle:{color:{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},average:{show:!0,name:["MA5","MA10","MA30"],day:[5,10,20],color:["#1890ff","#2fc25b","#facc14"]}},markLine:{type:"dash",dashLength:5,data:[{value:2150,lineColor:"#f04864",showLabel:!0},{value:2350,lineColor:"#f04864",showLabel:!0}]}}},mix:{type:"mix",color:q,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{disabled:!1,disableGrid:!1,splitNumber:5,gridType:"dash",dashLength:4,gridColor:"#CCCCCC",padding:10,showTitle:!0,data:[]},legend:{},extra:{mix:{column:{width:20}}}},scatter:{type:"scatter",color:q,padding:[15,15,0,15],dataLabel:!1,xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0},yAxis:{disableGrid:!1,gridType:"dash"},legend:{},extra:{scatter:{}}},bubble:{type:"bubble",color:q,padding:[15,15,0,15],xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0,max:250},yAxis:{disableGrid:!1,gridType:"dash",data:[{min:0,max:150}]},legend:{},extra:{bubble:{border:2,opacity:.5}}}},D=Pi;var at=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],Mi={type:["pie","ring","rose","funnel","line","column","area","radar","gauge","candle","demotype"],categories:["line","column","area","radar","gauge","candle","demotype"],instance:{},option:{},formatter:{tooltipDemo1:function(i){let t="";for(let r in i){r==0&&(t+=i[r].axisValueLabel+"\u5E74\u9500\u552E\u989D");let e="--";i[r].data!==null&&(e=i[r].data),t+=`
`+i[r].seriesName+"\uFF1A"+e+" \u4E07\u5143",t+="<br/>"+i[r].marker+i[r].seriesName+"\uFF1A"+e+" \u4E07\u5143"}return t},legendFormat:function(i){return"\u81EA\u5B9A\u4E49\u56FE\u4F8B+"+i},yAxisFormatDemo:function(i,t){return i+"\u5143"},seriesFormatDemo:function(i){return i.name+"\u5E74"+i.value+"\u5143"}},demotype:{color:at},column:{color:at,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"bar",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},line:{color:at,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},area:{color:at,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],areaStyle:{},label:{show:!0,color:"#666666",position:"top"}}},pie:{color:at,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:"50%",label:{show:!0,color:"#666666",position:"top"}}},ring:{color:at,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,color:"#666666",position:"top"},labelLine:{show:!0}}},rose:{color:at,title:{text:""},tooltip:{trigger:"item"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"pie",data:[],radius:"55%",center:["50%","50%"],roseType:"area"}},funnel:{color:at,title:{text:""},tooltip:{trigger:"item",formatter:"{b} : {c}%"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{bordercolor:"#fff",borderwidth:1},emphasis:{label:{fontSize:20}},data:[]}},gauge:{color:at,tooltip:{formatter:"{a} <br/>{b} : {c}%"},seriesTemplate:{name:"\u4E1A\u52A1\u6307\u6807",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5B8C\u6210\u7387"}]}},candle:{xAxis:{data:[]},yAxis:{},color:at,title:{text:""},dataZoom:[{type:"inside",xAxisIndex:[0,1],start:10,end:100},{show:!0,xAxisIndex:[0,1],type:"slider",bottom:10,start:10,end:100}],seriesTemplate:{name:"",type:"k",data:[]}}},W=Mi;var J={},ut=null;function Ft(i={},...t){for(let r in t)for(let e in t[r])t[r].hasOwnProperty(e)&&(i[e]=t[r][e]&&typeof t[r][e]=="object"?Ft(Array.isArray(t[r][e])?[]:{},i[e],t[r][e]):t[r][e]);return i}function Gt(i,t){for(let r in i)i.hasOwnProperty(r)&&i[r]!==null&&typeof i[r]=="object"?Gt(i[r],t):r==="format"&&typeof i[r]=="string"&&(i.formatter=t[i[r]]?t[i[r]]:void 0);return i}var Fi={data(){return{rid:null}},mounted(){ut={top:0,left:0},setTimeout(()=>{this.rid===null&&this.$ownerInstance&&this.$ownerInstance.callMethod("getRenderType")},200)},destroyed(){delete D.option[this.rid],delete D.instance[this.rid],delete W.option[this.rid],delete W.instance[this.rid]},methods:{ecinit(i,t,r,e){let o=JSON.stringify(i.id);this.rid=o,J[o]=this.$ownerInstance||e;let a=JSON.parse(JSON.stringify(i)),l=a.type;l&&W.type.includes(l)?W.option[o]=Ft({},W[l],a):W.option[o]=Ft({},a);let s=a.chartData;if(s){W.option[o].xAxis&&W.option[o].xAxis.type&&W.option[o].xAxis.type==="category"&&(W.option[o].xAxis.data=s.categories),W.option[o].yAxis&&W.option[o].yAxis.type&&W.option[o].yAxis.type==="category"&&(W.option[o].yAxis.data=s.categories),W.option[o].series=[];for(var n=0;n<s.series.length;n++){W.option[o].seriesTemplate=W.option[o].seriesTemplate?W.option[o].seriesTemplate:{};let p=Ft({},W.option[o].seriesTemplate,s.series[n]);W.option[o].series.push(p)}}if(typeof window.echarts=="object")this.newEChart();else{let p=document.createElement("script");p.src="./uni_modules/qiun-data-charts/static/app-plus/echarts.min.js",p.onload=this.newEChart,document.head.appendChild(p)}},ecresize(i,t,r,e){W.instance[this.rid]&&W.instance[this.rid].resize()},newEChart(){let i=this.rid;W.instance[i]===void 0?(W.instance[i]=echarts.init(J[i].$el.children[0]),W.option[i].ontap===!0&&(W.instance[i].on("click",t=>{let r=JSON.parse(JSON.stringify({x:t.event.offsetX,y:t.event.offsetY}));J[i].callMethod("emitMsg",{name:"getIndex",params:{type:"getIndex",event:r,currentIndex:t.dataIndex,value:t.data,seriesName:t.seriesName,id:i}})}),W.instance[i].on("highlight",t=>{J[i].callMethod("emitMsg",{name:"getHighlight",params:{type:"highlight",res:t,id:i}})})),this.updataEChart(i,W.option[i])):this.updataEChart(i,W.option[i])},updataEChart(i,t){if(t=Gt(t,W.formatter),t.tooltip&&(t.tooltip.show=!!t.tooltipShow,t.tooltip.position=this.tooltipPosition(),typeof t.tooltipFormat=="string"&&W.formatter[t.tooltipFormat]&&(t.tooltip.formatter=t.tooltip.formatter?t.tooltip.formatter:W.formatter[t.tooltipFormat])),t.series)for(let r in t.series){let e=t.series[r].linearGradient;e&&(t.series[r].color=new echarts.graphic.LinearGradient(e[0],e[1],e[2],e[3],e[4]))}W.instance[i].setOption(t,t.notMerge),W.instance[i].on("finished",function(){J[i].callMethod("emitMsg",{name:"complete",params:{type:"complete",complete:!0,id:i}}),W.instance[i]&&W.instance[i].off("finished")}),typeof J[i].$el.children[0].clientWidth!="undefined"&&(Math.abs(J[i].$el.children[0].clientWidth-W.instance[i].getWidth())>3||Math.abs(J[i].$el.children[0].clientHeight-W.instance[i].getHeight())>3)&&this.ecresize()},tooltipPosition(){return(i,t,r,e,o)=>{let a=i[0],l=i[1],s=o.viewSize[0],n=o.viewSize[1],p=o.contentSize[0],c=o.contentSize[1],h=a+30,f=l+30;return h+p>s&&(h=a-p-30),f+c>n&&(f=l-c-30),[h,f]}},ucinit(i,t,r,e){if(JSON.stringify(i)==JSON.stringify(t)||!i.canvasId)return;let o=JSON.parse(JSON.stringify(i.canvasId));this.rid=o,J[o]=this.$ownerInstance||e,D.option[o]=JSON.parse(JSON.stringify(i)),D.option[o]=Gt(D.option[o],D.formatter);let a=document.getElementById(o);a&&a.children[0]&&(D.option[o].context=a.children[0].getContext("2d"),D.instance[o]&&D.option[o]&&D.option[o].update===!0?this.updataUChart():setTimeout(()=>{D.option[o].context.restore(),D.option[o].context.save(),this.newUChart()},100))},newUChart(){let i=this.rid;D.instance[i]=new oe(D.option[i]),D.instance[i].addEventListener("renderComplete",()=>{J[i].callMethod("emitMsg",{name:"complete",params:{type:"complete",complete:!0,id:i,opts:D.instance[i].opts}}),D.instance[i].delEventListener("renderComplete")}),D.instance[i].addEventListener("scrollLeft",()=>{J[i].callMethod("emitMsg",{name:"scrollLeft",params:{type:"scrollLeft",scrollLeft:!0,id:i,opts:D.instance[i].opts}})}),D.instance[i].addEventListener("scrollRight",()=>{J[i].callMethod("emitMsg",{name:"scrollRight",params:{type:"scrollRight",scrollRight:!0,id:i,opts:D.instance[i].opts}})})},updataUChart(){let i=this.rid;D.instance[i].updateData(D.option[i])},tooltipDefault(i,t,r,e){if(t){let o=i.data;return typeof i.data=="object"&&(o=i.data.value),t+" "+i.name+":"+o}else return i.properties&&i.properties.name?i.properties.name:i.name+":"+i.data},showTooltip(i,t){let r=D.option[t].tooltipCustom;if(r&&r!==void 0&&r!==null){let e;r.x>=0&&r.y>=0&&(e={x:r.x,y:r.y+10}),D.instance[t].showToolTip(i,{index:r.index,offset:e,textList:r.textList,formatter:(o,a,l,s)=>typeof D.option[t].tooltipFormat=="string"&&D.formatter[D.option[t].tooltipFormat]?D.formatter[D.option[t].tooltipFormat](o,a,l,s):this.tooltipDefault(o,a,l,s)})}else D.instance[t].showToolTip(i,{formatter:(e,o,a,l)=>typeof D.option[t].tooltipFormat=="string"&&D.formatter[D.option[t].tooltipFormat]?D.formatter[D.option[t].tooltipFormat](e,o,a,l):this.tooltipDefault(e,o,a,l)})},tap(i){let t=this.rid,r=D.option[t].ontap,e=D.option[t].tooltipShow,o=D.option[t].tapLegend;if(r==!1)return;let a=null,l=null,s=document.getElementById("UC"+t).getBoundingClientRect(),n={};i.detail.x?n={x:i.detail.x-s.left,y:i.detail.y-s.top+ut.top}:n={x:i.clientX-s.left,y:i.clientY-s.top+ut.top},i.changedTouches=[],i.changedTouches.unshift(n),a=D.instance[t].getCurrentDataIndex(i),l=D.instance[t].getLegendDataIndex(i),o===!0&&D.instance[t].touchLegend(i),e==!0&&this.showTooltip(i,t),J[t].callMethod("emitMsg",{name:"getIndex",params:{type:"getIndex",event:n,currentIndex:a,legendIndex:l,id:t,opts:D.instance[t].opts}})},touchStart(i){let t=this.rid;D.option[t].ontouch!=!1&&(D.option[t].enableScroll===!0&&i.touches.length==1&&D.instance[t].scrollStart(i),J[t].callMethod("emitMsg",{name:"getTouchStart",params:{type:"touchStart",event:i.changedTouches[0],id:t,opts:D.instance[t].opts}}))},touchMove(i){let t=this.rid,r=D.option[t].ontouch;if(r!=!1){if(D.option[t].enableScroll===!0&&i.changedTouches.length==1&&D.instance[t].scroll(i),D.option[t].ontap===!0&&D.option[t].enableScroll===!1&&D.option[t].onmovetip===!0){let e=document.getElementById("UC"+t).getBoundingClientRect(),o={x:i.changedTouches[0].clientX-e.left,y:i.changedTouches[0].clientY-e.top+ut.top};i.changedTouches.unshift(o),D.option[t].tooltipShow===!0&&this.showTooltip(i,t)}r===!0&&D.option[t].enableScroll===!0&&D.option[t].onzoom===!0&&i.changedTouches.length==2&&D.instance[t].dobuleZoom(i),J[t].callMethod("emitMsg",{name:"getTouchMove",params:{type:"touchMove",event:i.changedTouches[0],id:t,opts:D.instance[t].opts}})}},touchEnd(i){let t=this.rid;D.option[t].ontouch!=!1&&(D.option[t].enableScroll===!0&&i.touches.length==0&&D.instance[t].scrollEnd(i),J[t].callMethod("emitMsg",{name:"getTouchEnd",params:{type:"touchEnd",event:i.changedTouches[0],id:t,opts:D.instance[t].opts}}))},mouseDown(i){let t=this.rid;if(D.option[t].onmouse==!1)return;let e=document.getElementById("UC"+t).getBoundingClientRect(),o={};o={x:i.clientX-e.left,y:i.clientY-e.top+ut.top},i.changedTouches=[],i.changedTouches.unshift(o),D.instance[t].scrollStart(i),D.option[t].mousedown=!0,J[t].callMethod("emitMsg",{name:"getTouchStart",params:{type:"mouseDown",event:o,id:t,opts:D.instance[t].opts}})},mouseMove(i){let t=this.rid,r=D.option[t].onmouse,e=D.option[t].tooltipShow;if(r==!1)return;let o=document.getElementById("UC"+t).getBoundingClientRect(),a={};a={x:i.clientX-o.left,y:i.clientY-o.top+ut.top},i.changedTouches=[],i.changedTouches.unshift(a),D.option[t].mousedown?(D.instance[t].scroll(i),J[t].callMethod("emitMsg",{name:"getTouchMove",params:{type:"mouseMove",event:a,id:t,opts:D.instance[t].opts}})):D.instance[t]&&e==!0&&this.showTooltip(i,t)},mouseUp(i){let t=this.rid;if(D.option[t].onmouse==!1)return;let e=document.getElementById("UC"+t).getBoundingClientRect(),o={};o={x:i.clientX-e.left,y:i.clientY-e.top+ut.top},i.changedTouches=[],i.changedTouches.unshift(o),D.instance[t].scrollEnd(i),D.option[t].mousedown=!1,J[t].callMethod("emitMsg",{name:"getTouchEnd",params:{type:"mouseUp",event:o,id:t,opts:D.instance[t].opts}})}}};return fe(Di);})();

__renderjsModules["5516b56b"]=(()=>{var G=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var tt=Object.getOwnPropertyNames;var et=Object.prototype.hasOwnProperty;var it=(e,i)=>{for(var o in i)G(e,o,{get:i[o],enumerable:!0})},ht=(e,i,o,g)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of tt(i))!et.call(e,a)&&a!==o&&G(e,a,{get:()=>i[a],enumerable:!(g=V(i,a))||g.enumerable});return e};var rt=e=>ht(G({},"__esModule",{value:!0}),e);var I=(e,i,o)=>new Promise((g,a)=>{var n=w=>{try{s(o.next(w))}catch(v){a(v)}},f=w=>{try{s(o.throw(w))}catch(v){a(v)}},s=w=>w.done?g(w.value):Promise.resolve(w.value).then(n,f);s((o=o.apply(e,i)).next())});var ft={};it(ft,{default:()=>lt});var l={x:0,y:0},u=1,W=1,P=0,S=[],r={},b={},t={},B="",E=0,h={left:0,right:0,top:0,bottom:0},U={imageStyles:"crop-image",maskStylesList:"crop-mask-block",borderStyles:"crop-border",circleBoxStyles:"crop-circle-box",circleStyles:"crop-circle",gridStylesList:"crop-grid",angleStylesList:"crop-angle"},_=0,z="H5",z="APP",L=1e-6;function F(e,i){return e>0&&i<0?e:e<0&&i>0?i:e>0&&i>0?Math.min(e,i):0}function d(e){var i=parseFloat(e.toFixed(6));return i===L||i===-L?0:i}function ot(e,i){return Math.abs(e-i)<=L}function O(e,i){var o=e-i;return o<0?o<-L:o<L}function k(e,i,o,g,a,n){if(typeof i=="number"){if(o&&ot(i,a)){var f=d(i*n);return f<=g?f:g}return i}return e}function C(e){if(typeof e=="string")return e;var i="";for(let o in e)i+=o+":"+e[o]+";";return i}function M(e,i,o){if(z==="APP")if(Object.prototype.toString.call(o)==="[object Array]")for(var g=0,a=o.length;g<a;g++){var n=window.document.getElementById(U[i]+"-"+(g+1));n&&(n.style=C(o[g]))}else{var n=window.document.getElementById(U[i]);n&&(n.style=C(o))}z==="H5"&&(e[i]=o)}function at(e,i,o){z==="APP"&&e.callMethod(i,o),z==="H5"&&e[i](o)}function Y(e){var i=e[1].pageX-e[0].pageX,o=e[1].pageY-e[0].pageY,g=Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),a=e[1].pageX-i/2,n=e[1].pageY-o/2;return{c:g,x:a,y:n}}function $(e,i,o,g){return d(g?Math.max(Math.min(e,i),o):Math.min(Math.max(e,i),o))}function x(e,i,o){var g=d((r.height-r.width)/2);return{x:$(e.x,-r.height+g+t.width+t.left,t.left+g,i),y:$(e.y,-r.width-g+t.height+t.top,t.top-g,o)}}function nt(e){var i=P/90%2;if(i===1){if(t.width===t.height)return x(e,r.height<t.height,r.width<t.width);var o=r.height<t.width&&r.width<t.height;if(r.width<t.height||r.height<t.width){if(t.width<t.height&&r.width<r.height)return o?x(e,t.width<t.height,t.width<t.height):x(e,!1,!0);if(t.height<t.width&&r.height<r.width)return o?x(e,t.height<t.width,t.height<t.width):x(e,!0,!1)}return r.height>=t.width&&r.width>=t.height?x(e,!1,!1):o?t.height<t.width?x(e,!0,!0):x(e,t.width<t.height,t.width<t.height):r.height<t.width&&!r.width<t.height?x(e,!0,!1):!r.height<t.width&&r.width<t.height?x(e,!1,!0):x(e,r.height<t.height,r.width<t.width)}return{x:$(e.x,-r.width+t.width+t.left,t.left,r.width<t.width),y:$(e.y,-r.height+t.height+t.top,t.top,r.height<t.height)}}function H(e){if(l.x+=e.x||0,l.y+=e.y||0,e.check&&t.checkRange){var i=nt(l);(l.x!==i.x||l.y!==i.y)&&(l=i)}var o=(r.width-r.oldWidth)/2,g=(r.height-r.oldHeight)/2;M(e.instance,"imageStyles",{width:r.oldWidth+"px",height:r.oldHeight+"px",transform:(r.gpu?"translateZ(0) ":"")+"translate("+(l.x+o)+"px, "+(l.y+g)+"px) rotate("+P+"deg) scale("+u+")"}),at(e.instance,"dataChange",{width:r.width,height:r.height,x:l.x,y:l.y,rotate:P})}function Z(e){if(M(e.instance,"maskStylesList",[{left:0,width:t.left+h.left+"px",top:0,bottom:0,"z-index":t.zIndex+2},{left:t.right+h.right+"px",right:0,top:0,bottom:0,"z-index":t.zIndex+2},{left:t.left+h.left+"px",width:t.width+h.right-h.left+"px",top:0,height:t.top+h.top+"px","z-index":t.zIndex+2},{left:t.left+h.left+"px",width:t.width+h.right-h.left+"px",top:t.bottom+h.bottom+"px",bottom:0,"z-index":t.zIndex+2}]),t.showBorder&&M(e.instance,"borderStyles",{left:t.left+h.left+"px",top:t.top+h.top+"px",width:t.width+h.right-h.left+"px",height:t.height+h.bottom-h.top+"px","z-index":t.zIndex+3}),t.showGrid&&M(e.instance,"gridStylesList",[{"border-width":"1px 0 0 0",left:t.left+h.left+"px",right:t.right+h.right+"px",top:t.top+h.top+(t.height+h.bottom-h.top)/3-.5+"px",width:t.width+h.right-h.left+"px","z-index":t.zIndex+3},{"border-width":"1px 0 0 0",left:t.left+h.left+"px",right:t.right+h.right+"px",top:t.top+h.top+(t.height+h.bottom-h.top)*2/3-.5+"px",width:t.width+h.right-h.left+"px","z-index":t.zIndex+3},{"border-width":"0 1px 0 0",top:t.top+h.top+"px",bottom:t.bottom+h.bottom+"px",left:t.left+h.left+(t.width+h.right-h.left)/3-.5+"px",height:t.height+h.bottom-h.top+"px","z-index":t.zIndex+3},{"border-width":"0 1px 0 0",top:t.top+h.top+"px",bottom:t.bottom+h.bottom+"px",left:t.left+h.left+(t.width+h.right-h.left)*2/3-.5+"px",height:t.height+h.bottom-h.top+"px","z-index":t.zIndex+3}]),t.showAngle&&M(e.instance,"angleStylesList",[{"border-width":t.angleBorderWidth+"px 0 0 "+t.angleBorderWidth+"px",left:t.left+h.left-t.angleBorderWidth+"px",top:t.top+h.top-t.angleBorderWidth+"px","z-index":t.zIndex+3},{"border-width":t.angleBorderWidth+"px "+t.angleBorderWidth+"px 0 0",left:t.right+h.right-t.angleSize+"px",top:t.top+h.top-t.angleBorderWidth+"px","z-index":t.zIndex+3},{"border-width":"0 0 "+t.angleBorderWidth+"px "+t.angleBorderWidth+"px",left:t.left+h.left-t.angleBorderWidth+"px",top:t.bottom+h.bottom-t.angleSize+"px","z-index":t.zIndex+3},{"border-width":"0 "+t.angleBorderWidth+"px "+t.angleBorderWidth+"px 0",left:t.right+h.right-t.angleSize+"px",top:t.bottom+h.bottom-t.angleSize+"px","z-index":t.zIndex+3}]),t.radius>0){var i=t.radius;t.width===t.height&&t.radius>=t.width/2?i=t.width/2:t.width!==t.height&&(i=Math.min(t.width/2,t.height/2,i)),M(e.instance,"circleBoxStyles",{left:t.left+h.left+"px",top:t.top+h.top+"px",width:t.width+h.right-h.left+"px",height:t.height+h.bottom-h.top+"px","z-index":t.zIndex+2}),M(e.instance,"circleStyles",{"box-shadow":"0 0 0 "+Math.max(t.width,t.height)+"px rgba(51, 51, 51, 0.8)","border-radius":i+"px"})}}function q(e){var i=u;return u=Math.min(Math.max(e.scale+u,W),r.maxScale),i!==u?(r.width=d(r.oldWidth*u),r.height=d(r.oldHeight*u),e.x=d((e.x-l.x)*(1-u/i)),e.y=d((e.y-l.y)*(1-u/i)),H(e),!0):!1}function gt(e,i){var o=t.angleBorderWidth,g=b.navigation?0:b.windowTop;if(i>=t.top-o+g&&i<=t.top+t.angleSize+o+g){if(e>=t.left-o&&e<=t.left+t.angleSize+o)return 1;if(e>=t.right-t.angleSize-o&&e<=t.right+o)return 2}else if(i>=t.bottom-t.angleSize-o+g&&i<=t.bottom+o+g){if(e>=t.left-o&&e<=t.left+t.angleSize+o)return 3;if(e>=t.right-t.angleSize-o&&e<=t.right+o)return 4}return 0}function dt(){l={x:0,y:0},u=1,W=r.minScale,P=0}function J(e){for(var i=[],o=e?e.length:0,g=0;g<o;g++)i[g]={pageX:e[g].pageX,pageY:e[g].pageY+b.windowTop};return i}var D=!1,K={data(){return{imageStyles:{},maskStylesList:[{},{},{},{}],borderStyles:{},gridStylesList:[{},{},{},{}],angleStylesList:[{},{},{},{}],circleBoxStyles:{},circleStyles:{}}},created(){z==="H5"&&window.addEventListener("mousewheel",e=>I(this,null,function*(){var i=J([e]);r.src&&q({instance:yield this.getInstance(),check:!0,scale:e.deltaY>0?-.05:.05,x:i[0].pageX,y:i[0].pageY})}))},mounted(){z==="H5"&&this.initH5Events()},setPlatform(e){z=e},methods:{getTouchEvent(e){return e.touches=[{pageX:e.pageX,pageY:e.pageY}],e},initH5Events(){let e=document.getElementById("pic-preview");e==null||e.addEventListener("mousedown",(i,o)=>{D=!0,this.touchstart(this.getTouchEvent(i))}),e==null||e.addEventListener("mousemove",i=>{D&&this.touchmove(this.getTouchEvent(i))}),e==null||e.addEventListener("mouseup",i=>{D=!1,this.touchend(this.getTouchEvent(i))}),e==null||e.addEventListener("mouseleave",i=>{D=!1,this.touchend(this.getTouchEvent(i))})},getInstance(){return I(this,null,function*(){if(z==="APP")return this.$ownerInstance?Promise.resolve(this.$ownerInstance):new Promise(e=>{setTimeout(()=>I(this,null,function*(){e(yield this.getInstance())}))});if(z==="H5")return Promise.resolve(this)})},initObserver:function(e,i,o,g){return I(this,null,function*(){if(e&&(!r.src||_!==e.timestamp)){_=e.timestamp,r=e.img,b=e.sys,t=e.area,W=r.minScale,dt();let a=yield this.getInstance();r.src&&H({instance:a,x:(b.windowWidth-r.width)/2,y:(b.windowHeight+b.windowTop-b.offsetBottom-r.height)/2}),Z({instance:a})}})},mousewheel:function(e,i){},touchstart:function(e,i){r.src&&(S=J(e.touches),E=t.showAngle?gt(S[0].pageX,S[0].pageY):0,S.length===1&&E!==0?B="stretch":B="")},touchmove:function(e,i){return I(this,null,function*(){if(r.src){if(e.touches=J(e.touches),B==="stretch"){var o=e.touches[0],g=S[0],a=o.pageX-g.pageX,n=o.pageY-g.pageY;if(a!==0||n!==0){var f=d(t.width*(1-t.minScale)),s=d(t.height*(1-t.minScale));S[0]=o;var w=P/90%2,v=w===1?d((r.height-r.width)/2):0,N=O(w===1?r.height:r.width,t.width),Q=O(w===1?r.width:r.height,t.height),y=N&&Q,A=t.checkRange&&(N||Q),R=!y||d((l.x-t.left)/t.width)<=d((l.y-t.top)/t.height)||t.width>t.height&&r.width<r.height&&w===1;switch(E){case 1:if(a=d(a+h.left),n=d(n+h.top),a>=0&&n>=0){var c=d(l.y+v-t.top),p=d(l.x-v-t.left),m=A&&(p>=0||c>=0)?F(c,p):!1;a>n&&R?(f=k(f,m,y,p,c,t.width/t.height),a>f&&(a=f),n=d(a*t.height/t.width)):(s=k(s,m,y,c,p,t.height/t.width),n>s&&(n=s),a=d(n*t.width/t.height)),h.left=a,h.top=n}break;case 2:if(a=d(a+h.right),n=d(n+h.top),a<=0&&n>=0){var T=w===1?r.height:r.width,c=d(l.y+v-t.top),p=d(t.right+v-l.x-T),m=A&&(c>=0||p>=0)?F(c,p):!1;-a>n&&R?(f=k(f,m,y,p,c,t.width/t.height),-a>f&&(a=-f),n=d(-a*t.height/t.width)):(s=k(s,m,y,c,p,t.height/t.width),n>s&&(n=s),a=d(-n*t.width/t.height)),h.right=a,h.top=n}break;case 3:if(a+=d(a+h.left),n+=d(n+h.bottom),a>=0&&n<=0){var T=w===1?r.width:r.height,c=d(t.bottom-v-l.y-T),p=d(l.x-v-t.left),m=A&&(p>=0||c>=0)?F(c,p):!1;a>-n&&R?(f=k(f,m,y,p,c,t.width/t.height),a>f&&(a=f),n=d(-a*t.height/t.width)):(s=k(s,m,y,c,p,t.height/t.width),-n>s&&(n=-s),a=d(-n*t.width/t.height)),h.left=a,h.bottom=n}break;case 4:if(a=d(a+h.right),n=d(n+h.bottom),a<=0&&n<=0){var T=w===1?r.height:r.width,X=w===1?r.width:r.height,c=d(t.bottom-l.y-X-v),p=d(t.right+v-l.x-T),m=A&&(p>=0||c>=0)?F(c,p):!1;-a>-n&&R?(f=k(f,m,y,p,c,t.width/t.height),-a>f&&(a=-f),n=d(a*t.height/t.width)):(s=k(s,m,y,c,p,t.height/t.width),-n>s&&(n=-s),a=d(n*t.width/t.height)),h.right=a,h.bottom=n}break}Z({instance:yield this.getInstance()})}}else if(e.touches.length==2){var g=Y(S),j=Y(e.touches);q({instance:yield this.getInstance(),check:!t.bounce,scale:(j.c-g.c)/100,x:j.x,y:j.y}),B="scale"}else B==="scale"||H({instance:yield this.getInstance(),check:!t.bounce,x:e.touches[0].pageX-S[0].pageX,y:e.touches[0].pageY-S[0].pageY}),B="move";S=e.touches}})},touchend:function(e,i){return I(this,null,function*(){if(r.src)if(B==="stretch"){var o=h.left,g=h.right,a=h.top,n=h.bottom,f=t.width+g-o,s=t.height+n-a,w=u*(t.width/f)-u;h={left:0,right:0,top:0,bottom:0},Z({instance:yield this.getInstance()}),q({instance:yield this.getInstance(),scale:w,x:t.left+o+(E===1||E===3?f:0),y:t.top+a+(E===1||E===2?s:0)})}else t.bounce&&H({instance:yield this.getInstance(),check:!0})})},rotateImage:function(e){return I(this,null,function*(){P=(P+(e||90))%360,r.minScale>=1&&t.checkRange&&(W=1,r.width<t.height?W=t.height/r.oldWidth:r.height<t.width&&(W=t.width/r.oldHeight),W!==1&&q({instance:yield this.getInstance(),scale:W-u,x:b.windowWidth/2,y:(b.windowHeight-b.offsetBottom)/2}));var i=(l.x+r.width-t.right-(t.left-l.x))/2,o=(l.y+r.height-t.bottom-(t.top-l.y))/2;H({instance:yield this.getInstance(),check:!0,x:-i-o,y:-o+i})})},rotateImage90:function(){this.rotateImage(90)},rotateImage270:function(){this.rotateImage(270)}}};K.setPlatform("APP");var lt={mixins:[K]};return rt(ft);})();

__renderjsModules["2ddcb8d4"]=(()=>{var G=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var tt=Object.getOwnPropertyNames;var et=Object.prototype.hasOwnProperty;var it=(e,i)=>{for(var o in i)G(e,o,{get:i[o],enumerable:!0})},ht=(e,i,o,g)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of tt(i))!et.call(e,a)&&a!==o&&G(e,a,{get:()=>i[a],enumerable:!(g=V(i,a))||g.enumerable});return e};var rt=e=>ht(G({},"__esModule",{value:!0}),e);var I=(e,i,o)=>new Promise((g,a)=>{var n=w=>{try{s(o.next(w))}catch(v){a(v)}},f=w=>{try{s(o.throw(w))}catch(v){a(v)}},s=w=>w.done?g(w.value):Promise.resolve(w.value).then(n,f);s((o=o.apply(e,i)).next())});var ft={};it(ft,{default:()=>lt});var l={x:0,y:0},u=1,W=1,P=0,S=[],r={},b={},t={},B="",E=0,h={left:0,right:0,top:0,bottom:0},U={imageStyles:"crop-image",maskStylesList:"crop-mask-block",borderStyles:"crop-border",circleBoxStyles:"crop-circle-box",circleStyles:"crop-circle",gridStylesList:"crop-grid",angleStylesList:"crop-angle"},_=0,z="H5",z="APP",L=1e-6;function F(e,i){return e>0&&i<0?e:e<0&&i>0?i:e>0&&i>0?Math.min(e,i):0}function d(e){var i=parseFloat(e.toFixed(6));return i===L||i===-L?0:i}function ot(e,i){return Math.abs(e-i)<=L}function O(e,i){var o=e-i;return o<0?o<-L:o<L}function k(e,i,o,g,a,n){if(typeof i=="number"){if(o&&ot(i,a)){var f=d(i*n);return f<=g?f:g}return i}return e}function C(e){if(typeof e=="string")return e;var i="";for(let o in e)i+=o+":"+e[o]+";";return i}function M(e,i,o){if(z==="APP")if(Object.prototype.toString.call(o)==="[object Array]")for(var g=0,a=o.length;g<a;g++){var n=window.document.getElementById(U[i]+"-"+(g+1));n&&(n.style=C(o[g]))}else{var n=window.document.getElementById(U[i]);n&&(n.style=C(o))}z==="H5"&&(e[i]=o)}function at(e,i,o){z==="APP"&&e.callMethod(i,o),z==="H5"&&e[i](o)}function Y(e){var i=e[1].pageX-e[0].pageX,o=e[1].pageY-e[0].pageY,g=Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),a=e[1].pageX-i/2,n=e[1].pageY-o/2;return{c:g,x:a,y:n}}function $(e,i,o,g){return d(g?Math.max(Math.min(e,i),o):Math.min(Math.max(e,i),o))}function x(e,i,o){var g=d((r.height-r.width)/2);return{x:$(e.x,-r.height+g+t.width+t.left,t.left+g,i),y:$(e.y,-r.width-g+t.height+t.top,t.top-g,o)}}function nt(e){var i=P/90%2;if(i===1){if(t.width===t.height)return x(e,r.height<t.height,r.width<t.width);var o=r.height<t.width&&r.width<t.height;if(r.width<t.height||r.height<t.width){if(t.width<t.height&&r.width<r.height)return o?x(e,t.width<t.height,t.width<t.height):x(e,!1,!0);if(t.height<t.width&&r.height<r.width)return o?x(e,t.height<t.width,t.height<t.width):x(e,!0,!1)}return r.height>=t.width&&r.width>=t.height?x(e,!1,!1):o?t.height<t.width?x(e,!0,!0):x(e,t.width<t.height,t.width<t.height):r.height<t.width&&!r.width<t.height?x(e,!0,!1):!r.height<t.width&&r.width<t.height?x(e,!1,!0):x(e,r.height<t.height,r.width<t.width)}return{x:$(e.x,-r.width+t.width+t.left,t.left,r.width<t.width),y:$(e.y,-r.height+t.height+t.top,t.top,r.height<t.height)}}function H(e){if(l.x+=e.x||0,l.y+=e.y||0,e.check&&t.checkRange){var i=nt(l);(l.x!==i.x||l.y!==i.y)&&(l=i)}var o=(r.width-r.oldWidth)/2,g=(r.height-r.oldHeight)/2;M(e.instance,"imageStyles",{width:r.oldWidth+"px",height:r.oldHeight+"px",transform:(r.gpu?"translateZ(0) ":"")+"translate("+(l.x+o)+"px, "+(l.y+g)+"px) rotate("+P+"deg) scale("+u+")"}),at(e.instance,"dataChange",{width:r.width,height:r.height,x:l.x,y:l.y,rotate:P})}function Z(e){if(M(e.instance,"maskStylesList",[{left:0,width:t.left+h.left+"px",top:0,bottom:0,"z-index":t.zIndex+2},{left:t.right+h.right+"px",right:0,top:0,bottom:0,"z-index":t.zIndex+2},{left:t.left+h.left+"px",width:t.width+h.right-h.left+"px",top:0,height:t.top+h.top+"px","z-index":t.zIndex+2},{left:t.left+h.left+"px",width:t.width+h.right-h.left+"px",top:t.bottom+h.bottom+"px",bottom:0,"z-index":t.zIndex+2}]),t.showBorder&&M(e.instance,"borderStyles",{left:t.left+h.left+"px",top:t.top+h.top+"px",width:t.width+h.right-h.left+"px",height:t.height+h.bottom-h.top+"px","z-index":t.zIndex+3}),t.showGrid&&M(e.instance,"gridStylesList",[{"border-width":"1px 0 0 0",left:t.left+h.left+"px",right:t.right+h.right+"px",top:t.top+h.top+(t.height+h.bottom-h.top)/3-.5+"px",width:t.width+h.right-h.left+"px","z-index":t.zIndex+3},{"border-width":"1px 0 0 0",left:t.left+h.left+"px",right:t.right+h.right+"px",top:t.top+h.top+(t.height+h.bottom-h.top)*2/3-.5+"px",width:t.width+h.right-h.left+"px","z-index":t.zIndex+3},{"border-width":"0 1px 0 0",top:t.top+h.top+"px",bottom:t.bottom+h.bottom+"px",left:t.left+h.left+(t.width+h.right-h.left)/3-.5+"px",height:t.height+h.bottom-h.top+"px","z-index":t.zIndex+3},{"border-width":"0 1px 0 0",top:t.top+h.top+"px",bottom:t.bottom+h.bottom+"px",left:t.left+h.left+(t.width+h.right-h.left)*2/3-.5+"px",height:t.height+h.bottom-h.top+"px","z-index":t.zIndex+3}]),t.showAngle&&M(e.instance,"angleStylesList",[{"border-width":t.angleBorderWidth+"px 0 0 "+t.angleBorderWidth+"px",left:t.left+h.left-t.angleBorderWidth+"px",top:t.top+h.top-t.angleBorderWidth+"px","z-index":t.zIndex+3},{"border-width":t.angleBorderWidth+"px "+t.angleBorderWidth+"px 0 0",left:t.right+h.right-t.angleSize+"px",top:t.top+h.top-t.angleBorderWidth+"px","z-index":t.zIndex+3},{"border-width":"0 0 "+t.angleBorderWidth+"px "+t.angleBorderWidth+"px",left:t.left+h.left-t.angleBorderWidth+"px",top:t.bottom+h.bottom-t.angleSize+"px","z-index":t.zIndex+3},{"border-width":"0 "+t.angleBorderWidth+"px "+t.angleBorderWidth+"px 0",left:t.right+h.right-t.angleSize+"px",top:t.bottom+h.bottom-t.angleSize+"px","z-index":t.zIndex+3}]),t.radius>0){var i=t.radius;t.width===t.height&&t.radius>=t.width/2?i=t.width/2:t.width!==t.height&&(i=Math.min(t.width/2,t.height/2,i)),M(e.instance,"circleBoxStyles",{left:t.left+h.left+"px",top:t.top+h.top+"px",width:t.width+h.right-h.left+"px",height:t.height+h.bottom-h.top+"px","z-index":t.zIndex+2}),M(e.instance,"circleStyles",{"box-shadow":"0 0 0 "+Math.max(t.width,t.height)+"px rgba(51, 51, 51, 0.8)","border-radius":i+"px"})}}function q(e){var i=u;return u=Math.min(Math.max(e.scale+u,W),r.maxScale),i!==u?(r.width=d(r.oldWidth*u),r.height=d(r.oldHeight*u),e.x=d((e.x-l.x)*(1-u/i)),e.y=d((e.y-l.y)*(1-u/i)),H(e),!0):!1}function gt(e,i){var o=t.angleBorderWidth,g=b.navigation?0:b.windowTop;if(i>=t.top-o+g&&i<=t.top+t.angleSize+o+g){if(e>=t.left-o&&e<=t.left+t.angleSize+o)return 1;if(e>=t.right-t.angleSize-o&&e<=t.right+o)return 2}else if(i>=t.bottom-t.angleSize-o+g&&i<=t.bottom+o+g){if(e>=t.left-o&&e<=t.left+t.angleSize+o)return 3;if(e>=t.right-t.angleSize-o&&e<=t.right+o)return 4}return 0}function dt(){l={x:0,y:0},u=1,W=r.minScale,P=0}function J(e){for(var i=[],o=e?e.length:0,g=0;g<o;g++)i[g]={pageX:e[g].pageX,pageY:e[g].pageY+b.windowTop};return i}var D=!1,K={data(){return{imageStyles:{},maskStylesList:[{},{},{},{}],borderStyles:{},gridStylesList:[{},{},{},{}],angleStylesList:[{},{},{},{}],circleBoxStyles:{},circleStyles:{}}},created(){z==="H5"&&window.addEventListener("mousewheel",e=>I(this,null,function*(){var i=J([e]);r.src&&q({instance:yield this.getInstance(),check:!0,scale:e.deltaY>0?-.05:.05,x:i[0].pageX,y:i[0].pageY})}))},mounted(){z==="H5"&&this.initH5Events()},setPlatform(e){z=e},methods:{getTouchEvent(e){return e.touches=[{pageX:e.pageX,pageY:e.pageY}],e},initH5Events(){let e=document.getElementById("pic-preview");e==null||e.addEventListener("mousedown",(i,o)=>{D=!0,this.touchstart(this.getTouchEvent(i))}),e==null||e.addEventListener("mousemove",i=>{D&&this.touchmove(this.getTouchEvent(i))}),e==null||e.addEventListener("mouseup",i=>{D=!1,this.touchend(this.getTouchEvent(i))}),e==null||e.addEventListener("mouseleave",i=>{D=!1,this.touchend(this.getTouchEvent(i))})},getInstance(){return I(this,null,function*(){if(z==="APP")return this.$ownerInstance?Promise.resolve(this.$ownerInstance):new Promise(e=>{setTimeout(()=>I(this,null,function*(){e(yield this.getInstance())}))});if(z==="H5")return Promise.resolve(this)})},initObserver:function(e,i,o,g){return I(this,null,function*(){if(e&&(!r.src||_!==e.timestamp)){_=e.timestamp,r=e.img,b=e.sys,t=e.area,W=r.minScale,dt();let a=yield this.getInstance();r.src&&H({instance:a,x:(b.windowWidth-r.width)/2,y:(b.windowHeight+b.windowTop-b.offsetBottom-r.height)/2}),Z({instance:a})}})},mousewheel:function(e,i){},touchstart:function(e,i){r.src&&(S=J(e.touches),E=t.showAngle?gt(S[0].pageX,S[0].pageY):0,S.length===1&&E!==0?B="stretch":B="")},touchmove:function(e,i){return I(this,null,function*(){if(r.src){if(e.touches=J(e.touches),B==="stretch"){var o=e.touches[0],g=S[0],a=o.pageX-g.pageX,n=o.pageY-g.pageY;if(a!==0||n!==0){var f=d(t.width*(1-t.minScale)),s=d(t.height*(1-t.minScale));S[0]=o;var w=P/90%2,v=w===1?d((r.height-r.width)/2):0,N=O(w===1?r.height:r.width,t.width),Q=O(w===1?r.width:r.height,t.height),y=N&&Q,A=t.checkRange&&(N||Q),R=!y||d((l.x-t.left)/t.width)<=d((l.y-t.top)/t.height)||t.width>t.height&&r.width<r.height&&w===1;switch(E){case 1:if(a=d(a+h.left),n=d(n+h.top),a>=0&&n>=0){var c=d(l.y+v-t.top),p=d(l.x-v-t.left),m=A&&(p>=0||c>=0)?F(c,p):!1;a>n&&R?(f=k(f,m,y,p,c,t.width/t.height),a>f&&(a=f),n=d(a*t.height/t.width)):(s=k(s,m,y,c,p,t.height/t.width),n>s&&(n=s),a=d(n*t.width/t.height)),h.left=a,h.top=n}break;case 2:if(a=d(a+h.right),n=d(n+h.top),a<=0&&n>=0){var T=w===1?r.height:r.width,c=d(l.y+v-t.top),p=d(t.right+v-l.x-T),m=A&&(c>=0||p>=0)?F(c,p):!1;-a>n&&R?(f=k(f,m,y,p,c,t.width/t.height),-a>f&&(a=-f),n=d(-a*t.height/t.width)):(s=k(s,m,y,c,p,t.height/t.width),n>s&&(n=s),a=d(-n*t.width/t.height)),h.right=a,h.top=n}break;case 3:if(a+=d(a+h.left),n+=d(n+h.bottom),a>=0&&n<=0){var T=w===1?r.width:r.height,c=d(t.bottom-v-l.y-T),p=d(l.x-v-t.left),m=A&&(p>=0||c>=0)?F(c,p):!1;a>-n&&R?(f=k(f,m,y,p,c,t.width/t.height),a>f&&(a=f),n=d(-a*t.height/t.width)):(s=k(s,m,y,c,p,t.height/t.width),-n>s&&(n=-s),a=d(-n*t.width/t.height)),h.left=a,h.bottom=n}break;case 4:if(a=d(a+h.right),n=d(n+h.bottom),a<=0&&n<=0){var T=w===1?r.height:r.width,X=w===1?r.width:r.height,c=d(t.bottom-l.y-X-v),p=d(t.right+v-l.x-T),m=A&&(p>=0||c>=0)?F(c,p):!1;-a>-n&&R?(f=k(f,m,y,p,c,t.width/t.height),-a>f&&(a=-f),n=d(a*t.height/t.width)):(s=k(s,m,y,c,p,t.height/t.width),-n>s&&(n=-s),a=d(n*t.width/t.height)),h.right=a,h.bottom=n}break}Z({instance:yield this.getInstance()})}}else if(e.touches.length==2){var g=Y(S),j=Y(e.touches);q({instance:yield this.getInstance(),check:!t.bounce,scale:(j.c-g.c)/100,x:j.x,y:j.y}),B="scale"}else B==="scale"||H({instance:yield this.getInstance(),check:!t.bounce,x:e.touches[0].pageX-S[0].pageX,y:e.touches[0].pageY-S[0].pageY}),B="move";S=e.touches}})},touchend:function(e,i){return I(this,null,function*(){if(r.src)if(B==="stretch"){var o=h.left,g=h.right,a=h.top,n=h.bottom,f=t.width+g-o,s=t.height+n-a,w=u*(t.width/f)-u;h={left:0,right:0,top:0,bottom:0},Z({instance:yield this.getInstance()}),q({instance:yield this.getInstance(),scale:w,x:t.left+o+(E===1||E===3?f:0),y:t.top+a+(E===1||E===2?s:0)})}else t.bounce&&H({instance:yield this.getInstance(),check:!0})})},rotateImage:function(e){return I(this,null,function*(){P=(P+(e||90))%360,r.minScale>=1&&t.checkRange&&(W=1,r.width<t.height?W=t.height/r.oldWidth:r.height<t.width&&(W=t.width/r.oldHeight),W!==1&&q({instance:yield this.getInstance(),scale:W-u,x:b.windowWidth/2,y:(b.windowHeight-b.offsetBottom)/2}));var i=(l.x+r.width-t.right-(t.left-l.x))/2,o=(l.y+r.height-t.bottom-(t.top-l.y))/2;H({instance:yield this.getInstance(),check:!0,x:-i-o,y:-o+i})})},rotateImage90:function(){this.rotateImage(90)},rotateImage270:function(){this.rotateImage(270)}}};K.setPlatform("APP");var lt={mixins:[K]};return rt(ft);})();
